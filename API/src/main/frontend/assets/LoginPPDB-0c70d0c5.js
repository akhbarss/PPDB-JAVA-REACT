import{p as h,r as l,q as g,b as f,g as j,j as e,t as v,P as w,B as u,v as S,S as b,w as k,i as L,L as c,h as N,I as P,_ as y}from"./index-ad304ebb.js";import{S as _}from"./SideAuthLayout-76eb151b.js";import{R as I}from"./ResponseError-0a0ec564.js";import{P as B}from"./PasswordInput-c92dfbb6.js";const C=async t=>(await h.post("/v1/auth/login",t)).data,W=()=>{const[t,o]=l.useState(""),[n,m]=l.useState(""),i=g({mutationFn:C}),{md:r}=f(),p=j(),x=s=>{i.mutate(s,{onSuccess:a=>{y.success("Sukses Login!"),localStorage.setItem("_TuVbwpW",a.data.access_token),localStorage.setItem("_RuvTpQv",a.data.refresh_token),p("/ppdb/main/home")},onError:a=>I(a)})},d=s=>{s.preventDefault(),x({username:t,password:n})};return e.jsxs(v,{title:"Login",children:[e.jsxs(w,{pt:`${r?0:"70px"}`,className:"flex  min-h-[100vh]",children:[e.jsx(u,{className:"flex-[2] p-[0_1rem_] flex flex-col overflow-y-auto min-h-[87vh]  items-center",children:e.jsxs(u,{w:`${r?"30rem":"20rem"}`,className:"py-[2rem] mx-auto mt-20 ",children:[e.jsx(S,{align:"center",children:"Login"}),e.jsx("form",{onSubmit:d,className:"mt-10",children:e.jsxs(b,{children:[e.jsx(k,{withAsterisk:!0,label:"Nomor Whatsapp",required:!0,value:t,onChange:s=>o(s.target.value)}),e.jsx(B,{withAsterisk:!0,label:"Password",required:!0,value:n,onChange:s=>m(s.target.value)}),e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",flexDirection:`${r?"row":"column"}`},children:[e.jsx(c,{to:"/ppdb/auth/register",className:"text-[#103C6F] text-center",children:"Belum punya akun? daftar"}),e.jsx(c,{to:"https://wa.me/6281380908008",className:"text-[#103C6F] text-center",children:"Lupa Password?"})]}),e.jsx(N,{type:"submit",loading:i.status==="pending",children:"Login"})]})})]})}),e.jsx(_,{})]}),e.jsx(P,{position:"top-center",reverseOrder:!1})]})};export{W as default};
