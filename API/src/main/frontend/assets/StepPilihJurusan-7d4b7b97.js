import{t as L,x as wr,y as Z,R as j,$ as In,V as st,as as Fn,at as Lt,e as h,E as _r,X as An,W as Rn,Y as it,au as $n,av as zn,af as Lr,Z as lt,aw as Tr,ax as Mn,ay as Ln,az as Tn,aA as Nn,a as Tt,j as a,a7 as ct,aB as Bn,aC as Vn,B as ve,d as k,ak as Nt,aD as Kn,f as jr,G as qr,aE as qn,T as fr,aF as Hn,r as ke,q as Wn,ar as Sr,b as he,aG as Un,k as Dr,P as Or,a2 as Bt,S as Ke,K as Yr,a6 as Ve,w as Vt,_ as qe,p as Gn,aH as He,aI as We,aJ as ut,aK as dt,aL as w,aM as Jn,aN as Qn,aO as Yn,aP as Xn,aQ as Zn,aR as ea,aq as Hr,Q as ra,ao as ta,al as na,am as aa,an as oa,I as Kt,aS as sa,n as ur,aT as ia,D as la,l as ca,a4 as ua,C as da,aU as pa,aV as fa}from"./index-21f1c136.js";import{R as kr}from"./ResponseError-040dbf2a.js";import{F as ga}from"./FormWrapper-e88946a9.js";function pt(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}const qt={xs:L(16),sm:L(22),md:L(26),lg:L(30),xl:L(36)},ma={xs:L(10),sm:L(12),md:L(14),lg:L(16),xl:L(18)};var va=wr((e,{disabled:r,radius:t,readOnly:n},{size:o,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:r?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:r?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:Z({size:o,sizes:qt}),paddingLeft:`calc(${Z({size:o,sizes:e.spacing})} / 1.5)`,paddingRight:r||n?Z({size:o,sizes:e.spacing}):0,fontWeight:500,fontSize:Z({size:o,sizes:ma}),borderRadius:Z({size:t,sizes:e.radius}),cursor:r?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${L(10)})`},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${Z({size:o,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const ha=va;var ba=Object.defineProperty,gr=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,ft=(e,r,t)=>r in e?ba(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ya=(e,r)=>{for(var t in r||(r={}))Ht.call(r,t)&&ft(e,t,r[t]);if(gr)for(var t of gr(r))Wt.call(r,t)&&ft(e,t,r[t]);return e},xa=(e,r)=>{var t={};for(var n in e)Ht.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&gr)for(var n of gr(e))r.indexOf(n)<0&&Wt.call(e,n)&&(t[n]=e[n]);return t};const wa={xs:16,sm:22,md:24,lg:26,xl:30};function Ut(e){var r=e,{label:t,classNames:n,styles:o,className:s,onRemove:i,disabled:l,readOnly:u,size:f,radius:v="sm",variant:d,unstyled:b}=r,x=xa(r,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:g,cx:y}=ha({disabled:l,readOnly:u,radius:v},{name:"MultiSelect",classNames:n,styles:o,unstyled:b,size:f,variant:d});return j.createElement("div",ya({className:y(g.defaultValue,s)},x),j.createElement("span",{className:g.defaultValueLabel},t),!l&&!u&&j.createElement(In,{"aria-hidden":!0,onMouseDown:i,size:wa[f],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:g.defaultValueRemove,tabIndex:-1,unstyled:b}))}Ut.displayName="@mantine/core/MultiSelect/DefaultValue";function _a({data:e,searchable:r,limit:t,searchValue:n,filter:o,value:s,disableSelectedItemFiltering:i}){if(!r&&s.length===0)return e;if(!r){const u=[];for(let f=0;f<e.length;f+=1)(i||!s.some(v=>v===e[f].value&&!e[f].disabled))&&u.push(e[f]);return u}const l=[];for(let u=0;u<e.length&&(o(n,!i&&s.some(f=>f===e[u].value&&!e[u].disabled),e[u])&&l.push(e[u]),!(l.length>=t));u+=1);return l}var ja=Object.defineProperty,Sa=Object.defineProperties,Da=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,mt=(e,r,t)=>r in e?ja(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Pa=(e,r)=>{for(var t in r||(r={}))Oa.call(r,t)&&mt(e,t,r[t]);if(gt)for(var t of gt(r))ka.call(r,t)&&mt(e,t,r[t]);return e},Ca=(e,r)=>Sa(e,Da(r)),Ea=wr((e,{invalid:r},{size:t})=>({wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3],color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${Z({size:t,sizes:st})} - ${L(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:Z({size:t,sizes:st})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${L(2)}) calc(${e.spacing.xs} / 2)`},searchInput:Ca(Pa({},e.fn.fontStyles()),{flex:1,minWidth:L(60),backgroundColor:"transparent",border:0,outline:0,fontSize:Z({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:Z({size:t,sizes:qt}),"&::placeholder":{opacity:1,color:r?e.colors.red[e.fn.primaryShade()]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}));const Ia=Ea;var Fa=Object.defineProperty,Aa=Object.defineProperties,Ra=Object.getOwnPropertyDescriptors,mr=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Jt=Object.prototype.propertyIsEnumerable,vt=(e,r,t)=>r in e?Fa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ne=(e,r)=>{for(var t in r||(r={}))Gt.call(r,t)&&vt(e,t,r[t]);if(mr)for(var t of mr(r))Jt.call(r,t)&&vt(e,t,r[t]);return e},ht=(e,r)=>Aa(e,Ra(r)),$a=(e,r)=>{var t={};for(var n in e)Gt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&mr)for(var n of mr(e))r.indexOf(n)<0&&Jt.call(e,n)&&(t[n]=e[n]);return t};function za(e,r,t){return r?!1:t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function Ma(e,r){return!!e&&!r.some(t=>t.value.toLowerCase()===e.toLowerCase())}function bt(e,r){if(!Array.isArray(e))return;if(r.length===0)return[];const t=r.map(n=>typeof n=="object"?n.value:n);return e.filter(n=>t.includes(n))}const La={size:"sm",valueComponent:Ut,itemComponent:Fn,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:za,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:Ma,switchDirectionOnFlip:!1,zIndex:Lt("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},Qt=h.forwardRef((e,r)=>{const t=_r("MultiSelect",La,e),{className:n,style:o,required:s,label:i,description:l,size:u,error:f,classNames:v,styles:d,wrapperProps:b,value:x,defaultValue:g,data:y,onChange:F,valueComponent:B,itemComponent:te,id:J,transitionProps:ne,maxDropdownHeight:ae,shadow:ie,nothingFound:T,onFocus:z,onBlur:q,searchable:I,placeholder:Pe,filter:be,limit:le,clearSearchOnChange:C,clearable:A,clearSearchOnBlur:Ce,variant:Q,onSearchChange:ye,searchValue:R,disabled:V,initiallyOpened:Ee,radius:oe,icon:Ie,rightSection:H,rightSectionWidth:ce,creatable:W,getCreateLabel:ue,shouldCreate:Fe,onCreate:xe,sx:Ae,dropdownComponent:Re,onDropdownClose:de,onDropdownOpen:nr,maxSelectedValues:N,withinPortal:ar,portalProps:or,switchDirectionOnFlip:pe,zIndex:Ge,selectOnBlur:$e,name:ze,dropdownPosition:Er,errorProps:Ir,labelProps:Fr,descriptionProps:c,form:m,positionDependencies:D,onKeyDown:P,unstyled:E,inputContainer:we,inputWrapperOrder:fe,readOnly:Y,withAsterisk:Je,clearButtonProps:Qe,hoverOnSearchChange:_e,disableSelectedItemFiltering:Ye}=t,Xe=$a(t,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","portalProps","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:U,cx:Me,theme:Ar}=Ia({invalid:!!f},{name:"MultiSelect",classNames:v,styles:d,unstyled:E,size:u,variant:Q}),{systemStyles:hn,rest:bn}=An(Xe),Rr=h.useRef(),$r=h.useRef({}),Le=Rn(J),[K,M]=h.useState(Ee),[yn,ge]=h.useState(-1),[et,xn]=h.useState("column"),[ee,sr]=it({value:R,defaultValue:"",finalValue:void 0,onChange:ye}),[wn,rt]=h.useState(!1),{scrollIntoView:ir,targetRef:tt,scrollableRef:_n}=$n({duration:0,offset:5,cancelable:!1,isList:!0}),nt=W&&typeof ue=="function";let zr=null;const jn=y.map(p=>typeof p=="string"?{label:p,value:p}:p),Mr=zn({data:jn}),[O,Te]=it({value:bt(x,y),defaultValue:bt(g,y),finalValue:[],onChange:F}),X=h.useRef(!!N&&N<O.length),at=p=>{if(!Y){const _=O.filter(G=>G!==p);Te(_),N&&_.length<N&&(X.current=!1)}},Sn=p=>{sr(p.currentTarget.value),!V&&!X.current&&I&&M(!0)},Dn=p=>{typeof z=="function"&&z(p),!V&&!X.current&&I&&M(!0)},$=_a({data:Mr,searchable:I,searchValue:ee,limit:le,filter:be,value:O,disableSelectedItemFiltering:Ye});nt&&Fe(ee,Mr)&&(zr=ue(ee),$.push({label:ee,value:ee,creatable:!0}));const je=Math.min(yn,$.length-1),ot=(p,_,G)=>{let me=p;for(;G(me);)if(me=_(me),!$[me].disabled)return me;return p};Lr(()=>{ge(_e&&ee?0:-1)},[ee,_e]),Lr(()=>{!V&&O.length>y.length&&M(!1),N&&O.length<N&&(X.current=!1),N&&O.length>=N&&(X.current=!0,M(!1))},[O]);const lr=p=>{if(!Y)if(C&&sr(""),O.includes(p.value))at(p.value);else{if(p.creatable&&typeof xe=="function"){const _=xe(p.value);typeof _<"u"&&_!==null&&Te(typeof _=="string"?[...O,_]:[...O,_.value])}else Te([...O,p.value]);O.length===N-1&&(X.current=!0,M(!1)),$.length===1&&M(!1)}},On=p=>{typeof q=="function"&&q(p),$e&&$[je]&&K&&lr($[je]),Ce&&sr(""),M(!1)},kn=p=>{if(wn||(P==null||P(p),Y)||p.key!=="Backspace"&&N&&X.current)return;const _=et==="column",G=()=>{ge(Se=>{var se;const Ze=ot(Se,De=>De+1,De=>De<$.length-1);return K&&(tt.current=$r.current[(se=$[Ze])==null?void 0:se.value],ir({alignment:_?"end":"start"})),Ze})},me=()=>{ge(Se=>{var se;const Ze=ot(Se,De=>De-1,De=>De>0);return K&&(tt.current=$r.current[(se=$[Ze])==null?void 0:se.value],ir({alignment:_?"start":"end"})),Ze})};switch(p.key){case"ArrowUp":{p.preventDefault(),M(!0),_?me():G();break}case"ArrowDown":{p.preventDefault(),M(!0),_?G():me();break}case"Enter":{p.preventDefault(),$[je]&&K?lr($[je]):M(!0);break}case" ":{I||(p.preventDefault(),$[je]&&K?lr($[je]):M(!0));break}case"Backspace":{O.length>0&&ee.length===0&&(Te(O.slice(0,-1)),M(!0),N&&(X.current=!1));break}case"Home":{if(!I){p.preventDefault(),K||M(!0);const Se=$.findIndex(se=>!se.disabled);ge(Se),ir({alignment:_?"end":"start"})}break}case"End":{if(!I){p.preventDefault(),K||M(!0);const Se=$.map(se=>!!se.disabled).lastIndexOf(!1);ge(Se),ir({alignment:_?"end":"start"})}break}case"Escape":M(!1)}},Pn=O.map(p=>{let _=Mr.find(G=>G.value===p&&!G.disabled);return!_&&nt&&(_={value:p,label:p}),_}).filter(p=>!!p).map((p,_)=>j.createElement(B,ht(Ne({},p),{variant:Q,disabled:V,className:U.value,readOnly:Y,onRemove:G=>{G.preventDefault(),G.stopPropagation(),at(p.value)},key:p.value,size:u,styles:d,classNames:v,radius:oe,index:_}))),Cn=p=>O.includes(p),En=()=>{var p;sr(""),Te([]),(p=Rr.current)==null||p.focus(),N&&(X.current=!1)},cr=!Y&&($.length>0?K:K&&!!T);return Lr(()=>{const p=cr?nr:de;typeof p=="function"&&p()},[cr]),j.createElement(lt.Wrapper,Ne(Ne({required:s,id:Le,label:i,error:f,description:l,size:u,className:n,style:o,classNames:v,styles:d,__staticSelector:"MultiSelect",sx:Ae,errorProps:Ir,descriptionProps:c,labelProps:Fr,inputContainer:we,inputWrapperOrder:fe,unstyled:E,withAsterisk:Je,variant:Q},hn),b),j.createElement(Tr,{opened:cr,transitionProps:ne,shadow:"sm",withinPortal:ar,portalProps:or,__staticSelector:"MultiSelect",onDirectionChange:xn,switchDirectionOnFlip:pe,zIndex:Ge,dropdownPosition:Er,positionDependencies:[...D,ee],classNames:v,styles:d,unstyled:E,variant:Q},j.createElement(Tr.Target,null,j.createElement("div",{className:U.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":K&&cr?`${Le}-items`:null,"aria-controls":Le,"aria-expanded":K,onMouseLeave:()=>ge(-1),tabIndex:-1},j.createElement("input",{type:"hidden",name:ze,value:O.join(","),form:m,disabled:V}),j.createElement(lt,Ne({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:Q,disabled:V,error:f,required:s,radius:oe,icon:Ie,unstyled:E,onMouseDown:p=>{var _;p.preventDefault(),!V&&!X.current&&M(!K),(_=Rr.current)==null||_.focus()},classNames:ht(Ne({},v),{input:Me({[U.input]:!I},v==null?void 0:v.input)})},Mn({theme:Ar,rightSection:H,rightSectionWidth:ce,styles:d,size:u,shouldClear:A&&O.length>0,onClear:En,error:f,disabled:V,clearButtonProps:Qe,readOnly:Y})),j.createElement("div",{className:U.values,"data-clearable":A||void 0},Pn,j.createElement("input",Ne({ref:Ln(r,Rr),type:"search",id:Le,className:Me(U.searchInput,{[U.searchInputPointer]:!I,[U.searchInputInputHidden]:!K&&O.length>0||!I&&O.length>0,[U.searchInputEmpty]:O.length===0}),onKeyDown:kn,value:ee,onChange:Sn,onFocus:Dn,onBlur:On,readOnly:!I||X.current||Y,placeholder:O.length===0?Pe:void 0,disabled:V,"data-mantine-stop-propagation":K,autoComplete:"off",onCompositionStart:()=>rt(!0),onCompositionEnd:()=>rt(!1)},bn)))))),j.createElement(Tr.Dropdown,{component:Re||Tn,maxHeight:ae,direction:et,id:Le,innerRef:_n,__staticSelector:"MultiSelect",classNames:v,styles:d},j.createElement(Nn,{data:$,hovered:je,classNames:v,styles:d,uuid:Le,__staticSelector:"MultiSelect",onItemHover:ge,onItemSelect:lr,itemsRefs:$r,itemComponent:te,size:u,nothingFound:T,isItemSelected:Cn,creatable:W&&!!zr,createLabel:zr,unstyled:E,variant:Q}))))});Qt.displayName="@mantine/core/MultiSelect";const Es=({card:e,activeTabIndex:r})=>{const t=Tt();return a.jsx(ct.List,{sx:{width:"100%",display:"flex",gap:"1rem",padding:"2rem 0 1rem",alignItems:"center",overflowX:"scroll"},children:e&&e.length>0&&e.map((n,o)=>a.jsxs(ct.Tab,{sx:()=>({flex:1,minWidth:250}),h:"10rem",value:n.index.toString(),disabled:e[o>0?o-1:o].is_done==0||n.is_done===0,style:{position:"relative"},children:[!n.is_done&&e[o>0?o-1:o].is_done==0&&r!==n.index&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[4]}`,borderRadius:"100px",padding:"5px"},children:a.jsx(Bn,{size:25})}),n.is_done&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:"white"}`,borderRadius:"100%",padding:"4px",color:"#51CF66",border:"",display:"flex",alignItems:"center"},children:a.jsx(Vn,{size:25})}),a.jsx(ve,{sx:{marginInline:"auto",width:"fit-content"},children:n.icon&&a.jsx(n.icon,{size:70})}),a.jsx(k,{weight:"bolder",mt:10,sx:{textAlign:"center"},children:n.label})]},o))})};function Is(e){return Nt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M64 64C28.7 64 0 92.7 0 128V384c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zM272 192H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16s7.2-16 16-16zM256 304c0-8.8 7.2-16 16-16H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16zM164 152v13.9c7.5 1.2 14.6 2.9 21.1 4.7c10.7 2.8 17 13.8 14.2 24.5s-13.8 17-24.5 14.2c-11-2.9-21.6-5-31.2-5.2c-7.9-.1-16 1.8-21.5 5c-4.8 2.8-6.2 5.6-6.2 9.3c0 1.8 .1 3.5 5.3 6.7c6.3 3.8 15.5 6.7 28.3 10.5l.7 .2c11.2 3.4 25.6 7.7 37.1 15c12.9 8.1 24.3 21.3 24.6 41.6c.3 20.9-10.5 36.1-24.8 45c-7.2 4.5-15.2 7.3-23.2 9V360c0 11-9 20-20 20s-20-9-20-20V345.4c-10.3-2.2-20-5.5-28.2-8.4l0 0 0 0c-2.1-.7-4.1-1.4-6.1-2.1c-10.5-3.5-16.1-14.8-12.6-25.3s14.8-16.1 25.3-12.6c2.5 .8 4.9 1.7 7.2 2.4c13.6 4.6 24 8.1 35.1 8.5c8.6 .3 16.5-1.6 21.4-4.7c4.1-2.5 6-5.5 5.9-10.5c0-2.9-.8-5-5.9-8.2c-6.3-4-15.4-6.9-28-10.7l-1.7-.5c-10.9-3.3-24.6-7.4-35.6-14c-12.7-7.7-24.6-20.5-24.7-40.7c-.1-21.1 11.8-35.7 25.8-43.9c6.9-4.1 14.5-6.8 22.2-8.5V152c0-11 9-20 20-20s20 9 20 20z"}}]})(e)}const yt=({id:e,start_date:r,end_date:t,name:n,disabled:o=!1,onClick:s})=>{const i=Kn(),l=new Date(r),u=new Date(t),f=new Date,v=f>=l&&f<=u;return a.jsxs(jr,{unstyled:!0,disabled:!v||o,onClick:s,styles:d=>({root:{borderColor:`${v?"#51CF66":"red"}`,padding:"1rem",backgroundColor:`${d.colorScheme==="dark"?d.colors.dark[7]:d.white}`,cursor:"pointer",color:d.colorScheme==="dark"?"white":d.colors.gray[9],borderRadius:"8px",outline:"none","&:disabled":{cursor:"not-allowed",backgroundColor:`${i?d.colors.dark[4]:"rgba(233, 233, 233, 1)"}`}},label:{justifyContent:"space-between",display:"flex",alignItems:"center"}}),children:[a.jsxs(qr,{children:[a.jsx(qn,{size:30}),a.jsxs(ve,{children:[a.jsx(fr,{order:3,align:"left",weight:"bolder",children:n}),a.jsxs(k,{align:"left",children:[new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})," ","-"," ",new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),a.jsx(Hn,{variant:"light",color:`${v?"green":"red"}`,size:"lg",children:v?"Dibuka":"Ditutup"})]},e)},Ta=async({batchId:e,type:r})=>(await ke.put("/v1/student/choose-batch",{batch_id:e,type:r})).data,Fs=async e=>(await ke.get("/v1/staging/get-student-offset?type="+e)).data,Pr=async(e,r)=>(await ke.get("/v1/student/get-staging-status?stagingId="+e+"&type="+r)).data,Na=async({major:e,type:r,stagingId:t})=>(await ke.put("/v1/student/choose-major",{major:e,type:r,stagingId:t})).data,Ba=async({type:e,stagingId:r})=>(await ke.put("/v1/student/print-card",{type:e,stagingId:r})).data,Va=async e=>(await ke.post("/v1/student/upload-payment",e)).data,Ka=e=>{const r=Wn();return{initialValues:h.useMemo(()=>{let n=e;const o=r.search.split("?");if(o.length>0){const s=new URLSearchParams(o[1]);for(const[i,l]of s.entries())if(l!=="undefined"&&l!=="null"){const u=decodeURIComponent(l);try{n[i]=JSON.parse(u)}catch{n[i]=u}}else n[i]=null;return n}else return n},[r.search])}},Cr=e=>{const[r,t]=h.useState(e),n=Ka(e);return h.useEffect(()=>{t(n==null?void 0:n.initialValues)},[n]),r},As=({type:e="PEMBELIAN"})=>{const r=Cr({step:1,stagingId:null}),t=Sr(),{data:n,isLoading:o,isSuccess:s}=he({queryKey:[`jalur_pendaftaran_${e}`],queryFn:()=>Un(e)}),{data:i,isLoading:l,isSuccess:u}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Pr(r.stagingId,e),enabled:!!r.stagingId}),f=Dr({mutationFn:Ta}),v=(d,b)=>{const x=()=>{f.mutate({batchId:d,type:e},{onSuccess:()=>{qe.success("Sukses memilih gelommbang pendaftaran"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:y=>kr(y)})},g=()=>{console.log("cancel")};Vt.openContextModal({modal:"createInformasi",innerProps:{onAccept:x,onCancel:g,modalBody:`Anda yakin ingin memilih ${b}?`}})};return a.jsxs(Or,{withBorder:!0,radius:"md",sx:d=>({backgroundColor:d.colorScheme==="dark"?d.colors.dark[9]:d.white,padding:"2rem"}),children:[a.jsx(Bt,{visible:f.isPending||l}),u&&i.data.offset_data?a.jsxs(a.Fragment,{children:[a.jsx(k,{weight:500,children:"Pilihan Anda"}),a.jsx(Ke,{mt:20,children:a.jsx(yt,{...i.data.offset_data.registrationBatch})})]}):l?a.jsx(Yr,{}):a.jsxs(a.Fragment,{children:[a.jsx(k,{weight:500,children:"Pilih Salah Satu Gelombang"}),a.jsxs(Ke,{mt:20,children:[o&&a.jsx(Ve,{content:"Lorem ipsum"}),s&&n&&n.data.length>0?n.data.map(d=>a.jsx(a.Fragment,{children:a.jsx(yt,{...d,onClick:()=>v(d.id,d.name)})})):a.jsx(a.Fragment,{children:a.jsx(k,{size:"xl",weight:"bold",children:"Belum ada gelombang yang tersedia"})})]})]})]})},Yt=async e=>(await ke.get("/v1/lookup?type="+e)).data,Xt=e=>{const{data:r,isLoading:t,isSuccess:n}=he({queryFn:()=>Yt(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(Yr,{}),n&&a.jsx(Gn,{value:e.value,readOnly:e.readonly,label:e.label,onChange:e.onChange,searchable:e.searchable,data:e.data?e.data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})};var qa=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function tr(e,r){var t=Ha(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Ha(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=qa.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Wa=[".DS_Store","Thumbs.db"];function Ua(e){return He(this,void 0,void 0,function(){return We(this,function(r){return vr(e)&&Ga(e.dataTransfer)?[2,Xa(e.dataTransfer,e.type)]:Ja(e)?[2,Qa(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Ya(e)]:[2,[]]})})}function Ga(e){return vr(e)}function Ja(e){return vr(e)&&vr(e.target)}function vr(e){return typeof e=="object"&&e!==null}function Qa(e){return Wr(e.target.files).map(function(r){return tr(r)})}function Ya(e){return He(this,void 0,void 0,function(){var r;return We(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return tr(n)})]}})})}function Xa(e,r){return He(this,void 0,void 0,function(){var t,n;return We(this,function(o){switch(o.label){case 0:return e.items?(t=Wr(e.items).filter(function(s){return s.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Za))]):[3,2];case 1:return n=o.sent(),[2,xt(Zt(n))];case 2:return[2,xt(Wr(e.files).map(function(s){return tr(s)}))]}})})}function xt(e){return e.filter(function(r){return Wa.indexOf(r.name)===-1})}function Wr(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Za(e){if(typeof e.webkitGetAsEntry!="function")return wt(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?en(r):wt(e)}function Zt(e){return e.reduce(function(r,t){return ut(ut([],dt(r),!1),dt(Array.isArray(t)?Zt(t):[t]),!1)},[])}function wt(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=tr(r);return Promise.resolve(t)}function eo(e){return He(this,void 0,void 0,function(){return We(this,function(r){return[2,e.isDirectory?en(e):ro(e)]})})}function en(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function s(){var i=this;r.readEntries(function(l){return He(i,void 0,void 0,function(){var u,f,v;return We(this,function(d){switch(d.label){case 0:if(l.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return u=d.sent(),t(u),[3,4];case 3:return f=d.sent(),n(f),[3,4];case 4:return[3,6];case 5:v=Promise.all(l.map(eo)),o.push(v),s(),d.label=6;case 6:return[2]}})})},function(l){n(l)})}s()})}function ro(e){return He(this,void 0,void 0,function(){return We(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var s=tr(o,e.fullPath);t(s)},function(o){n(o)})})]})})}var to=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return t.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):o===l})}return!0};function _t(e){return oo(e)||ao(e)||tn(e)||no()}function no(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ao(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oo(e){if(Array.isArray(e))return Ur(e)}function jt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function St(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jt(Object(t),!0).forEach(function(n){rn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function rn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rr(e,r){return lo(e)||io(e,r)||tn(e,r)||so()}function so(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(e,r){if(e){if(typeof e=="string")return Ur(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ur(e,r)}}function Ur(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function io(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,l;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function lo(e){if(Array.isArray(e))return e}var co="file-invalid-type",uo="file-too-large",po="file-too-small",fo="too-many-files",go=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:co,message:"File type must be ".concat(t)}},Dt=function(r){return{code:uo,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Ot=function(r){return{code:po,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},mo={code:fo,message:"Too many files"};function nn(e,r){var t=e.type==="application/x-moz-file"||to(e,r);return[t,t?null:go(r)]}function an(e,r,t){if(Oe(e.size))if(Oe(r)&&Oe(t)){if(e.size>t)return[!1,Dt(t)];if(e.size<r)return[!1,Ot(r)]}else{if(Oe(r)&&e.size<r)return[!1,Ot(r)];if(Oe(t)&&e.size>t)return[!1,Dt(t)]}return[!0,null]}function Oe(e){return e!=null}function vo(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,s=e.multiple,i=e.maxFiles,l=e.validator;return!s&&r.length>1||s&&i>=1&&r.length>i?!1:r.every(function(u){var f=nn(u,t),v=rr(f,1),d=v[0],b=an(u,n,o),x=rr(b,1),g=x[0],y=l?l(u):null;return d&&g&&!y})}function hr(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function dr(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function kt(e){e.preventDefault()}function ho(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function bo(e){return e.indexOf("Edge/")!==-1}function yo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ho(e)||bo(e)}function re(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return r.some(function(l){return!hr(n)&&l&&l.apply(void 0,[n].concat(s)),hr(n)})}}function xo(){return"showOpenFilePicker"in window}function wo(e){if(Oe(e)){var r=Object.entries(e).filter(function(t){var n=rr(t,2),o=n[0],s=n[1],i=!0;return on(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(sn))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,n){var o=rr(n,2),s=o[0],i=o[1];return St(St({},t),{},rn({},s,i))},{});return[{description:"Files",accept:r}]}return e}function _o(e){if(Oe(e))return Object.entries(e).reduce(function(r,t){var n=rr(t,2),o=n[0],s=n[1];return[].concat(_t(r),[o],_t(s))},[]).filter(function(r){return on(r)||sn(r)}).join(",")}function jo(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function So(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function on(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function sn(e){return/^.*\.[\w]+$/.test(e)}var Do=["children"],Oo=["open"],ko=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Po=["refKey","onChange","onClick"];function Co(e){return Fo(e)||Io(e)||ln(e)||Eo()}function Eo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Io(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fo(e){if(Array.isArray(e))return Gr(e)}function Nr(e,r){return $o(e)||Ro(e,r)||ln(e,r)||Ao()}function Ao(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ln(e,r){if(e){if(typeof e=="string")return Gr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gr(e,r)}}function Gr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ro(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,l;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function $o(e){if(Array.isArray(e))return e}function Pt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pt(Object(t),!0).forEach(function(n){Jr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Jr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function br(e,r){if(e==null)return{};var t=zo(e,r),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function zo(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Xr=h.forwardRef(function(e,r){var t=e.children,n=br(e,Do),o=un(n),s=o.open,i=br(o,Oo);return h.useImperativeHandle(r,function(){return{open:s}},[s]),j.createElement(h.Fragment,null,t(S(S({},i),{},{open:s})))});Xr.displayName="Dropzone";var cn={disabled:!1,getFilesFromEvent:Ua,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Xr.defaultProps=cn;Xr.propTypes={children:w.func,accept:w.objectOf(w.arrayOf(w.string)),multiple:w.bool,preventDropOnDocument:w.bool,noClick:w.bool,noKeyboard:w.bool,noDrag:w.bool,noDragEventsBubbling:w.bool,minSize:w.number,maxSize:w.number,maxFiles:w.number,disabled:w.bool,getFilesFromEvent:w.func,onFileDialogCancel:w.func,onFileDialogOpen:w.func,useFsAccessApi:w.bool,autoFocus:w.bool,onDragEnter:w.func,onDragLeave:w.func,onDragOver:w.func,onDrop:w.func,onDropAccepted:w.func,onDropRejected:w.func,onError:w.func,validator:w.func};var Qr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function un(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=S(S({},cn),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,s=r.maxSize,i=r.minSize,l=r.multiple,u=r.maxFiles,f=r.onDragEnter,v=r.onDragLeave,d=r.onDragOver,b=r.onDrop,x=r.onDropAccepted,g=r.onDropRejected,y=r.onFileDialogCancel,F=r.onFileDialogOpen,B=r.useFsAccessApi,te=r.autoFocus,J=r.preventDropOnDocument,ne=r.noClick,ae=r.noKeyboard,ie=r.noDrag,T=r.noDragEventsBubbling,z=r.onError,q=r.validator,I=h.useMemo(function(){return _o(t)},[t]),Pe=h.useMemo(function(){return wo(t)},[t]),be=h.useMemo(function(){return typeof F=="function"?F:Ct},[F]),le=h.useMemo(function(){return typeof y=="function"?y:Ct},[y]),C=h.useRef(null),A=h.useRef(null),Ce=h.useReducer(Mo,Qr),Q=Nr(Ce,2),ye=Q[0],R=Q[1],V=ye.isFocused,Ee=ye.isFileDialogActive,oe=h.useRef(typeof window<"u"&&window.isSecureContext&&B&&xo()),Ie=function(){!oe.current&&Ee&&setTimeout(function(){if(A.current){var m=A.current.files;m.length||(R({type:"closeDialog"}),le())}},300)};h.useEffect(function(){return window.addEventListener("focus",Ie,!1),function(){window.removeEventListener("focus",Ie,!1)}},[A,Ee,le,oe]);var H=h.useRef([]),ce=function(m){C.current&&C.current.contains(m.target)||(m.preventDefault(),H.current=[])};h.useEffect(function(){return J&&(document.addEventListener("dragover",kt,!1),document.addEventListener("drop",ce,!1)),function(){J&&(document.removeEventListener("dragover",kt),document.removeEventListener("drop",ce))}},[C,J]),h.useEffect(function(){return!n&&te&&C.current&&C.current.focus(),function(){}},[C,te,n]);var W=h.useCallback(function(c){z?z(c):console.error(c)},[z]),ue=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c),H.current=[].concat(Co(H.current),[c.target]),dr(c)&&Promise.resolve(o(c)).then(function(m){if(!(hr(c)&&!T)){var D=m.length,P=D>0&&vo({files:m,accept:I,minSize:i,maxSize:s,multiple:l,maxFiles:u,validator:q}),E=D>0&&!P;R({isDragAccept:P,isDragReject:E,isDragActive:!0,type:"setDraggedFiles"}),f&&f(c)}}).catch(function(m){return W(m)})},[o,f,W,T,I,i,s,l,u,q]),Fe=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c);var m=dr(c);if(m&&c.dataTransfer)try{c.dataTransfer.dropEffect="copy"}catch{}return m&&d&&d(c),!1},[d,T]),xe=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c);var m=H.current.filter(function(P){return C.current&&C.current.contains(P)}),D=m.indexOf(c.target);D!==-1&&m.splice(D,1),H.current=m,!(m.length>0)&&(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dr(c)&&v&&v(c))},[C,v,T]),Ae=h.useCallback(function(c,m){var D=[],P=[];c.forEach(function(E){var we=nn(E,I),fe=Nr(we,2),Y=fe[0],Je=fe[1],Qe=an(E,i,s),_e=Nr(Qe,2),Ye=_e[0],Xe=_e[1],U=q?q(E):null;if(Y&&Ye&&!U)D.push(E);else{var Me=[Je,Xe];U&&(Me=Me.concat(U)),P.push({file:E,errors:Me.filter(function(Ar){return Ar})})}}),(!l&&D.length>1||l&&u>=1&&D.length>u)&&(D.forEach(function(E){P.push({file:E,errors:[mo]})}),D.splice(0)),R({acceptedFiles:D,fileRejections:P,type:"setFiles"}),b&&b(D,P,m),P.length>0&&g&&g(P,m),D.length>0&&x&&x(D,m)},[R,l,I,i,s,u,b,x,g,q]),Re=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c),H.current=[],dr(c)&&Promise.resolve(o(c)).then(function(m){hr(c)&&!T||Ae(m,c)}).catch(function(m){return W(m)}),R({type:"reset"})},[o,Ae,W,T]),de=h.useCallback(function(){if(oe.current){R({type:"openDialog"}),be();var c={multiple:l,types:Pe};window.showOpenFilePicker(c).then(function(m){return o(m)}).then(function(m){Ae(m,null),R({type:"closeDialog"})}).catch(function(m){jo(m)?(le(m),R({type:"closeDialog"})):So(m)?(oe.current=!1,A.current?(A.current.value=null,A.current.click()):W(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):W(m)});return}A.current&&(R({type:"openDialog"}),be(),A.current.value=null,A.current.click())},[R,be,le,B,Ae,W,Pe,l]),nr=h.useCallback(function(c){!C.current||!C.current.isEqualNode(c.target)||(c.key===" "||c.key==="Enter"||c.keyCode===32||c.keyCode===13)&&(c.preventDefault(),de())},[C,de]),N=h.useCallback(function(){R({type:"focus"})},[]),ar=h.useCallback(function(){R({type:"blur"})},[]),or=h.useCallback(function(){ne||(yo()?setTimeout(de,0):de())},[ne,de]),pe=function(m){return n?null:m},Ge=function(m){return ae?null:pe(m)},$e=function(m){return ie?null:pe(m)},ze=function(m){T&&m.stopPropagation()},Er=h.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=c.refKey,D=m===void 0?"ref":m,P=c.role,E=c.onKeyDown,we=c.onFocus,fe=c.onBlur,Y=c.onClick,Je=c.onDragEnter,Qe=c.onDragOver,_e=c.onDragLeave,Ye=c.onDrop,Xe=br(c,ko);return S(S(Jr({onKeyDown:Ge(re(E,nr)),onFocus:Ge(re(we,N)),onBlur:Ge(re(fe,ar)),onClick:pe(re(Y,or)),onDragEnter:$e(re(Je,ue)),onDragOver:$e(re(Qe,Fe)),onDragLeave:$e(re(_e,xe)),onDrop:$e(re(Ye,Re)),role:typeof P=="string"&&P!==""?P:"presentation"},D,C),!n&&!ae?{tabIndex:0}:{}),Xe)}},[C,nr,N,ar,or,ue,Fe,xe,Re,ae,ie,n]),Ir=h.useCallback(function(c){c.stopPropagation()},[]),Fr=h.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=c.refKey,D=m===void 0?"ref":m,P=c.onChange,E=c.onClick,we=br(c,Po),fe=Jr({accept:I,multiple:l,type:"file",style:{display:"none"},onChange:pe(re(P,Re)),onClick:pe(re(E,Ir)),tabIndex:-1},D,A);return S(S({},fe),we)}},[A,t,l,Re,n]);return S(S({},ye),{},{isFocused:V&&!n,getRootProps:Er,getInputProps:Fr,rootRef:C,inputRef:A,open:pe(de)})}function Mo(e,r){switch(r.type){case"focus":return S(S({},e),{},{isFocused:!0});case"blur":return S(S({},e),{},{isFocused:!1});case"openDialog":return S(S({},Qr),{},{isFileDialogActive:!0});case"closeDialog":return S(S({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return S(S({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return S(S({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return S({},Qr);default:return e}}function Ct(){}const[Lo,To]=Jn("Dropzone component was not found in tree");var Et=Object.getOwnPropertySymbols,No=Object.prototype.hasOwnProperty,Bo=Object.prototype.propertyIsEnumerable,Vo=(e,r)=>{var t={};for(var n in e)No.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Et)for(var n of Et(e))r.indexOf(n)<0&&Bo.call(e,n)&&(t[n]=e[n]);return t};function Zr(e){const r=t=>{const n=_r(`Dropzone${pt(e)}`,{},t),{children:o}=n,s=Vo(n,["children"]),i=To(),l=Qn(o)?o:j.createElement("span",null,o);return i[e]?h.cloneElement(l,s):null};return r.displayName=`@mantine/dropzone/${pt(e)}`,r}const Ko=Zr("accept"),qo=Zr("reject"),Ho=Zr("idle");var Wo=Object.defineProperty,Uo=Object.defineProperties,Go=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Qo=Object.prototype.propertyIsEnumerable,Ft=(e,r,t)=>r in e?Wo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,At=(e,r)=>{for(var t in r||(r={}))Jo.call(r,t)&&Ft(e,t,r[t]);if(It)for(var t of It(r))Qo.call(r,t)&&Ft(e,t,r[t]);return e},Yo=(e,r)=>Uo(e,Go(r)),Xo=wr((e,{padding:r,radius:t})=>{const n=e.fn.variant({color:"red",variant:"light"}),o=e.fn.variant({color:e.primaryColor,variant:"light"});return{root:Yo(At(At({},e.fn.fontStyles()),e.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${L(2)} dashed ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,padding:Z({size:r,sizes:e.spacing}),borderRadius:e.fn.radius(t),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}},"&[data-accept]":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0],borderColor:e.colorScheme==="dark"?o.border:e.colors[e.primaryColor][4],"&:hover":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0]}},"&[data-reject]":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0],borderColor:e.colorScheme==="dark"?n.border:e.colors.red[4],"&:hover":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}});const Zo=Xo;var es=Object.defineProperty,rs=Object.defineProperties,ts=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,dn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,Rt=(e,r,t)=>r in e?es(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,er=(e,r)=>{for(var t in r||(r={}))dn.call(r,t)&&Rt(e,t,r[t]);if(yr)for(var t of yr(r))pn.call(r,t)&&Rt(e,t,r[t]);return e},Br=(e,r)=>rs(e,ts(r)),ns=(e,r)=>{var t={};for(var n in e)dn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&yr)for(var n of yr(e))r.indexOf(n)<0&&pn.call(e,n)&&(t[n]=e[n]);return t};const as={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function Ue(e){const r=_r("Dropzone",as,e),{className:t,padding:n,radius:o,disabled:s,classNames:i,styles:l,loading:u,multiple:f,maxSize:v,accept:d,children:b,onDropAny:x,onDrop:g,onReject:y,openRef:F,name:B,unstyled:te,maxFiles:J,autoFocus:ne,activateOnClick:ae,activateOnDrag:ie,dragEventsBubbling:T,activateOnKeyboard:z,onDragEnter:q,onDragLeave:I,onDragOver:Pe,onFileDialogCancel:be,onFileDialogOpen:le,preventDropOnDocument:C,useFsAccessApi:A,getFilesFromEvent:Ce,validator:Q,variant:ye}=r,R=ns(r,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:V,cx:Ee}=Zo({radius:o,padding:n},{name:"Dropzone",classNames:i,styles:l,unstyled:te,variant:ye}),{getRootProps:oe,getInputProps:Ie,isDragAccept:H,isDragReject:ce,open:W}=un(er({onDrop:x,onDropAccepted:g,onDropRejected:y,disabled:s||u,accept:Array.isArray(d)?d.reduce((Fe,xe)=>Br(er({},Fe),{[xe]:[]}),{}):d,multiple:f,maxSize:v,maxFiles:J,autoFocus:ne,noClick:!ae,noDrag:!ie,noDragEventsBubbling:!T,noKeyboard:!z,onDragEnter:q,onDragLeave:I,onDragOver:Pe,onFileDialogCancel:be,onFileDialogOpen:le,preventDropOnDocument:C,useFsAccessApi:A,validator:Q},Ce?{getFilesFromEvent:Ce}:null));Yn(F,W);const ue=!H&&!ce;return j.createElement(Lo,{value:{accept:H,reject:ce,idle:ue}},j.createElement(ve,Br(er(er({},R),oe()),{"data-accept":H||void 0,"data-reject":ce||void 0,"data-idle":ue||void 0,"data-loading":u||void 0,className:Ee(V.root,t)}),j.createElement(Bt,{visible:u,radius:o,unstyled:te}),j.createElement("input",Br(er({},Ie()),{name:B})),j.createElement("div",{className:V.inner},b)))}Ue.displayName="@mantine/dropzone/Dropzone";Ue.Accept=Ko;Ue.Reject=qo;Ue.Idle=Ho;const fn=Ue;var os=Object.defineProperty,ss=Object.defineProperties,is=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,ls=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable,zt=(e,r,t)=>r in e?os(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,us=(e,r)=>{for(var t in r||(r={}))ls.call(r,t)&&zt(e,t,r[t]);if($t)for(var t of $t(r))cs.call(r,t)&&zt(e,t,r[t]);return e},ds=(e,r)=>ss(e,is(r)),ps=wr(e=>({wrapper:ds(us({},e.fn.cover(0)),{position:"fixed",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,display:"flex",padding:e.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}}));const fs=ps;var gs=Object.defineProperty,ms=Object.defineProperties,vs=Object.getOwnPropertyDescriptors,xr=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,Mt=(e,r,t)=>r in e?gs(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Vr=(e,r)=>{for(var t in r||(r={}))gn.call(r,t)&&Mt(e,t,r[t]);if(xr)for(var t of xr(r))mn.call(r,t)&&Mt(e,t,r[t]);return e},Kr=(e,r)=>ms(e,vs(r)),hs=(e,r)=>{var t={};for(var n in e)gn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&xr)for(var n of xr(e))r.indexOf(n)<0&&mn.call(e,n)&&(t[n]=e[n]);return t};const bs={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Lt("max"),withinPortal:!0};function vn(e){const r=_r("DropzoneFullScreen",bs,e),{classNames:t,styles:n,sx:o,className:s,style:i,unstyled:l,active:u,onDrop:f,onReject:v,zIndex:d,withinPortal:b,portalProps:x}=r,g=hs(r,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[y,F]=j.useState(0),[B,{open:te,close:J}]=Xn(!1),{classes:ne,cx:ae}=fs(null,{name:"DropzoneFullScreen",classNames:t,styles:n,unstyled:l}),ie=z=>{z.dataTransfer.types.includes("Files")&&(F(q=>q+1),te())},T=()=>{F(z=>z-1)};return h.useEffect(()=>{y===0&&J()},[y]),h.useEffect(()=>{if(u)return document.addEventListener("dragenter",ie,!1),document.addEventListener("dragleave",T,!1),()=>{document.removeEventListener("dragenter",ie,!1),document.removeEventListener("dragleave",T,!1)}},[u]),j.createElement(Zn,Kr(Vr({},x),{withinPortal:b}),j.createElement(ve,{className:ae(ne.wrapper,s),sx:o,style:Kr(Vr({},i),{opacity:B?1:0,pointerEvents:B?"all":"none",zIndex:d})},j.createElement(Ue,Kr(Vr({},g),{classNames:t,styles:n,unstyled:l,className:ne.dropzone,onDrop:z=>{f==null||f(z),J()},onReject:z=>{v==null||v(z),J()}}))))}vn.displayName="@mantine/dropzone/DropzoneFullScreen";const Be={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",mp4:"video/mp4",zip:"application/zip",csv:"text/csv",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",exe:"application/vnd.microsoft.portable-executable"},ys=[Be.png,Be.gif,Be.jpeg,Be.svg,Be.webp,Be.avif];fn.FullScreen=vn;const pr=fn;function xs(e){return Nt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}function ws({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o,onChange:s,...i}){var d;const{field:{value:l,onChange:u,...f},fieldState:v}=ea({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o});return a.jsx(a.Fragment,{children:a.jsx(Hr.Group,{label:i.label,description:i.description,value:l,onChange:b=>{u(b),s==null||s(b)},error:(d=v.error)==null?void 0:d.message,...f,...i})})}const _s=()=>{var l,u,f,v;const e=Tt(),{register:r,control:t,setValue:n,formState:{errors:o},watch:s}=ra(),i=s("payment_method");return a.jsxs(Ke,{spacing:10,children:[a.jsx(ta,{render:({field:{onChange:d,value:b}})=>a.jsxs(pr,{multiple:!1,onChange:x=>{var g;return d(((g=x.target.files)==null?void 0:g[0])??null)},onReject:x=>{x[0].errors[0].code=="file-too-large"&&qe.error("Size gambar terlalu besar dari 5MB")},maxSize:3*1024**2,accept:ys,onDrop:x=>{d(x)},children:[a.jsxs(qr,{position:"center",spacing:"xl",style:{minHeight:L(220),pointerEvents:"none"},children:[a.jsx(pr.Accept,{children:a.jsx(na,{size:"3.2rem",color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6]})}),a.jsx(pr.Reject,{children:a.jsx(xs,{size:"3.2rem",color:e.colors.red[e.colorScheme==="dark"?4:6]})}),a.jsx(pr.Idle,{children:a.jsx(aa,{size:"3.2rem"})}),a.jsx(k,{size:"",children:"Upload Bukti Bayar, Max : 5MB"})]}),a.jsx(oa,{cols:4,mt:5,breakpoints:[{maxWidth:"sm",cols:1}],children:b&&b.map((x,g)=>{const y=URL.createObjectURL(x);return a.jsx(Kt,{src:y,w:20,imageProps:{onLoad:()=>URL.revokeObjectURL(y)}},g)})})]}),name:"payment_prove",control:t}),a.jsx(sa,{thousandSeparator:".",decimalSeparator:",",prefix:"Rp. ",customInput:ur,error:o.amount&&a.jsx("div",{children:(l=o.amount)==null?void 0:l.message}),placeholder:"Rp. 0",label:"Input Nominal",description:"Input Nominal",required:!0,...r("amount",{required:!1,valueAsNumber:!0}),onValueChange:d=>{n("amount",d.floatValue)}}),a.jsx(ws,{name:"payment_method",control:t,label:"Metode Pembayaran",description:"Pilih salah satu",children:a.jsxs(qr,{mt:"xs",children:[a.jsx(Hr,{value:"CASH",label:"Tunai"}),a.jsx(Hr,{value:"TRANSFER",label:"Transfer"})]})}),i&&i==="TRANSFER"&&a.jsxs(a.Fragment,{children:[a.jsx(ur,{description:"Masukkan nama bank",label:"Nama Bank",placeholder:"Bank BCA,BNI",withAsterisk:!0,error:o.bank_name&&a.jsx("div",{children:(u=o.bank_name)==null?void 0:u.message}),required:!0,...r("bank_name",{required:!0})}),a.jsx(ur,{label:"Nomor Rekening",description:"Masukkan nomor rekening",withAsterisk:!0,type:"number",error:o.bank_account&&a.jsx("div",{children:(f=o.bank_account)==null?void 0:f.message}),required:!0,...r("bank_account",{required:!0})}),a.jsx(ur,{label:"Nama Pemilik Rekening",description:"Masukkan nama pemilik rekening",withAsterisk:!0,error:o.bank_user&&a.jsx("div",{children:(v=o.bank_user)==null?void 0:v.message}),required:!0,...r("bank_user",{required:!0})})]})]})},js=()=>a.jsxs(ve,{sx:e=>({backgroundColor:"transparent",padding:"4rem 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:[a.jsx("img",{src:"/svg/wait-pembelianformulir.svg",alt:"image",style:{width:"250px"}}),a.jsx(k,{mt:40,sx:{maxWidth:500},weight:"bold",align:"center",children:"Bukti anda telah di upload"})]}),Ss=(e,r)=>{var t=e.toString(),n=t.replace(/[^,\d]/g,"").toString(),o=n.split(","),s=o[0].length%3,i=o[0].substr(0,s),l=o[0].substr(s).match(/\d{3}/gi);return l&&(i+=(s?".":"")+l.join(".")),i=o[1]!=null?i+","+o[1]:i,r==null?i:i?r+i+",-":""},Ds={CASH:"Tunai",TRANSFER:"Transfer"},Rs=({type:e="PEMBELIAN"})=>{var f,v,d,b,x;const r=Cr({step:2,stagingId:null}),t=Sr(),n=Dr({mutationFn:Va}),{data:o,isLoading:s,isSuccess:i}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Pr(r.stagingId,e),enabled:!!r.stagingId}),l=h.useMemo(()=>[{id:"Metode Pembayaran",header:"Metode Pembayaran",accessorFn:g=>Ds[g.method]},{id:"Bank",header:"Bank",accessorFn:g=>g.bank_name},{id:"Nomor Rekening",header:"Nomor Rekening",accessorFn:g=>g.bank_account},{id:"Atas Nama",header:"Atas Nama",accessorFn:g=>g.bank_user}],[]),u=g=>{const y=new FormData;for(const[F,B]of Object.entries(g))F==="payment_prove"?y.append("file",B==null?void 0:B[0]):y.append(F,B);y.append("type",e),n.mutate(y,{onSuccess:()=>{qe.success("Sukses upload bukti bayar"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:F=>kr(F)})};return a.jsxs(Or,{withBorder:!0,sx:g=>({backgroundColor:`${g.colorScheme==="dark"?g.colors.dark[9]:g.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:[a.jsxs(Ke,{children:[a.jsx(fr,{children:"Bayar Pendaftaran"}),a.jsx(k,{className:"font-semibold",children:"Silahkan melakukan transfer ke rekening dibawah ini jika anda memilih metode pembayaran transfer :"}),a.jsx("table",{className:"w-full overflow-x-auto",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Bank"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:(f=o.data.registration_batch)==null?void 0:f.bank_name})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nominal yang harus dibayarkan"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:Ss(((v=o.data.registration_batch)==null?void 0:v.price)??"0","Rp ")})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nomor Rekening"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:(d=o.data.registration_batch)==null?void 0:d.bank_account})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Atas Nama"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:(b=o.data.registration_batch)==null?void 0:b.bank_user})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Status Pembayaran"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsx(Xt,{type:"STATUS",readonly:!0,value:(x=o.data.payment_status)==null?void 0:x.status})]})]})]})})]}),i&&o.data.payment_status?a.jsxs(a.Fragment,{children:[a.jsx(js,{}),a.jsx(ve,{mt:10,w:"100%",children:a.jsx(ia,{useHeader:!0,data:[{...o.data.payment_status}],columns:l,noCard:!0,usePagination:!1})})]}):a.jsxs(ga,{id:"form-uploadbukti",onSubmit:u,children:[a.jsx(fr,{order:3,my:50,children:"Bukti Transfer"}),a.jsx(la,{}),a.jsx(_s,{}),a.jsx(jr,{type:"submit",mt:10,children:"Submit"})]})]})},$s=e=>Object.keys(e).map(r=>r+"="+encodeURIComponent(e[r])).join("&"),zs=({type:e="PEMBELIAN"})=>{var f,v,d;const r=Cr({step:3,stagingId:null}),{data:t,isSuccess:n}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Pr(r.stagingId,e),enabled:!!r.stagingId}),o=ca();Sr();const s=Dr({mutationFn:Ba}),{isSuccess:i,data:l}=he({queryFn:ua,queryKey:["session"]}),u=()=>{s.mutate({type:e,stagingId:r.stagingId},{onSuccess:()=>{qe.success("Selamat anda telah menyelesaikan satu rangkaian tahapan"),o("/ppdb/main/pengembalian")},onError:b=>kr(b)})};return a.jsxs(Or,{withBorder:!0,radius:"md",sx:b=>({backgroundColor:b.colorScheme==="dark"?b.colors.dark[9]:b.white,padding:"2rem"}),children:[a.jsx(k,{align:"center",weight:500,size:"xl",children:e==="PEMBELIAN"?"Selamat anda telah terdaftar disistem kami, silahkan klik selesai untuk ke halaman Jalur Pendaftaran/Pengembalian":"Selamat anda telah terdaftar menjadi calon siswa, harap menunggu informasi lebih lanjut"}),a.jsxs(Ke,{align:"center",children:[a.jsxs(da,{mt:30,sx:b=>({background:"linear-gradient(to bottom, #2A166F, #420BFF)",width:"30rem",height:"15rem",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",scale:"1",[b.fn.smallerThan("md")]:{scale:"0.7"}}),children:[a.jsx("div",{style:{background:"white",position:"absolute",top:15,height:"10px",color:"transparent",width:"100%"},children:"a"}),a.jsx("div",{style:{background:"white",position:"absolute",top:30,height:"10px",color:"transparent",width:"100%"},children:"a"}),a.jsx(Kt,{src:"/logo-yatindo-hd.png",width:70,sx:{position:"absolute",top:5,right:15}}),a.jsxs(ve,{sx:{display:"flex",gap:"1.2rem",alignItems:"center"},children:[a.jsx(pa,{size:80,color:"#FF0101",variant:"filled",children:a.jsx(fa,{size:60})}),a.jsxs(ve,{children:[a.jsxs(k,{color:"white",children:["Nama"," ",a.jsxs(k,{component:"span",align:"center",children:[": ",(i&&((v=(f=l.data)==null?void 0:f.student)==null?void 0:v.name))??"-"]})]}),a.jsxs(k,{color:"white",children:["Jurusan : ",(n&&((d=t.data.major)==null?void 0:d.name))??"-"]})]})]}),a.jsx(k,{color:"#FFFFFF",size:"xs",sx:{position:"absolute",bottom:5,left:10},children:"ID : aebdbb6a-6b62-11ee-b962-0242ac120002"})]}),a.jsx(jr,{onClick:u,loading:s.isPending,sx:{margin:"50px auto"},children:"Selesai"})]})]})},Os=e=>{const{data:r,isLoading:t,isSuccess:n}=he({queryFn:()=>Yt(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(Yr,{}),n&&a.jsx(Qt,{value:e.value,readOnly:e.readonly,label:e.label,onChange:e.onChange,searchable:e.searchable,data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Ms=({type:e="PEMBELIAN"})=>{var f,v,d,b,x;const r=Cr({step:3,stagingId:null}),[t,n]=h.useState(null),{data:o,isSuccess:s}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Pr(r.stagingId,e),enabled:!!r.stagingId}),i=Sr(),l=Dr({mutationFn:Na}),u=()=>{const g=()=>{l.mutate({type:e,major:t.toString(),stagingId:r.stagingId},{onSuccess:()=>{qe.success("Sukses memilih Jurusan"),i.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:F=>kr(F)})},y=()=>console.log("cancel");t==""||!t?qe.error("Wajib pilih salah satu jurusan"):Vt.openContextModal({modal:"createInformasi",innerProps:{onAccept:g,onCancel:y,modalBody:"Anda yakin ingin memilih jurusan ini ?"}})};return h.useEffect(()=>{var g,y;s&&o.data.offset_data&&n((y=(g=o.data.offset_data)==null?void 0:g.majors)==null?void 0:y.split(","))},[s,o]),a.jsx(Or,{withBorder:!0,sx:g=>({backgroundColor:`${g.colorScheme==="dark"?g.colors.dark[9]:g.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:a.jsxs(Ke,{children:[a.jsx(fr,{children:"Pilih Jurusan"}),e==="PEMBELIAN"&&a.jsx(k,{children:"*Anda dapat memilih lebih dari satu untuk peminatan awal"}),s&&((f=o.data.current_state)==null?void 0:f.status)==="WAITING_PAYMENT"&&((v=o.data.current_state)==null?void 0:v.type)===e?a.jsx("p",{children:"Harap menunggu konfirmasi pembayaran terlebih dahulu sebelum memilih jurusan"}):a.jsxs(a.Fragment,{children:[e==="PEMBELIAN"?a.jsx(Os,{type:"MAJOR",readonly:!!(s&&((d=o.data.offset_data)!=null&&d.majors)),onChange:g=>n(g),value:t&&Array.from(t)}):a.jsx(Xt,{type:"MAJOR",readonly:!!(s&&((b=o.data.offset_data)!=null&&b.majors)),onChange:g=>n(g),value:t&&t.toString()}),a.jsx(jr,{variant:"filled",onClick:u,loading:l.isPending,disabled:!!(s&&((x=o.data.offset_data)!=null&&x.majors)),children:"Submit"})]})]})})};export{pr as D,Is as F,xs as I,ws as R,As as S,Es as T,Rs as a,Ms as b,zs as c,Fs as d,ys as e,Xt as f,$s as g,Cr as h,Pr as i,Ka as u};
