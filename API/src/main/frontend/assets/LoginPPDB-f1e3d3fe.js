import{r as x,e as u,k as h,u as g,l as f,j as e,m as j,P as b,B as c,T as w,S as v,n as S,G as k,d as y,s as L,L as P,f as N,_ as T}from"./index-21f1c136.js";import{S as _}from"./SideAuthLayout-980e57b7.js";import{R as C}from"./ResponseError-040dbf2a.js";import{P as B}from"./PasswordInput-ff2fb593.js";const E=async s=>(await x.post("/v1/auth/login",s)).data,q=()=>{const[s,n]=u.useState(""),[o,p]=u.useState(""),i=h({mutationFn:E}),{md:a}=g(),l=f(),m=t=>{i.mutate(t,{onSuccess:r=>{T.success("Sukses Login!"),localStorage.setItem("_TuVbwpW",r.data.access_token),localStorage.setItem("_RuvTpQv",r.data.refresh_token),l("/ppdb/main/home")},onError:r=>C(r)})},d=t=>{t.preventDefault(),m({username:s,password:o})};return e.jsx(j,{title:"Login",children:e.jsxs(b,{pt:`${a?0:"70px"}`,className:"flex  min-h-[100vh]",children:[e.jsx(c,{className:`flex-[2] p-[0_1rem_] flex flex-col overflow-y-auto min-h-[87vh]  items-center justify-center
            ${!a&&"bg-[url(/bg-layout-auth.png)]"} bg-contain bg-no-repeat bg-right`,children:e.jsxs(c,{w:`${a?"30rem":"20rem"}`,children:[e.jsx(w,{align:"center",children:"Login"}),e.jsx("form",{onSubmit:d,className:"mt-10",children:e.jsxs(v,{children:[e.jsx(S,{withAsterisk:!0,label:"Nomor Whatsapp",required:!0,value:s,onChange:t=>n(t.target.value)}),e.jsx(B,{withAsterisk:!0,label:"Password",required:!0,value:o,onChange:t=>p(t.target.value)}),e.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",flexDirection:`${a?"row":"column"}`},children:[e.jsx(y,{className:"text-[#103C6F] text-center underline cursor-pointer",onClick:()=>{l("/ppdb"),setTimeout(()=>{L.scrollTo("ppdb",{duration:500,delay:100,smooth:!0,offset:-100})},300)},children:"Belum punya akun? daftar"}),e.jsx(P,{to:"https://wa.me/6281380908008",className:"text-[#103C6F] text-center",children:"Lupa Password?"})]}),e.jsx(N,{type:"submit",loading:i.status==="pending",children:"Login"})]})})]})}),e.jsx(_,{page:null})]})})};export{q as default};
