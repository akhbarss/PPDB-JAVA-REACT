import{N as b,y as Ne,U as ke,r as g,z as pe,R as _,B as X,aa as $t,ab as It,$,ac as Rt,j as o,h as Ur,i as rr,v as tr,ad as zt,d as Ce,ae as Tt,q as Lt,P as Nt,S as ce,Q as Mt,_ as Yr,af as ee,ag as re,ah as mr,ai as vr,aj as y,ak as Bt,al as Kt,am as Ht,an as Vt,l as Wt,ao as qt,ap as Gt,aq as Ut,ar as nr,c as Zr,D as Qr,I as Jr,a2 as Yt,as as Zt,at as Qt,au as Jt,av as Xt,aw as en,w as Pe,e as rn,g as tn,t as nn,ax as an,ay as on,az as sn,aA as ln,aB as cn}from"./index-ad304ebb.js";import{u as Xr,g as et,c as un,S as rt,a as Ue,T as pn,F as dn,b as fn}from"./generateQueryParam-55c8a82d.js";import{B as gn}from"./index.esm-13283e00.js";import{R as mn}from"./ResponseError-0a0ec564.js";import{L as tt}from"./LoadingOverlay-19a56b37.js";import{F as vn}from"./FormWrapper-e0af1960.js";function yr(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}var yn=Object.defineProperty,bn=Object.defineProperties,hn=Object.getOwnPropertyDescriptors,br=Object.getOwnPropertySymbols,_n=Object.prototype.hasOwnProperty,xn=Object.prototype.propertyIsEnumerable,hr=(e,r,t)=>r in e?yn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ye=(e,r)=>{for(var t in r||(r={}))_n.call(r,t)&&hr(e,t,r[t]);if(br)for(var t of br(r))xn.call(r,t)&&hr(e,t,r[t]);return e},wn=(e,r)=>bn(e,hn(r));const On=["light","filled","outline","dot","gradient"],Ze={xs:{fontSize:b(9),height:b(16)},sm:{fontSize:b(10),height:b(18)},md:{fontSize:b(11),height:b(20)},lg:{fontSize:b(13),height:b(26)},xl:{fontSize:b(16),height:b(32)}},jn={xs:b(4),sm:b(4),md:b(6),lg:b(8),xl:b(10)};function Dn({theme:e,variant:r,color:t,size:n,gradient:a}){if(!On.includes(r))return null;if(r==="dot"){const l=ke({size:n,sizes:jn});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`${b(1)} solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:`calc(${ke({size:n,sizes:e.spacing})} / 1.5 - ${l} / 2)`,"&::before":{content:'""',display:"block",width:l,height:l,borderRadius:l,backgroundColor:e.fn.themeColor(t,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:l}}}const i=e.fn.variant({color:t,variant:r,gradient:a});return{background:i.background,color:i.color,border:`${b(r==="gradient"?0:1)} solid ${i.border}`}}var Pn=Ne((e,{color:r,radius:t,gradient:n,fullWidth:a},{variant:i,size:l})=>{const{fontSize:u,height:f}=l in Ze?Ze[l]:Ze.md;return{leftSection:{marginRight:`calc(${e.spacing.xs} / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs} / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:Ye(wn(Ye(Ye({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:u,height:f,WebkitTapHighlightColor:"transparent",lineHeight:`calc(${f} - ${b(2)})`,textDecoration:"none",padding:`0 calc(${ke({size:l,sizes:e.spacing})} / 1.5)`,boxSizing:"border-box",display:a?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:a?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(t),fontWeight:700,letterSpacing:b(.25),cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),Dn({theme:e,variant:i,color:r,size:l,gradient:n}))}});const Sn=Pn;var En=Object.defineProperty,Fe=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,_r=(e,r,t)=>r in e?En(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,kn=(e,r)=>{for(var t in r||(r={}))nt.call(r,t)&&_r(e,t,r[t]);if(Fe)for(var t of Fe(r))at.call(r,t)&&_r(e,t,r[t]);return e},Cn=(e,r)=>{var t={};for(var n in e)nt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Fe)for(var n of Fe(e))r.indexOf(n)<0&&at.call(e,n)&&(t[n]=e[n]);return t};const Fn={variant:"light",size:"md",radius:"xl"},ot=g.forwardRef((e,r)=>{const t=pe("Badge",Fn,e),{className:n,color:a,variant:i,fullWidth:l,children:u,size:f,leftSection:m,rightSection:c,radius:p,gradient:v,classNames:h,styles:w,unstyled:j}=t,I=Cn(t,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:k,cx:T}=Sn({fullWidth:l,color:a,radius:p,gradient:v},{classNames:h,styles:w,name:"Badge",unstyled:j,variant:i,size:f});return _.createElement(X,kn({className:T(k.root,n),ref:r},I),m&&_.createElement("span",{className:k.leftSection},m),_.createElement("span",{className:k.inner},u),c&&_.createElement("span",{className:k.rightSection},c))});ot.displayName="@mantine/core/Badge";const An=$t(ot);var $n=Object.defineProperty,Ae=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,xr=(e,r,t)=>r in e?$n(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,wr=(e,r)=>{for(var t in r||(r={}))it.call(r,t)&&xr(e,t,r[t]);if(Ae)for(var t of Ae(r))st.call(r,t)&&xr(e,t,r[t]);return e},In=(e,r)=>{var t={};for(var n in e)it.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Ae)for(var n of Ae(e))r.indexOf(n)<0&&st.call(e,n)&&(t[n]=e[n]);return t};function Rn(e){const r=e,{width:t,height:n,style:a}=r,i=In(r,["width","height","style"]);return _.createElement("svg",wr({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:wr({width:t,height:n},a)},i),_.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var zn=Object.defineProperty,Tn=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,Or=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,jr=(e,r,t)=>r in e?zn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Dr=(e,r)=>{for(var t in r||(r={}))Nn.call(r,t)&&jr(e,t,r[t]);if(Or)for(var t of Or(r))Mn.call(r,t)&&jr(e,t,r[t]);return e},Pr=(e,r)=>Tn(e,Ln(r)),Bn=Ne((e,{radius:r})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:Pr(Dr({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.radius(r)}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:Pr(Dr({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.radius(r)})}));const Kn=Bn;var Hn=Object.defineProperty,Vn=Object.defineProperties,Wn=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,Sr=(e,r,t)=>r in e?Hn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,se=(e,r)=>{for(var t in r||(r={}))lt.call(r,t)&&Sr(e,t,r[t]);if($e)for(var t of $e(r))ct.call(r,t)&&Sr(e,t,r[t]);return e},qn=(e,r)=>Vn(e,Wn(r)),Gn=(e,r)=>{var t={};for(var n in e)lt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&$e)for(var n of $e(e))r.indexOf(n)<0&&ct.call(e,n)&&(t[n]=e[n]);return t};const Un={fit:"cover",width:"100%",height:"auto",radius:0},ut=g.forwardRef((e,r)=>{const t=pe("Image",Un,e),{className:n,alt:a,src:i,fit:l,width:u,height:f,radius:m,imageProps:c,withPlaceholder:p,placeholder:v,imageRef:h,classNames:w,styles:j,caption:I,unstyled:k,style:T,variant:L}=t,K=Gn(t,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style","variant"]),{classes:C,cx:N}=Kn({radius:m},{classNames:w,styles:j,unstyled:k,name:"Image",variant:L}),[F,S]=g.useState(!i),z=p&&F;return It(()=>{S(!i)},[i]),_.createElement(X,se({className:N(C.root,n),style:se({width:b(u)},T),ref:r},K),_.createElement("figure",{className:C.figure},_.createElement("div",{className:C.imageWrapper},_.createElement("img",qn(se({src:i,alt:a,ref:h},c),{className:N(C.image,c==null?void 0:c.className),onError:H=>{S(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(H)},style:se(se({objectFit:l,width:b(u),height:b(f)},z&&{overflow:"hidden"}),c==null?void 0:c.style)})),z&&_.createElement("div",{className:C.placeholder,title:a},v||_.createElement("div",null,_.createElement(Rn,{width:b(40),height:b(40)})))),!!I&&_.createElement($,{component:"figcaption",size:"sm",align:"center",className:C.caption},I)))});ut.displayName="@mantine/core/Image";const Er=({id:e,start_date:r,end_date:t,name:n,disabled:a=!1,onClick:i})=>{const l=Rt(),u=new Date(r),f=new Date(t),m=new Date,c=m>=u&&m<=f;return o.jsxs(Ur,{unstyled:!0,disabled:!c||a,onClick:i,styles:p=>({root:{borderColor:`${c?"#51CF66":"red"}`,padding:"1rem",backgroundColor:`${p.colorScheme==="dark"?p.colors.dark[7]:p.white}`,cursor:"pointer",color:p.colorScheme==="dark"?"white":p.colors.gray[9],borderRadius:"8px",outline:"none","&:disabled":{cursor:"not-allowed",backgroundColor:`${l?p.colors.dark[4]:"rgba(233, 233, 233, 1)"}`}},label:{justifyContent:"space-between",display:"flex",alignItems:"center"}}),children:[o.jsxs(rr,{children:[o.jsx(gn,{size:30}),o.jsxs(X,{children:[o.jsx(tr,{order:3,align:"left",weight:"bolder",children:n}),o.jsxs($,{align:"left",children:[new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})," ","-"," ",new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),o.jsx(An,{variant:"light",color:`${c?"green":"red"}`,size:"lg",children:c?"Dibuka":"Ditutup"})]},e)},pt=e=>{const[r,t]=g.useState(e),n=Xr(e);return g.useEffect(()=>{t(n==null?void 0:n.initialValues)},[n]),r},Yn=()=>{const e=pt({step:1,stagingId:null}),r=zt(),{data:t,isLoading:n,isSuccess:a}=Ce({queryKey:["jalur_pendaftaran_pembelian"],queryFn:()=>Tt("PEMBELIAN")}),{data:i,isLoading:l,isSuccess:u}=Ce({queryKey:["student_staging_offset",e.stagingId],queryFn:()=>et(e.stagingId),enabled:!!e.stagingId}),f=Lt({mutationFn:un}),m=(c,p)=>{const v=()=>{f.mutate(c,{onSuccess:()=>{Yr.success("Sukses memilih gelommbang pendaftaran"),r.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:w=>mn(w)})},h=()=>{console.log("cancel")};Mt.openContextModal({modal:"createInformasi",innerProps:{onAccept:v,onCancel:h,modalBody:`Anda yakin ingin memilih ${p}?`}})};return o.jsxs(Nt,{withBorder:!0,radius:"md",sx:c=>({backgroundColor:c.colorScheme==="dark"?c.colors.dark[9]:c.white,padding:"2rem"}),children:[o.jsx(tt,{visible:f.isPending||l}),u&&i.data?o.jsxs(o.Fragment,{children:[o.jsx($,{weight:500,children:"Pilihan Anda"}),o.jsx(ce,{mt:20,children:o.jsx(Er,{...i.data.registrationBatch})})]}):o.jsxs(o.Fragment,{children:[o.jsx($,{weight:500,children:"Pilih Salah Satu Gelombang"}),o.jsxs(ce,{mt:20,children:[n&&o.jsx(rt,{content:"Lorem ipsum"}),a&&t&&t.data.length>0&&t.data.map(c=>o.jsx(Er,{...c,onClick:()=>m(c.id,c.name)}))]})]})]})};var Zn=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function de(e,r){var t=Qn(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Qn(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),a=Zn.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var Jn=[".DS_Store","Thumbs.db"];function Xn(e){return ee(this,void 0,void 0,function(){return re(this,function(r){return Ie(e)&&ea(e.dataTransfer)?[2,aa(e.dataTransfer,e.type)]:ra(e)?[2,ta(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,na(e)]:[2,[]]})})}function ea(e){return Ie(e)}function ra(e){return Ie(e)&&Ie(e.target)}function Ie(e){return typeof e=="object"&&e!==null}function ta(e){return ar(e.target.files).map(function(r){return de(r)})}function na(e){return ee(this,void 0,void 0,function(){var r;return re(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return de(n)})]}})})}function aa(e,r){return ee(this,void 0,void 0,function(){var t,n;return re(this,function(a){switch(a.label){case 0:return e.items?(t=ar(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(oa))]):[3,2];case 1:return n=a.sent(),[2,kr(dt(n))];case 2:return[2,kr(ar(e.files).map(function(i){return de(i)}))]}})})}function kr(e){return e.filter(function(r){return Jn.indexOf(r.name)===-1})}function ar(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function oa(e){if(typeof e.webkitGetAsEntry!="function")return Cr(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?ft(r):Cr(e)}function dt(e){return e.reduce(function(r,t){return mr(mr([],vr(r),!1),vr(Array.isArray(t)?dt(t):[t]),!1)},[])}function Cr(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=de(r);return Promise.resolve(t)}function ia(e){return ee(this,void 0,void 0,function(){return re(this,function(r){return[2,e.isDirectory?ft(e):sa(e)]})})}function ft(e){var r=e.createReader();return new Promise(function(t,n){var a=[];function i(){var l=this;r.readEntries(function(u){return ee(l,void 0,void 0,function(){var f,m,c;return re(this,function(p){switch(p.label){case 0:if(u.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return f=p.sent(),t(f),[3,4];case 3:return m=p.sent(),n(m),[3,4];case 4:return[3,6];case 5:c=Promise.all(u.map(ia)),a.push(c),i(),p.label=6;case 6:return[2]}})})},function(u){n(u)})}i()})}function sa(e){return ee(this,void 0,void 0,function(){return re(this,function(r){return[2,new Promise(function(t,n){e.file(function(a){var i=de(a,e.fullPath);t(i)},function(a){n(a)})})]})})}var la=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return t.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?i===u.replace(/\/.*$/,""):a===u})}return!0};function Fr(e){return pa(e)||ua(e)||mt(e)||ca()}function ca(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ua(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pa(e){if(Array.isArray(e))return or(e)}function Ar(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function $r(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ar(Object(t),!0).forEach(function(n){gt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ar(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ue(e,r){return ga(e)||fa(e,r)||mt(e,r)||da()}function da(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,r){if(e){if(typeof e=="string")return or(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return or(e,r)}}function or(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fa(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,i=!1,l,u;try{for(t=t.call(e);!(a=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));a=!0);}catch(f){i=!0,u=f}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function ga(e){if(Array.isArray(e))return e}var ma="file-invalid-type",va="file-too-large",ya="file-too-small",ba="too-many-files",ha=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:ma,message:"File type must be ".concat(t)}},Ir=function(r){return{code:va,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Rr=function(r){return{code:ya,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},_a={code:ba,message:"Too many files"};function vt(e,r){var t=e.type==="application/x-moz-file"||la(e,r);return[t,t?null:ha(r)]}function yt(e,r,t){if(W(e.size))if(W(r)&&W(t)){if(e.size>t)return[!1,Ir(t)];if(e.size<r)return[!1,Rr(r)]}else{if(W(r)&&e.size<r)return[!1,Rr(r)];if(W(t)&&e.size>t)return[!1,Ir(t)]}return[!0,null]}function W(e){return e!=null}function xa(e){var r=e.files,t=e.accept,n=e.minSize,a=e.maxSize,i=e.multiple,l=e.maxFiles,u=e.validator;return!i&&r.length>1||i&&l>=1&&r.length>l?!1:r.every(function(f){var m=vt(f,t),c=ue(m,1),p=c[0],v=yt(f,n,a),h=ue(v,1),w=h[0],j=u?u(f):null;return p&&w&&!j})}function Re(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Se(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function zr(e){e.preventDefault()}function wa(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Oa(e){return e.indexOf("Edge/")!==-1}function ja(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return wa(e)||Oa(e)}function B(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return r.some(function(u){return!Re(n)&&u&&u.apply(void 0,[n].concat(i)),Re(n)})}}function Da(){return"showOpenFilePicker"in window}function Pa(e){if(W(e)){var r=Object.entries(e).filter(function(t){var n=ue(t,2),a=n[0],i=n[1],l=!0;return bt(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(i)||!i.every(ht))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var a=ue(n,2),i=a[0],l=a[1];return $r($r({},t),{},gt({},i,l))},{});return[{description:"Files",accept:r}]}return e}function Sa(e){if(W(e))return Object.entries(e).reduce(function(r,t){var n=ue(t,2),a=n[0],i=n[1];return[].concat(Fr(r),[a],Fr(i))},[]).filter(function(r){return bt(r)||ht(r)}).join(",")}function Ea(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ka(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function bt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function ht(e){return/^.*\.[\w]+$/.test(e)}var Ca=["children"],Fa=["open"],Aa=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],$a=["refKey","onChange","onClick"];function Ia(e){return Ta(e)||za(e)||_t(e)||Ra()}function Ra(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function za(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ta(e){if(Array.isArray(e))return ir(e)}function Qe(e,r){return Ma(e)||Na(e,r)||_t(e,r)||La()}function La(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(e,r){if(e){if(typeof e=="string")return ir(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ir(e,r)}}function ir(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Na(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,i=!1,l,u;try{for(t=t.call(e);!(a=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));a=!0);}catch(f){i=!0,u=f}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function Ma(e){if(Array.isArray(e))return e}function Tr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Tr(Object(t),!0).forEach(function(n){sr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ze(e,r){if(e==null)return{};var t=Ba(e,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Ba(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}var cr=g.forwardRef(function(e,r){var t=e.children,n=ze(e,Ca),a=wt(n),i=a.open,l=ze(a,Fa);return g.useImperativeHandle(r,function(){return{open:i}},[i]),_.createElement(g.Fragment,null,t(x(x({},l),{},{open:i})))});cr.displayName="Dropzone";var xt={disabled:!1,getFilesFromEvent:Xn,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};cr.defaultProps=xt;cr.propTypes={children:y.func,accept:y.objectOf(y.arrayOf(y.string)),multiple:y.bool,preventDropOnDocument:y.bool,noClick:y.bool,noKeyboard:y.bool,noDrag:y.bool,noDragEventsBubbling:y.bool,minSize:y.number,maxSize:y.number,maxFiles:y.number,disabled:y.bool,getFilesFromEvent:y.func,onFileDialogCancel:y.func,onFileDialogOpen:y.func,useFsAccessApi:y.bool,autoFocus:y.bool,onDragEnter:y.func,onDragLeave:y.func,onDragOver:y.func,onDrop:y.func,onDropAccepted:y.func,onDropRejected:y.func,onError:y.func,validator:y.func};var lr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function wt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=x(x({},xt),e),t=r.accept,n=r.disabled,a=r.getFilesFromEvent,i=r.maxSize,l=r.minSize,u=r.multiple,f=r.maxFiles,m=r.onDragEnter,c=r.onDragLeave,p=r.onDragOver,v=r.onDrop,h=r.onDropAccepted,w=r.onDropRejected,j=r.onFileDialogCancel,I=r.onFileDialogOpen,k=r.useFsAccessApi,T=r.autoFocus,L=r.preventDropOnDocument,K=r.noClick,C=r.noKeyboard,N=r.noDrag,F=r.noDragEventsBubbling,S=r.onError,z=r.validator,H=g.useMemo(function(){return Sa(t)},[t]),fe=g.useMemo(function(){return Pa(t)},[t]),ne=g.useMemo(function(){return typeof I=="function"?I:Lr},[I]),q=g.useMemo(function(){return typeof j=="function"?j:Lr},[j]),D=g.useRef(null),A=g.useRef(null),ge=g.useReducer(Ka,lr),me=Qe(ge,2),ae=me[0],E=me[1],ve=ae.isFocused,ye=ae.isFileDialogActive,G=g.useRef(typeof window<"u"&&window.isSecureContext&&k&&Da()),be=function(){!G.current&&ye&&setTimeout(function(){if(A.current){var d=A.current.files;d.length||(E({type:"closeDialog"}),q())}},300)};g.useEffect(function(){return window.addEventListener("focus",be,!1),function(){window.removeEventListener("focus",be,!1)}},[A,ye,q,G]);var M=g.useRef([]),U=function(d){D.current&&D.current.contains(d.target)||(d.preventDefault(),M.current=[])};g.useEffect(function(){return L&&(document.addEventListener("dragover",zr,!1),document.addEventListener("drop",U,!1)),function(){L&&(document.removeEventListener("dragover",zr),document.removeEventListener("drop",U))}},[D,L]),g.useEffect(function(){return!n&&T&&D.current&&D.current.focus(),function(){}},[D,T,n]);var V=g.useCallback(function(s){S?S(s):console.error(s)},[S]),oe=g.useCallback(function(s){s.preventDefault(),s.persist(),je(s),M.current=[].concat(Ia(M.current),[s.target]),Se(s)&&Promise.resolve(a(s)).then(function(d){if(!(Re(s)&&!F)){var O=d.length,P=O>0&&xa({files:d,accept:H,minSize:l,maxSize:i,multiple:u,maxFiles:f,validator:z}),R=O>0&&!P;E({isDragAccept:P,isDragReject:R,isDragActive:!0,type:"setDraggedFiles"}),m&&m(s)}}).catch(function(d){return V(d)})},[a,m,V,F,H,l,i,u,f,z]),he=g.useCallback(function(s){s.preventDefault(),s.persist(),je(s);var d=Se(s);if(d&&s.dataTransfer)try{s.dataTransfer.dropEffect="copy"}catch{}return d&&p&&p(s),!1},[p,F]),_e=g.useCallback(function(s){s.preventDefault(),s.persist(),je(s);var d=M.current.filter(function(P){return D.current&&D.current.contains(P)}),O=d.indexOf(s.target);O!==-1&&d.splice(O,1),M.current=d,!(d.length>0)&&(E({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Se(s)&&c&&c(s))},[D,c,F]),xe=g.useCallback(function(s,d){var O=[],P=[];s.forEach(function(R){var ie=vt(R,H),Q=Qe(ie,2),Be=Q[0],Ke=Q[1],He=yt(R,l,i),De=Qe(He,2),Ve=De[0],We=De[1],qe=z?z(R):null;if(Be&&Ve&&!qe)O.push(R);else{var Ge=[Ke,We];qe&&(Ge=Ge.concat(qe)),P.push({file:R,errors:Ge.filter(function(At){return At})})}}),(!u&&O.length>1||u&&f>=1&&O.length>f)&&(O.forEach(function(R){P.push({file:R,errors:[_a]})}),O.splice(0)),E({acceptedFiles:O,fileRejections:P,type:"setFiles"}),v&&v(O,P,d),P.length>0&&w&&w(P,d),O.length>0&&h&&h(O,d)},[E,u,H,l,i,f,v,h,w,z]),we=g.useCallback(function(s){s.preventDefault(),s.persist(),je(s),M.current=[],Se(s)&&Promise.resolve(a(s)).then(function(d){Re(s)&&!F||xe(d,s)}).catch(function(d){return V(d)}),E({type:"reset"})},[a,xe,V,F]),Y=g.useCallback(function(){if(G.current){E({type:"openDialog"}),ne();var s={multiple:u,types:fe};window.showOpenFilePicker(s).then(function(d){return a(d)}).then(function(d){xe(d,null),E({type:"closeDialog"})}).catch(function(d){Ea(d)?(q(d),E({type:"closeDialog"})):ka(d)?(G.current=!1,A.current?(A.current.value=null,A.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):V(d)});return}A.current&&(E({type:"openDialog"}),ne(),A.current.value=null,A.current.click())},[E,ne,q,k,xe,V,fe,u]),pr=g.useCallback(function(s){!D.current||!D.current.isEqualNode(s.target)||(s.key===" "||s.key==="Enter"||s.keyCode===32||s.keyCode===13)&&(s.preventDefault(),Y())},[D,Y]),dr=g.useCallback(function(){E({type:"focus"})},[]),fr=g.useCallback(function(){E({type:"blur"})},[]),gr=g.useCallback(function(){K||(ja()?setTimeout(Y,0):Y())},[K,Y]),Z=function(d){return n?null:d},Me=function(d){return C?null:Z(d)},Oe=function(d){return N?null:Z(d)},je=function(d){F&&d.stopPropagation()},kt=g.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=s.refKey,O=d===void 0?"ref":d,P=s.role,R=s.onKeyDown,ie=s.onFocus,Q=s.onBlur,Be=s.onClick,Ke=s.onDragEnter,He=s.onDragOver,De=s.onDragLeave,Ve=s.onDrop,We=ze(s,Aa);return x(x(sr({onKeyDown:Me(B(R,pr)),onFocus:Me(B(ie,dr)),onBlur:Me(B(Q,fr)),onClick:Z(B(Be,gr)),onDragEnter:Oe(B(Ke,oe)),onDragOver:Oe(B(He,he)),onDragLeave:Oe(B(De,_e)),onDrop:Oe(B(Ve,we)),role:typeof P=="string"&&P!==""?P:"presentation"},O,D),!n&&!C?{tabIndex:0}:{}),We)}},[D,pr,dr,fr,gr,oe,he,_e,we,C,N,n]),Ct=g.useCallback(function(s){s.stopPropagation()},[]),Ft=g.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=s.refKey,O=d===void 0?"ref":d,P=s.onChange,R=s.onClick,ie=ze(s,$a),Q=sr({accept:H,multiple:u,type:"file",style:{display:"none"},onChange:Z(B(P,we)),onClick:Z(B(R,Ct)),tabIndex:-1},O,A);return x(x({},Q),ie)}},[A,t,u,we,n]);return x(x({},ae),{},{isFocused:ve&&!n,getRootProps:kt,getInputProps:Ft,rootRef:D,inputRef:A,open:Z(Y)})}function Ka(e,r){switch(r.type){case"focus":return x(x({},e),{},{isFocused:!0});case"blur":return x(x({},e),{},{isFocused:!1});case"openDialog":return x(x({},lr),{},{isFileDialogActive:!0});case"closeDialog":return x(x({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return x(x({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return x(x({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return x({},lr);default:return e}}function Lr(){}const[Ha,Va]=Bt("Dropzone component was not found in tree");var Nr=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,qa=Object.prototype.propertyIsEnumerable,Ga=(e,r)=>{var t={};for(var n in e)Wa.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Nr)for(var n of Nr(e))r.indexOf(n)<0&&qa.call(e,n)&&(t[n]=e[n]);return t};function ur(e){const r=t=>{const n=pe(`Dropzone${yr(e)}`,{},t),{children:a}=n,i=Ga(n,["children"]),l=Va(),u=Kt(a)?a:_.createElement("span",null,a);return l[e]?g.cloneElement(u,i):null};return r.displayName=`@mantine/dropzone/${yr(e)}`,r}const Ua=ur("accept"),Ya=ur("reject"),Za=ur("idle");var Qa=Object.defineProperty,Ja=Object.defineProperties,Xa=Object.getOwnPropertyDescriptors,Mr=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,Br=(e,r,t)=>r in e?Qa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Kr=(e,r)=>{for(var t in r||(r={}))eo.call(r,t)&&Br(e,t,r[t]);if(Mr)for(var t of Mr(r))ro.call(r,t)&&Br(e,t,r[t]);return e},to=(e,r)=>Ja(e,Xa(r)),no=Ne((e,{padding:r,radius:t})=>{const n=e.fn.variant({color:"red",variant:"light"}),a=e.fn.variant({color:e.primaryColor,variant:"light"});return{root:to(Kr(Kr({},e.fn.fontStyles()),e.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${b(2)} dashed ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,padding:ke({size:r,sizes:e.spacing}),borderRadius:e.fn.radius(t),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}},"&[data-accept]":{backgroundColor:e.colorScheme==="dark"?a.background:e.colors[e.primaryColor][0],borderColor:e.colorScheme==="dark"?a.border:e.colors[e.primaryColor][4],"&:hover":{backgroundColor:e.colorScheme==="dark"?a.background:e.colors[e.primaryColor][0]}},"&[data-reject]":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0],borderColor:e.colorScheme==="dark"?n.border:e.colors.red[4],"&:hover":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}});const ao=no;var oo=Object.defineProperty,io=Object.defineProperties,so=Object.getOwnPropertyDescriptors,Te=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,Hr=(e,r,t)=>r in e?oo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,le=(e,r)=>{for(var t in r||(r={}))Ot.call(r,t)&&Hr(e,t,r[t]);if(Te)for(var t of Te(r))jt.call(r,t)&&Hr(e,t,r[t]);return e},Je=(e,r)=>io(e,so(r)),lo=(e,r)=>{var t={};for(var n in e)Ot.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Te)for(var n of Te(e))r.indexOf(n)<0&&jt.call(e,n)&&(t[n]=e[n]);return t};const co={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function te(e){const r=pe("Dropzone",co,e),{className:t,padding:n,radius:a,disabled:i,classNames:l,styles:u,loading:f,multiple:m,maxSize:c,accept:p,children:v,onDropAny:h,onDrop:w,onReject:j,openRef:I,name:k,unstyled:T,maxFiles:L,autoFocus:K,activateOnClick:C,activateOnDrag:N,dragEventsBubbling:F,activateOnKeyboard:S,onDragEnter:z,onDragLeave:H,onDragOver:fe,onFileDialogCancel:ne,onFileDialogOpen:q,preventDropOnDocument:D,useFsAccessApi:A,getFilesFromEvent:ge,validator:me,variant:ae}=r,E=lo(r,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:ve,cx:ye}=ao({radius:a,padding:n},{name:"Dropzone",classNames:l,styles:u,unstyled:T,variant:ae}),{getRootProps:G,getInputProps:be,isDragAccept:M,isDragReject:U,open:V}=wt(le({onDrop:h,onDropAccepted:w,onDropRejected:j,disabled:i||f,accept:Array.isArray(p)?p.reduce((he,_e)=>Je(le({},he),{[_e]:[]}),{}):p,multiple:m,maxSize:c,maxFiles:L,autoFocus:K,noClick:!C,noDrag:!N,noDragEventsBubbling:!F,noKeyboard:!S,onDragEnter:z,onDragLeave:H,onDragOver:fe,onFileDialogCancel:ne,onFileDialogOpen:q,preventDropOnDocument:D,useFsAccessApi:A,validator:me},ge?{getFilesFromEvent:ge}:null));Ht(I,V);const oe=!M&&!U;return _.createElement(Ha,{value:{accept:M,reject:U,idle:oe}},_.createElement(X,Je(le(le({},E),G()),{"data-accept":M||void 0,"data-reject":U||void 0,"data-idle":oe||void 0,"data-loading":f||void 0,className:ye(ve.root,t)}),_.createElement(tt,{visible:f,radius:a,unstyled:T}),_.createElement("input",Je(le({},be()),{name:k})),_.createElement("div",{className:ve.inner},v)))}te.displayName="@mantine/dropzone/Dropzone";te.Accept=Ua;te.Reject=Ya;te.Idle=Za;const Dt=te;var uo=Object.defineProperty,po=Object.defineProperties,fo=Object.getOwnPropertyDescriptors,Vr=Object.getOwnPropertySymbols,go=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable,Wr=(e,r,t)=>r in e?uo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,vo=(e,r)=>{for(var t in r||(r={}))go.call(r,t)&&Wr(e,t,r[t]);if(Vr)for(var t of Vr(r))mo.call(r,t)&&Wr(e,t,r[t]);return e},yo=(e,r)=>po(e,fo(r)),bo=Ne(e=>({wrapper:yo(vo({},e.fn.cover(0)),{position:"fixed",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,display:"flex",padding:e.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}}));const ho=bo;var _o=Object.defineProperty,xo=Object.defineProperties,wo=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,qr=(e,r,t)=>r in e?_o(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Xe=(e,r)=>{for(var t in r||(r={}))Pt.call(r,t)&&qr(e,t,r[t]);if(Le)for(var t of Le(r))St.call(r,t)&&qr(e,t,r[t]);return e},er=(e,r)=>xo(e,wo(r)),Oo=(e,r)=>{var t={};for(var n in e)Pt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Le)for(var n of Le(e))r.indexOf(n)<0&&St.call(e,n)&&(t[n]=e[n]);return t};const jo={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Vt("max"),withinPortal:!0};function Et(e){const r=pe("DropzoneFullScreen",jo,e),{classNames:t,styles:n,sx:a,className:i,style:l,unstyled:u,active:f,onDrop:m,onReject:c,zIndex:p,withinPortal:v,portalProps:h}=r,w=Oo(r,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[j,I]=_.useState(0),[k,{open:T,close:L}]=Wt(!1),{classes:K,cx:C}=ho(null,{name:"DropzoneFullScreen",classNames:t,styles:n,unstyled:u}),N=S=>{S.dataTransfer.types.includes("Files")&&(I(z=>z+1),T())},F=()=>{I(S=>S-1)};return g.useEffect(()=>{j===0&&L()},[j]),g.useEffect(()=>{if(f)return document.addEventListener("dragenter",N,!1),document.addEventListener("dragleave",F,!1),()=>{document.removeEventListener("dragenter",N,!1),document.removeEventListener("dragleave",F,!1)}},[f]),_.createElement(qt,er(Xe({},h),{withinPortal:v}),_.createElement(X,{className:C(K.wrapper,i),sx:a,style:er(Xe({},l),{opacity:k?1:0,pointerEvents:k?"all":"none",zIndex:p})},_.createElement(te,er(Xe({},w),{classNames:t,styles:n,unstyled:u,className:K.dropzone,onDrop:S=>{m==null||m(S),L()},onReject:S=>{c==null||c(S),L()}}))))}Et.displayName="@mantine/dropzone/DropzoneFullScreen";const J={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",mp4:"video/mp4",zip:"application/zip",csv:"text/csv",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",exe:"application/vnd.microsoft.portable-executable"},Do=[J.png,J.gif,J.jpeg,J.svg,J.webp,J.avif];Dt.FullScreen=Et;const Ee=Dt;function Po(e){return Gt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}function So({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:a,onChange:i,...l}){var p;const{field:{value:u,onChange:f,...m},fieldState:c}=Ut({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:a});return o.jsx(o.Fragment,{children:o.jsx(nr.Group,{label:l.label,description:l.description,value:u,onChange:v=>{f(v),i==null||i(v)},error:(p=c.error)==null?void 0:p.message,...m,...l})})}const Eo=()=>{var u,f,m,c;const e=Zr(),{register:r,control:t,setValue:n,formState:{errors:a},watch:i}=Yt(),l=i("payment_type");return o.jsxs(ce,{spacing:10,children:[o.jsx(Zt,{render:({field:{onChange:p,value:v}})=>o.jsxs(Ee,{multiple:!1,onChange:h=>{var w;return p(((w=h.target.files)==null?void 0:w[0])??null)},onReject:h=>{h[0].errors[0].code=="file-too-large"&&Yr.error("Size gambar terlalu besar dari 5MB")},maxSize:3*1024**2,accept:Do,onDrop:h=>{p(h)},children:[o.jsxs(rr,{position:"center",spacing:"xl",style:{minHeight:b(220),pointerEvents:"none"},children:[o.jsx(Ee.Accept,{children:o.jsx(Qt,{size:"3.2rem",color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6]})}),o.jsx(Ee.Reject,{children:o.jsx(Po,{size:"3.2rem",color:e.colors.red[e.colorScheme==="dark"?4:6]})}),o.jsx(Ee.Idle,{children:o.jsx(Jt,{size:"3.2rem"})}),o.jsx($,{size:"",children:"Upload Bukti Bayar, Max : 5MB"})]}),o.jsx(Xt,{cols:4,mt:5,breakpoints:[{maxWidth:"sm",cols:1}],children:v&&v.map((h,w)=>{const j=URL.createObjectURL(h);return o.jsx(ut,{src:j,w:20,imageProps:{onLoad:()=>URL.revokeObjectURL(j)}},w)})})]}),name:"payment_prove",control:t}),o.jsx(en,{thousandSeparator:".",decimalSeparator:",",prefix:"Rp. ",customInput:Pe,error:a.price&&o.jsx("div",{children:(u=a.price)==null?void 0:u.message}),placeholder:"Rp. 0",label:"Input Nominal",description:"Input Nominal",required:!0,...r("price",{required:!1,valueAsNumber:!0}),onValueChange:p=>{n("price",p.floatValue)}}),o.jsx(So,{name:"payment_type",control:t,label:"Metode Pembayaran",description:"Pilih salah satu",children:o.jsxs(rr,{mt:"xs",children:[o.jsx(nr,{value:"CASH",label:"Tunai"}),o.jsx(nr,{value:"TRANSFER",label:"Transfer"})]})}),l&&l==="TRANSFER"&&o.jsxs(o.Fragment,{children:[o.jsx(Pe,{description:"Masukkan nama bank",label:"Nama Bank",placeholder:"Bank BCA,BNI",withAsterisk:!0,error:a.bank_name&&o.jsx("div",{children:(f=a.bank_name)==null?void 0:f.message}),required:!0,...r("bank_name",{required:!0})}),o.jsx(Pe,{label:"Nomor Rekening",description:"Masukkan nomor rekening",withAsterisk:!0,type:"number",error:a.bank_account&&o.jsx("div",{children:(m=a.bank_account)==null?void 0:m.message}),required:!0,...r("bank_account",{required:!0})}),o.jsx(Pe,{label:"Nama Pemilik Rekening",description:"Masukkan nama pemilik rekening",withAsterisk:!0,error:a.bank_user&&o.jsx("div",{children:(c=a.bank_user)==null?void 0:c.message}),required:!0,...r("bank_user",{required:!0})})]})]})},ko=()=>{const e=pt({step:2,stagingId:null});return g.useRef(null),Zr(),Ce({queryKey:["student_staging_offset",e.stagingId],queryFn:()=>et(e.stagingId),enabled:!!e.stagingId}),o.jsxs(X,{sx:r=>({backgroundColor:`${r.colorScheme==="dark"?r.colors.dark[7]:r.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:[o.jsxs(ce,{children:[o.jsx(tr,{children:"Bayar Pendaftaran"}),o.jsx($,{className:"font-semibold",children:"Silahkan melakukan transfer ke rekening dibawah ini :"}),o.jsx("table",{className:"w-[35rem]",children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:"Bank"}),o.jsx("td",{children:o.jsxs($,{children:[":"," ",o.jsx($,{component:"span",weight:"bold",children:"Bank Danamon"})]})})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Nomor Rekening"}),o.jsx("td",{children:o.jsxs($,{children:[":"," ",o.jsx($,{component:"span",weight:"bold",children:"320940492"})]})})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Atas Nama"}),o.jsx("td",{children:o.jsxs($,{children:[":"," ",o.jsx($,{component:"span",weight:"bold",children:"SMK Tinta Emas Indonesia"})]})})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Status Pembayaran"}),o.jsx("td",{children:o.jsxs($,{children:[":"," ",o.jsx($,{component:"span",weight:"bold",children:"Menunggu Biaya Pendaftaran"})]})})]})]})})]}),o.jsxs(vn,{id:"form-uploadbukti",onSubmit:console.log,children:[o.jsx(tr,{order:3,my:50,children:"Bukti Transfer"}),o.jsx(Qr,{}),o.jsx(Eo,{}),o.jsx(Ur,{type:"submit",mt:10,children:"Submit"})]}),o.jsx(Jr,{position:"top-center",reverseOrder:!0})]})},Co=e=>o.jsx(on,{unstyled:!0,styles:r=>({tab:{...r.fn.focusStyles(),backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white,color:r.colorScheme==="dark"?"white":r.colors.gray[9],border:"none",boxShadow:"0 10px 20px -10px rgba(0,0,0,0.2)",cursor:"pointer",fontSize:r.fontSizes.sm,borderRadius:"5px","&:disabled":{cursor:"not-allowed",color:r.colorScheme==="dark"?r.colors.gray[4]:r.colors.gray[8],backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[4]},"&[data-active]":{background:"linear-gradient(45deg, #4c6ef5 0%, #15aabf 100%)",borderColor:r.colors.blue[7],color:r.white,boxShadow:"0 10px 20px -10px rgba(0,0,0,0.5)"}},tabsList:{overflowX:"auto"}}),...e}),Gr=[{index:1,label:"Pilih Gelombang PPDB",icon:sn,content:o.jsx(Yn,{})},{index:2,label:"Transaksi Pembelian",icon:dn,content:o.jsx(ko,{})},{index:3,label:"Pilih Jurusan",icon:ln,content:o.jsx("div",{children:"Div"})},{index:4,label:"Cetak Kartu Peserta",icon:cn,content:o.jsx("div",{children:"div"})}],To=()=>{var m;const[e,r]=g.useState({step:1,stagingId:null}),{data:t,isLoading:n,isSuccess:a}=Ce({queryKey:["get_last_offset_batch"],queryFn:()=>fn("PEMBELIAN")}),i=Xr(e),l=rn(),u=tn();g.useEffect(()=>{r(i==null?void 0:i.initialValues)},[i]),g.useEffect(()=>{if(a){const c=t.data.filter(p=>p.is_done===1);if(c.length>0){if(t.data[t.data.length-1].index!==c[c.length-1].index){const p=c[c.length-1].index+1,v={step:p,stagingId:t.data.find(h=>h.index===p).id};r(v),u(`${l.pathname}?${Ue(v)}`)}}else{const p={step:1,stagingId:t.data.find(v=>v.index===1).id};r(p),u(`${l.pathname}?${Ue(p)}`)}}},[t,a]);const f=c=>{const p={step:+c,stagingId:t.data.find(v=>v.index===+c).id};u(`${l.pathname}?${Ue(p)}`)};return o.jsxs(nn,{title:"Pembelian",children:[o.jsx(an,{label:"Pembelian"}),o.jsx(ce,{className:"style-box",children:o.jsxs(Co,{value:`${e.step}`,onTabChange:f,children:[n&&o.jsx(rt,{width:"100%"}),a&&o.jsx(pn,{activeTabIndex:+e.step,card:t.data.map((c,p)=>{var v;return{label:c.name,index:c.index,icon:(v=Gr[p])==null?void 0:v.icon,is_done:c.is_done===1}})}),o.jsx(Qr,{my:20}),(m=Gr.find(c=>c.index===e.step))==null?void 0:m.content]})}),o.jsx(Jr,{position:"top-center",reverseOrder:!1})]})};export{To as default};
