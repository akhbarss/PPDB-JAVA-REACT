import{t as W,x as Sr,y as ie,R as D,X as Nt,al as un,am as Vn,r as v,C as Dr,an as $t,W as Tt,a9 as dn,aa as Lr,ab as pn,ao as zt,k as Ie,q as Lt,m as Wn,u as Mt,b as de,V as Xr,ap as Bt,aq as Kt,j as t,B as ge,G as gr,f as tr,c as M,ar as w,D as Wr,n as qt,l as Or,P as kr,S as Ve,_ as We,T as hr,aj as Zr,I as en,$ as qe,w as Hn,as as He,at as Ue,au as fn,av as mn,aw as _,ax as Vt,ay as Wt,az as Ht,aA as Ut,aB as Jt,aC as Gt,ai as Hr,a as Un,ag as Yt,aD as Qt,p as pr,a1 as gn,aE as Xt}from"./index-7cb0f30c.js";import{R as Pr}from"./ResponseError-252f1eaa.js";import{a as Zt}from"./index.esm-de00fa2d.js";import{g as ea,H as ra}from"./index.esm-fbceaefa.js";import{B as na,D as ta,a as aa}from"./DataTable-f3beb093.js";import{B as oa}from"./Badge-46a18456.js";import{L as Jn}from"./LoadingOverlay-7dce2269.js";import{a as sa,u as ia,C as hn,F as la}from"./FormWrapper-27f535ba.js";import{S as ca}from"./SimpleGrid-44ad311c.js";import{I as ua}from"./Image-9a78668e.js";import{D as da,u as pa,g as fa,a as Mr,b as ma,c as ga,d as ha,S as va}from"./Select-58ec8a31.js";function vn(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}const Gn={xs:W(16),sm:W(22),md:W(26),lg:W(30),xl:W(36)},ya={xs:W(10),sm:W(12),md:W(14),lg:W(16),xl:W(18)};var ba=Sr((e,{disabled:r,radius:n,readOnly:a},{size:o,variant:i})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:r?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:i==="filled"?e.white:e.colors.gray[1],color:r?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:ie({size:o,sizes:Gn}),paddingLeft:`calc(${ie({size:o,sizes:e.spacing})} / 1.5)`,paddingRight:r||a?ie({size:o,sizes:e.spacing}):0,fontWeight:500,fontSize:ie({size:o,sizes:ya}),borderRadius:ie({size:n,sizes:e.radius}),cursor:r?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${W(10)})`},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${ie({size:o,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const xa=ba;var ja=Object.defineProperty,vr=Object.getOwnPropertySymbols,Yn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,yn=(e,r,n)=>r in e?ja(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,wa=(e,r)=>{for(var n in r||(r={}))Yn.call(r,n)&&yn(e,n,r[n]);if(vr)for(var n of vr(r))Qn.call(r,n)&&yn(e,n,r[n]);return e},_a=(e,r)=>{var n={};for(var a in e)Yn.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&vr)for(var a of vr(e))r.indexOf(a)<0&&Qn.call(e,a)&&(n[a]=e[a]);return n};const Sa={xs:16,sm:22,md:24,lg:26,xl:30};function Xn(e){var r=e,{label:n,classNames:a,styles:o,className:i,onRemove:s,disabled:l,readOnly:u,size:f,radius:m="sm",variant:p,unstyled:y}=r,b=_a(r,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:d,cx:x}=xa({disabled:l,readOnly:u,radius:m},{name:"MultiSelect",classNames:a,styles:o,unstyled:y,size:f,variant:p});return D.createElement("div",wa({className:x(d.defaultValue,i)},b),D.createElement("span",{className:d.defaultValueLabel},n),!l&&!u&&D.createElement(Nt,{"aria-hidden":!0,onMouseDown:s,size:Sa[f],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:d.defaultValueRemove,tabIndex:-1,unstyled:y}))}Xn.displayName="@mantine/core/MultiSelect/DefaultValue";function Da({data:e,searchable:r,limit:n,searchValue:a,filter:o,value:i,disableSelectedItemFiltering:s}){if(!r&&i.length===0)return e;if(!r){const u=[];for(let f=0;f<e.length;f+=1)(s||!i.some(m=>m===e[f].value&&!e[f].disabled))&&u.push(e[f]);return u}const l=[];for(let u=0;u<e.length&&(o(a,!s&&i.some(f=>f===e[u].value&&!e[u].disabled),e[u])&&l.push(e[u]),!(l.length>=n));u+=1);return l}var Oa=Object.defineProperty,ka=Object.defineProperties,Pa=Object.getOwnPropertyDescriptors,bn=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,Ca=Object.prototype.propertyIsEnumerable,xn=(e,r,n)=>r in e?Oa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Ia=(e,r)=>{for(var n in r||(r={}))Ea.call(r,n)&&xn(e,n,r[n]);if(bn)for(var n of bn(r))Ca.call(r,n)&&xn(e,n,r[n]);return e},Aa=(e,r)=>ka(e,Pa(r)),Fa=Sr((e,{invalid:r},{size:n})=>({wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3],color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${ie({size:n,sizes:un})} - ${W(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:ie({size:n,sizes:un})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${W(2)}) calc(${e.spacing.xs} / 2)`},searchInput:Aa(Ia({},e.fn.fontStyles()),{flex:1,minWidth:W(60),backgroundColor:"transparent",border:0,outline:0,fontSize:ie({size:n,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:ie({size:n,sizes:Gn}),"&::placeholder":{opacity:1,color:r?e.colors.red[e.fn.primaryShade()]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}));const Ra=Fa;var Na=Object.defineProperty,$a=Object.defineProperties,Ta=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,jn=(e,r,n)=>r in e?Na(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Be=(e,r)=>{for(var n in r||(r={}))Zn.call(r,n)&&jn(e,n,r[n]);if(yr)for(var n of yr(r))et.call(r,n)&&jn(e,n,r[n]);return e},wn=(e,r)=>$a(e,Ta(r)),za=(e,r)=>{var n={};for(var a in e)Zn.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&yr)for(var a of yr(e))r.indexOf(a)<0&&et.call(e,a)&&(n[a]=e[a]);return n};function La(e,r,n){return r?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function Ma(e,r){return!!e&&!r.some(n=>n.value.toLowerCase()===e.toLowerCase())}function _n(e,r){if(!Array.isArray(e))return;if(r.length===0)return[];const n=r.map(a=>typeof a=="object"?a.value:a);return e.filter(a=>n.includes(a))}const Ba={size:"sm",valueComponent:Xn,itemComponent:da,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:La,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:Ma,switchDirectionOnFlip:!1,zIndex:Vn("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},rt=v.forwardRef((e,r)=>{const n=Dr("MultiSelect",Ba,e),{className:a,style:o,required:i,label:s,description:l,size:u,error:f,classNames:m,styles:p,wrapperProps:y,value:b,defaultValue:d,data:x,onChange:O,valueComponent:N,itemComponent:H,id:j,transitionProps:q,maxDropdownHeight:G,shadow:Q,nothingFound:$,onFocus:F,onBlur:U,searchable:R,placeholder:pe,filter:le,limit:te,clearSearchOnChange:E,clearable:T,clearSearchOnBlur:fe,variant:B,onSearchChange:X,searchValue:k,disabled:C,initiallyOpened:he,radius:ae,icon:Ae,rightSection:Z,rightSectionWidth:ve,creatable:ee,getCreateLabel:ye,shouldCreate:Fe,onCreate:Se,sx:Re,dropdownComponent:Ne,onDropdownClose:be,onDropdownOpen:or,maxSelectedValues:J,withinPortal:sr,portalProps:ir,switchDirectionOnFlip:xe,zIndex:Ge,selectOnBlur:$e,name:Te,dropdownPosition:Ir,errorProps:Ar,labelProps:Fr,descriptionProps:c,form:h,positionDependencies:I,onKeyDown:z,unstyled:L,inputContainer:De,inputWrapperOrder:je,readOnly:oe,withAsterisk:Ye,clearButtonProps:Qe,hoverOnSearchChange:Oe,disableSelectedItemFiltering:Xe}=n,Ze=za(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","portalProps","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:re,cx:ze,theme:Rr}=Ra({invalid:!!f},{name:"MultiSelect",classNames:m,styles:p,unstyled:L,size:u,variant:B}),{systemStyles:jt,rest:wt}=$t(Ze),Nr=v.useRef(),$r=v.useRef({}),Le=Tt(j),[Y,V]=v.useState(he),[_t,we]=v.useState(-1),[tn,St]=v.useState("column"),[ce,lr]=dn({value:k,defaultValue:"",finalValue:void 0,onChange:X}),[Dt,an]=v.useState(!1),{scrollIntoView:cr,targetRef:on,scrollableRef:Ot}=pa({duration:0,offset:5,cancelable:!1,isList:!0}),sn=ee&&typeof ye=="function";let Tr=null;const kt=x.map(g=>typeof g=="string"?{label:g,value:g}:g),zr=fa({data:kt}),[A,Me]=dn({value:_n(b,x),defaultValue:_n(d,x),finalValue:[],onChange:O}),se=v.useRef(!!J&&J<A.length),ln=g=>{if(!oe){const S=A.filter(ne=>ne!==g);Me(S),J&&S.length<J&&(se.current=!1)}},Pt=g=>{lr(g.currentTarget.value),!C&&!se.current&&R&&V(!0)},Et=g=>{typeof F=="function"&&F(g),!C&&!se.current&&R&&V(!0)},K=Da({data:zr,searchable:R,searchValue:ce,limit:te,filter:le,value:A,disableSelectedItemFiltering:Xe});sn&&Fe(ce,zr)&&(Tr=ye(ce),K.push({label:ce,value:ce,creatable:!0}));const ke=Math.min(_t,K.length-1),cn=(g,S,ne)=>{let _e=g;for(;ne(_e);)if(_e=S(_e),!K[_e].disabled)return _e;return g};Lr(()=>{we(Oe&&ce?0:-1)},[ce,Oe]),Lr(()=>{!C&&A.length>x.length&&V(!1),J&&A.length<J&&(se.current=!1),J&&A.length>=J&&(se.current=!0,V(!1))},[A]);const ur=g=>{if(!oe)if(E&&lr(""),A.includes(g.value))ln(g.value);else{if(g.creatable&&typeof Se=="function"){const S=Se(g.value);typeof S<"u"&&S!==null&&Me(typeof S=="string"?[...A,S]:[...A,S.value])}else Me([...A,g.value]);A.length===J-1&&(se.current=!0,V(!1)),K.length===1&&V(!1)}},Ct=g=>{typeof U=="function"&&U(g),$e&&K[ke]&&Y&&ur(K[ke]),fe&&lr(""),V(!1)},It=g=>{if(Dt||(z==null||z(g),oe)||g.key!=="Backspace"&&J&&se.current)return;const S=tn==="column",ne=()=>{we(Pe=>{var me;const er=cn(Pe,Ee=>Ee+1,Ee=>Ee<K.length-1);return Y&&(on.current=$r.current[(me=K[er])==null?void 0:me.value],cr({alignment:S?"end":"start"})),er})},_e=()=>{we(Pe=>{var me;const er=cn(Pe,Ee=>Ee-1,Ee=>Ee>0);return Y&&(on.current=$r.current[(me=K[er])==null?void 0:me.value],cr({alignment:S?"start":"end"})),er})};switch(g.key){case"ArrowUp":{g.preventDefault(),V(!0),S?_e():ne();break}case"ArrowDown":{g.preventDefault(),V(!0),S?ne():_e();break}case"Enter":{g.preventDefault(),K[ke]&&Y?ur(K[ke]):V(!0);break}case" ":{R||(g.preventDefault(),K[ke]&&Y?ur(K[ke]):V(!0));break}case"Backspace":{A.length>0&&ce.length===0&&(Me(A.slice(0,-1)),V(!0),J&&(se.current=!1));break}case"Home":{if(!R){g.preventDefault(),Y||V(!0);const Pe=K.findIndex(me=>!me.disabled);we(Pe),cr({alignment:S?"end":"start"})}break}case"End":{if(!R){g.preventDefault(),Y||V(!0);const Pe=K.map(me=>!!me.disabled).lastIndexOf(!1);we(Pe),cr({alignment:S?"end":"start"})}break}case"Escape":V(!1)}},At=A.map(g=>{let S=zr.find(ne=>ne.value===g&&!ne.disabled);return!S&&sn&&(S={value:g,label:g}),S}).filter(g=>!!g).map((g,S)=>D.createElement(N,wn(Be({},g),{variant:B,disabled:C,className:re.value,readOnly:oe,onRemove:ne=>{ne.preventDefault(),ne.stopPropagation(),ln(g.value)},key:g.value,size:u,styles:p,classNames:m,radius:ae,index:S}))),Ft=g=>A.includes(g),Rt=()=>{var g;lr(""),Me([]),(g=Nr.current)==null||g.focus(),J&&(se.current=!1)},dr=!oe&&(K.length>0?Y:Y&&!!$);return Lr(()=>{const g=dr?or:be;typeof g=="function"&&g()},[dr]),D.createElement(pn.Wrapper,Be(Be({required:i,id:Le,label:s,error:f,description:l,size:u,className:a,style:o,classNames:m,styles:p,__staticSelector:"MultiSelect",sx:Re,errorProps:Ar,descriptionProps:c,labelProps:Fr,inputContainer:De,inputWrapperOrder:je,unstyled:L,withAsterisk:Ye,variant:B},jt),y),D.createElement(Mr,{opened:dr,transitionProps:q,shadow:"sm",withinPortal:sr,portalProps:ir,__staticSelector:"MultiSelect",onDirectionChange:St,switchDirectionOnFlip:xe,zIndex:Ge,dropdownPosition:Ir,positionDependencies:[...I,ce],classNames:m,styles:p,unstyled:L,variant:B},D.createElement(Mr.Target,null,D.createElement("div",{className:re.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Y&&dr?`${Le}-items`:null,"aria-controls":Le,"aria-expanded":Y,onMouseLeave:()=>we(-1),tabIndex:-1},D.createElement("input",{type:"hidden",name:Te,value:A.join(","),form:h,disabled:C}),D.createElement(pn,Be({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:B,disabled:C,error:f,required:i,radius:ae,icon:Ae,unstyled:L,onMouseDown:g=>{var S;g.preventDefault(),!C&&!se.current&&V(!Y),(S=Nr.current)==null||S.focus()},classNames:wn(Be({},m),{input:ze({[re.input]:!R},m==null?void 0:m.input)})},ma({theme:Rr,rightSection:Z,rightSectionWidth:ve,styles:p,size:u,shouldClear:T&&A.length>0,onClear:Rt,error:f,disabled:C,clearButtonProps:Qe,readOnly:oe})),D.createElement("div",{className:re.values,"data-clearable":T||void 0},At,D.createElement("input",Be({ref:zt(r,Nr),type:"search",id:Le,className:ze(re.searchInput,{[re.searchInputPointer]:!R,[re.searchInputInputHidden]:!Y&&A.length>0||!R&&A.length>0,[re.searchInputEmpty]:A.length===0}),onKeyDown:It,value:ce,onChange:Pt,onFocus:Et,onBlur:Ct,readOnly:!R||se.current||oe,placeholder:A.length===0?pe:void 0,disabled:C,"data-mantine-stop-propagation":Y,autoComplete:"off",onCompositionStart:()=>an(!0),onCompositionEnd:()=>an(!1)},wt)))))),D.createElement(Mr.Dropdown,{component:Ne||ga,maxHeight:G,direction:tn,id:Le,innerRef:Ot,__staticSelector:"MultiSelect",classNames:m,styles:p},D.createElement(ha,{data:K,hovered:ke,classNames:m,styles:p,uuid:Le,__staticSelector:"MultiSelect",onItemHover:we,onItemSelect:ur,itemsRefs:$r,itemComponent:H,size:u,nothingFound:$,isItemSelected:Ft,creatable:ee&&!!Tr,createLabel:Tr,unstyled:L,variant:B}))))});rt.displayName="@mantine/core/MultiSelect";const Ka=async({batchId:e,type:r,grade:n})=>(await Ie.put("/v1/student/choose-batch",{batch_id:e,type:r,grade:n})).data,Ks=async e=>(await Ie.get("/v1/staging/get-student-offset?type="+e)).data,Er=async(e,r)=>(await Ie.get("/v1/student/get-staging-status?stagingId="+e+"&type="+r)).data,qa=async({major:e,type:r,stagingId:n})=>(await Ie.put("/v1/student/choose-major",{major:e,type:r,stagingId:n})).data,Va=async({type:e,stagingId:r})=>(await Ie.put("/v1/student/print-card",{type:e,stagingId:r})).data,Wa=async e=>(await Ie.post("/v1/student/upload-payment",e)).data,Ha=e=>{const r=Lt();return{initialValues:v.useMemo(()=>{let a=e;const o=r.search.split("?");if(o.length>0){const i=new URLSearchParams(o[1]);for(const[s,l]of i.entries())if(l!=="undefined"&&l!=="null"){const u=decodeURIComponent(l);try{a[s]=JSON.parse(u)}catch{a[s]=u}}else a[s]=null;return a}else return a},[r.search])}},Cr=e=>{const[r,n]=v.useState(e),a=Ha(e);return v.useEffect(()=>{n(a==null?void 0:a.initialValues)},[a]),r};class Sn extends v.Component{render(){const{alamat:r,asalSekolah:n,namaJalur:a,pilihanJalur1:o,pilihanJalur2:i,name:s,noTelepon:l,nomorPeserta:u,profileImgName:f,akhirTahun:m,awalTahun:p,dummyCard:y,textColor:b,bgColor:d}=this.props;return t.jsx("div",{className:"print-page",style:{backgroundColor:y?"transparent":"white",marginTop:"50px",marginInline:"auto",maxWidth:"800px",padding:"10px",color:b},children:t.jsx("div",{className:w["card-student"],children:t.jsxs("div",{className:w["inner-card"],style:{backgroundColor:d},children:[t.jsxs("header",{className:w.header,children:[t.jsx("img",{className:w["logo-yatindo"],src:"/logo-yatindo-hd.png",alt:""}),t.jsxs("h3",{className:w.title,children:["Kartu Pendaftaran Siswa ",t.jsx("br",{})," SMP - SMK TINTA EMAS INDONESIA ",t.jsx("br",{}),"Tahun Ajaran ",p||" undenfined"," / ",m||"undefined"]})]}),t.jsx(Wr,{mt:20,orientation:"horizontal",size:"lg",color:"orange"}),t.jsxs("div",{className:w.biodata,children:[f?t.jsx("img",{className:w.profile,src:`/${f}`,alt:" "}):t.jsx("div",{className:w.profile}),t.jsx("div",{className:w["biodata-detail"],children:t.jsx("table",{className:w.table,children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Nomor Peserta"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:u||"-"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Nama Peserta"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:s||"-"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Nomor Telepon"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:l||"-"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Alamat"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:r||"-"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Asal Sekolah"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:n||"-"})]})]})})})]}),t.jsx(Wr,{orientation:"horizontal",size:"lg",color:"orange"}),t.jsx("div",{className:w["detail-pendaftaran"],children:t.jsx("table",{className:"table",children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Jalur"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:"PEMBELIAN FORMULIR"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Pilihan Jurusan 1"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:o||"-"})]}),i&&t.jsxs("tr",{children:[t.jsx("td",{className:w.td,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("p",{children:"Pilihan Jurusan 2"}),t.jsx("p",{children:": "})]})}),t.jsx("td",{className:w.td,children:i||"-"})]})]})})})]})})})}}const Ua=()=>{var p,y,b,d,x,O,N,H,j,q,G,Q,$,F,U,R,pe,le,te,E,T,fe;const e=Wn(),r=v.useRef(),{md:n}=Mt();v.useState(null);const{error:a,isError:o,isSuccess:i,data:s}=de({queryFn:Xr,queryKey:["session-print"]}),l={TJKT:"Teknik Jaringan dan Komputer Telekomunikasi",TKR:"Teknik Kendaraan Ringan",TAV:"Teknik Audio dan Video",AKL:"Akuntansi Keuangan Lembaga"};function u(B){const X=B.split(",");let k=[];for(let C=0;C<X.length;C++){const he=X[C].trim(),ae=l[he];k.push(ae)}return k}const f=((y=(p=s==null?void 0:s.data)==null?void 0:p.student)==null?void 0:y.major)&&u(s.data.student.major);console.log({user:s});const m=Bt.useReactToPrint({onPrintError:B=>console.log({error:B}),content:()=>r.current,removeAfterPrint:!0,copyStyles:!0,print:async B=>{const X=B.contentDocument;if(X){const k=X.getElementsByTagName("html")[0];console.log(k);try{const C=new Kt(k,{filename:"PDF_SISWA_.pdf"});console.log(C)}catch(C){console.log("error : ",C)}}}});return t.jsxs(ge,{children:[t.jsx(gr,{position:"center",mt:50,children:t.jsx(tr,{size:"md",leftIcon:t.jsx(Zt,{size:25}),onClick:m,children:"Download"})}),t.jsx("div",{style:{display:"none"},children:t.jsx(Sn,{dummyCard:!1,ref:r,akhirTahun:"2025",alamat:(d=(b=s==null?void 0:s.data)==null?void 0:b.student)==null?void 0:d.address,asalSekolah:(O=(x=s==null?void 0:s.data)==null?void 0:x.student)==null?void 0:O.school_origin,awalTahun:"2024",namaJalur:"PENGEMBALIAN FORMULIR REGULER GEL. 2",name:(H=(N=s==null?void 0:s.data)==null?void 0:N.student)==null?void 0:H.name,noTelepon:(q=(j=s==null?void 0:s.data)==null?void 0:j.student)==null?void 0:q.phone,nomorPeserta:(Q=(G=s==null?void 0:s.data)==null?void 0:G.student)==null?void 0:Q.formulirId,pilihanJalur1:f[0],pilihanJalur2:f[1],profileImgName:"",textColor:"black",bgColor:"white"})}),n?t.jsx(t.Fragment,{children:t.jsx(Sn,{dummyCard:!0,akhirTahun:"2025",alamat:(F=($=s==null?void 0:s.data)==null?void 0:$.student)==null?void 0:F.address,asalSekolah:(R=(U=s==null?void 0:s.data)==null?void 0:U.student)==null?void 0:R.school_origin,awalTahun:"2024",namaJalur:"PENGEMBALIAN FORMULIR REGULER GEL. 2",name:(le=(pe=s==null?void 0:s.data)==null?void 0:pe.student)==null?void 0:le.name,noTelepon:(E=(te=s==null?void 0:s.data)==null?void 0:te.student)==null?void 0:E.phone,nomorPeserta:(fe=(T=s==null?void 0:s.data)==null?void 0:T.student)==null?void 0:fe.formulirId,pilihanJalur1:f[0],pilihanJalur2:f[1],profileImgName:"",textColor:`${e?"white":"black"}`,bgColor:`${e?"black":"white"}`})}):t.jsx(t.Fragment,{children:t.jsx(ge,{mt:40,children:t.jsx(M,{align:"center",children:"Buka website ini di Dekstop/Laptop untuk melihat tampilan kartu formulir"})})})]})},qs=({type:e="PEMBELIAN"})=>{const r=Cr({step:3,stagingId:null});de({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Er(r.stagingId,e),enabled:!!r.stagingId});const n=qt(),a=Or({mutationFn:Va});de({queryFn:Xr,queryKey:["session"]});const o=()=>{a.mutate({type:e,stagingId:r.stagingId},{onSuccess:()=>{We.success("Selamat anda telah menyelesaikan satu rangkaian tahapan",{duration:1e4}),n("/ppdb/main/pengembalian")},onError:i=>Pr(i)})};return t.jsx(t.Fragment,{children:t.jsxs(kr,{withBorder:!0,radius:"md",sx:i=>({backgroundColor:i.colorScheme==="dark"?i.colors.dark[9]:i.white,padding:"2rem"}),children:[t.jsx(ge,{maw:800,mx:"auto",children:t.jsx(M,{align:"center",weight:500,style:{fontSize:"clamp(1rem, 3.4783vw + 0.3043rem, 1.2rem)"},children:e==="PEMBELIAN"?"Selamat anda telah terdaftar disistem kami, silakan download pdf kartu formulir anda, lalu  klik selesai untuk ke halaman Jalur Pengembalian":"Selamat anda telah terdaftar menjadi calon siswa, silakan download pdf kartu formulir anda, harap menunggu informasi lebih lanjut"})}),t.jsxs(Ve,{align:"center",children:[t.jsx(Ua,{}),t.jsx(tr,{onClick:o,loading:a.isPending,size:"md",sx:{margin:"50px auto"},children:"Selesai"})]})]})})},Dn=({id:e,start_date:r,end_date:n,name:a,disabled:o=!1,onClick:i})=>{const s=Wn(),l=new Date(r),u=new Date(n),f=new Date,m=f>=l&&f<=u;return t.jsxs(tr,{unstyled:!0,disabled:!m||o,onClick:i,styles:p=>({root:{borderColor:`${m?"#51CF66":"red"}`,padding:"1rem",backgroundColor:`${p.colorScheme==="dark"?p.colors.dark[7]:p.white}`,cursor:"pointer",color:p.colorScheme==="dark"?"white":p.colors.gray[9],borderRadius:"8px",outline:"none","&:disabled":{cursor:"not-allowed",backgroundColor:`${s?p.colors.dark[4]:"rgba(233, 233, 233, 1)"}`}},label:{justifyContent:"space-between",display:"flex",alignItems:"center"}}),children:[t.jsxs(gr,{children:[t.jsx(na,{size:30}),t.jsxs(ge,{children:[t.jsx(hr,{order:3,align:"left",weight:"bolder",children:a}),t.jsxs(M,{align:"left",children:[new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})," ","-"," ",new Date(n).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),t.jsx(oa,{variant:"light",color:`${m?"green":"red"}`,size:"lg",children:m?"Dibuka":"Ditutup"})]},e)},Vs=({type:e="PEMBELIAN"})=>{var x,O,N,H;const r=Cr({step:1,stagingId:null}),n=Zr(),{data:a,isSuccess:o}=de({queryKey:["get_session_grade"],queryFn:Xr}),i=(O=(x=a==null?void 0:a.data)==null?void 0:x.student)==null?void 0:O.grade,{data:s,isLoading:l,isSuccess:u}=de({queryKey:[`jalur_pendaftaran_${e}`],queryFn:()=>ea(e)}),{data:f,isLoading:m,isSuccess:p}=de({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Er(r.stagingId,e),enabled:!!r.stagingId}),y=Or({mutationFn:Ka}),b=(j,q,G)=>{const Q=()=>{y.mutate({batchId:j,type:e,grade:G},{onSuccess:()=>{We.success("Sukses memilih gelommbang pendaftaran"),n.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:F=>Pr(F)})},$=()=>{console.log("cancel")};Hn.openContextModal({modal:"createInformasi",innerProps:{onAccept:Q,onCancel:$,modalBody:`Anda yakin ingin memilih ${q}?`}})},d=u&&s&&o&&a&&((N=s==null?void 0:s.data)==null?void 0:N.filter(j=>j.grade===(i==null?void 0:i.toUpperCase())));return console.log((H=f==null?void 0:f.data)==null?void 0:H.offset_data),t.jsxs(kr,{withBorder:!0,radius:"md",sx:j=>({backgroundColor:j.colorScheme==="dark"?j.colors.dark[9]:j.white,padding:"2rem"}),children:[t.jsx(Jn,{visible:y.isPending||m}),p&&f.data.offset_data?t.jsxs(t.Fragment,{children:[t.jsx(M,{weight:500,children:"Pilihan Anda"}),t.jsx(Ve,{mt:20,children:t.jsx(Dn,{...f.data.offset_data.registrationBatch})})]}):m?t.jsx(en,{}):t.jsxs(t.Fragment,{children:[t.jsx(M,{weight:500,children:"Pilih Salah Satu Gelombang"}),t.jsxs(Ve,{mt:20,children:[l&&t.jsx(qe,{content:"Lorem ipsum"}),(d==null?void 0:d.length)>0?d==null?void 0:d.sort((j,q)=>j.id-q.id).map(j=>v.createElement(Dn,{...j,key:j.id,onClick:()=>b(j.id,j.name,j.grade)})):t.jsx(t.Fragment,{children:t.jsxs(M,{size:"xl",weight:"bold",children:["Belum ada gelombang ",e==="PEMBELIAN"?"pembelian":"pengembalian"," yang tersedia"]})})]})]})]})},Ja=(e,r)=>{var n=e.toString(),a=n.replace(/[^,\d]/g,"").toString(),o=a.split(","),i=o[0].length%3,s=o[0].substr(0,i),l=o[0].substr(i).match(/\d{3}/gi);return l&&(s+=(i?".":"")+l.join(".")),s=o[1]!=null?s+","+o[1]:s,r==null?s:s?r+s+",-":""};var Ga=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ar(e,r){var n=Ya(e);if(typeof n.path!="string"){var a=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof r=="string"?r:typeof a=="string"&&a.length>0?a:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Ya(e){var r=e.name,n=r&&r.lastIndexOf(".")!==-1;if(n&&!e.type){var a=r.split(".").pop().toLowerCase(),o=Ga.get(a);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Qa=[".DS_Store","Thumbs.db"];function Xa(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return br(e)&&Za(e.dataTransfer)?[2,to(e.dataTransfer,e.type)]:eo(e)?[2,ro(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,no(e)]:[2,[]]})})}function Za(e){return br(e)}function eo(e){return br(e)&&br(e.target)}function br(e){return typeof e=="object"&&e!==null}function ro(e){return Ur(e.target.files).map(function(r){return ar(r)})}function no(e){return He(this,void 0,void 0,function(){var r;return Ue(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(a){return a.getFile()}))];case 1:return r=n.sent(),[2,r.map(function(a){return ar(a)})]}})})}function to(e,r){return He(this,void 0,void 0,function(){var n,a;return Ue(this,function(o){switch(o.label){case 0:return e.items?(n=Ur(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,n]:[4,Promise.all(n.map(ao))]):[3,2];case 1:return a=o.sent(),[2,On(nt(a))];case 2:return[2,On(Ur(e.files).map(function(i){return ar(i)}))]}})})}function On(e){return e.filter(function(r){return Qa.indexOf(r.name)===-1})}function Ur(e){if(e===null)return[];for(var r=[],n=0;n<e.length;n++){var a=e[n];r.push(a)}return r}function ao(e){if(typeof e.webkitGetAsEntry!="function")return kn(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?tt(r):kn(e)}function nt(e){return e.reduce(function(r,n){return fn(fn([],mn(r),!1),mn(Array.isArray(n)?nt(n):[n]),!1)},[])}function kn(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var n=ar(r);return Promise.resolve(n)}function oo(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return[2,e.isDirectory?tt(e):so(e)]})})}function tt(e){var r=e.createReader();return new Promise(function(n,a){var o=[];function i(){var s=this;r.readEntries(function(l){return He(s,void 0,void 0,function(){var u,f,m;return Ue(this,function(p){switch(p.label){case 0:if(l.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return u=p.sent(),n(u),[3,4];case 3:return f=p.sent(),a(f),[3,4];case 4:return[3,6];case 5:m=Promise.all(l.map(oo)),o.push(m),i(),p.label=6;case 6:return[2]}})})},function(l){a(l)})}i()})}function so(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return[2,new Promise(function(n,a){e.file(function(o){var i=ar(o,e.fullPath);n(i)},function(o){a(o)})})]})})}var io=function(e,r){if(e&&r){var n=Array.isArray(r)?r:r.split(","),a=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?a.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):o===l})}return!0};function Pn(e){return uo(e)||co(e)||ot(e)||lo()}function lo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function co(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uo(e){if(Array.isArray(e))return Jr(e)}function En(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function Cn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?En(Object(n),!0).forEach(function(a){at(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function at(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function nr(e,r){return mo(e)||fo(e,r)||ot(e,r)||po()}function po(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(e,r){if(e){if(typeof e=="string")return Jr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jr(e,r)}}function Jr(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function fo(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],o=!0,i=!1,s,l;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(a.push(s.value),!(r&&a.length===r));o=!0);}catch(u){i=!0,l=u}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw l}}return a}}function mo(e){if(Array.isArray(e))return e}var go="file-invalid-type",ho="file-too-large",vo="file-too-small",yo="too-many-files",bo=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var n=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:go,message:"File type must be ".concat(n)}},In=function(r){return{code:ho,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},An=function(r){return{code:vo,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},xo={code:yo,message:"Too many files"};function st(e,r){var n=e.type==="application/x-moz-file"||io(e,r);return[n,n?null:bo(r)]}function it(e,r,n){if(Ce(e.size))if(Ce(r)&&Ce(n)){if(e.size>n)return[!1,In(n)];if(e.size<r)return[!1,An(r)]}else{if(Ce(r)&&e.size<r)return[!1,An(r)];if(Ce(n)&&e.size>n)return[!1,In(n)]}return[!0,null]}function Ce(e){return e!=null}function jo(e){var r=e.files,n=e.accept,a=e.minSize,o=e.maxSize,i=e.multiple,s=e.maxFiles,l=e.validator;return!i&&r.length>1||i&&s>=1&&r.length>s?!1:r.every(function(u){var f=st(u,n),m=nr(f,1),p=m[0],y=it(u,a,o),b=nr(y,1),d=b[0],x=l?l(u):null;return p&&d&&!x})}function xr(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function fr(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Fn(e){e.preventDefault()}function wo(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function _o(e){return e.indexOf("Edge/")!==-1}function So(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return wo(e)||_o(e)}function ue(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(a){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return r.some(function(l){return!xr(a)&&l&&l.apply(void 0,[a].concat(i)),xr(a)})}}function Do(){return"showOpenFilePicker"in window}function Oo(e){if(Ce(e)){var r=Object.entries(e).filter(function(n){var a=nr(n,2),o=a[0],i=a[1],s=!0;return lt(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(ct))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,a){var o=nr(a,2),i=o[0],s=o[1];return Cn(Cn({},n),{},at({},i,s))},{});return[{description:"Files",accept:r}]}return e}function ko(e){if(Ce(e))return Object.entries(e).reduce(function(r,n){var a=nr(n,2),o=a[0],i=a[1];return[].concat(Pn(r),[o],Pn(i))},[]).filter(function(r){return lt(r)||ct(r)}).join(",")}function Po(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Eo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function lt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function ct(e){return/^.*\.[\w]+$/.test(e)}var Co=["children"],Io=["open"],Ao=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Fo=["refKey","onChange","onClick"];function Ro(e){return To(e)||$o(e)||ut(e)||No()}function No(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $o(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function To(e){if(Array.isArray(e))return Gr(e)}function Br(e,r){return Mo(e)||Lo(e,r)||ut(e,r)||zo()}function zo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ut(e,r){if(e){if(typeof e=="string")return Gr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,r)}}function Gr(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function Lo(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],o=!0,i=!1,s,l;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(a.push(s.value),!(r&&a.length===r));o=!0);}catch(u){i=!0,l=u}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw l}}return a}}function Mo(e){if(Array.isArray(e))return e}function Rn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Rn(Object(n),!0).forEach(function(a){Yr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yr(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jr(e,r){if(e==null)return{};var n=Bo(e,r),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Bo(e,r){if(e==null)return{};var n={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(r.indexOf(o)>=0)&&(n[o]=e[o]);return n}var rn=v.forwardRef(function(e,r){var n=e.children,a=jr(e,Co),o=pt(a),i=o.open,s=jr(o,Io);return v.useImperativeHandle(r,function(){return{open:i}},[i]),D.createElement(v.Fragment,null,n(P(P({},s),{},{open:i})))});rn.displayName="Dropzone";var dt={disabled:!1,getFilesFromEvent:Xa,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};rn.defaultProps=dt;rn.propTypes={children:_.func,accept:_.objectOf(_.arrayOf(_.string)),multiple:_.bool,preventDropOnDocument:_.bool,noClick:_.bool,noKeyboard:_.bool,noDrag:_.bool,noDragEventsBubbling:_.bool,minSize:_.number,maxSize:_.number,maxFiles:_.number,disabled:_.bool,getFilesFromEvent:_.func,onFileDialogCancel:_.func,onFileDialogOpen:_.func,useFsAccessApi:_.bool,autoFocus:_.bool,onDragEnter:_.func,onDragLeave:_.func,onDragOver:_.func,onDrop:_.func,onDropAccepted:_.func,onDropRejected:_.func,onError:_.func,validator:_.func};var Qr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=P(P({},dt),e),n=r.accept,a=r.disabled,o=r.getFilesFromEvent,i=r.maxSize,s=r.minSize,l=r.multiple,u=r.maxFiles,f=r.onDragEnter,m=r.onDragLeave,p=r.onDragOver,y=r.onDrop,b=r.onDropAccepted,d=r.onDropRejected,x=r.onFileDialogCancel,O=r.onFileDialogOpen,N=r.useFsAccessApi,H=r.autoFocus,j=r.preventDropOnDocument,q=r.noClick,G=r.noKeyboard,Q=r.noDrag,$=r.noDragEventsBubbling,F=r.onError,U=r.validator,R=v.useMemo(function(){return ko(n)},[n]),pe=v.useMemo(function(){return Oo(n)},[n]),le=v.useMemo(function(){return typeof O=="function"?O:Nn},[O]),te=v.useMemo(function(){return typeof x=="function"?x:Nn},[x]),E=v.useRef(null),T=v.useRef(null),fe=v.useReducer(Ko,Qr),B=Br(fe,2),X=B[0],k=B[1],C=X.isFocused,he=X.isFileDialogActive,ae=v.useRef(typeof window<"u"&&window.isSecureContext&&N&&Do()),Ae=function(){!ae.current&&he&&setTimeout(function(){if(T.current){var h=T.current.files;h.length||(k({type:"closeDialog"}),te())}},300)};v.useEffect(function(){return window.addEventListener("focus",Ae,!1),function(){window.removeEventListener("focus",Ae,!1)}},[T,he,te,ae]);var Z=v.useRef([]),ve=function(h){E.current&&E.current.contains(h.target)||(h.preventDefault(),Z.current=[])};v.useEffect(function(){return j&&(document.addEventListener("dragover",Fn,!1),document.addEventListener("drop",ve,!1)),function(){j&&(document.removeEventListener("dragover",Fn),document.removeEventListener("drop",ve))}},[E,j]),v.useEffect(function(){return!a&&H&&E.current&&E.current.focus(),function(){}},[E,H,a]);var ee=v.useCallback(function(c){F?F(c):console.error(c)},[F]),ye=v.useCallback(function(c){c.preventDefault(),c.persist(),Te(c),Z.current=[].concat(Ro(Z.current),[c.target]),fr(c)&&Promise.resolve(o(c)).then(function(h){if(!(xr(c)&&!$)){var I=h.length,z=I>0&&jo({files:h,accept:R,minSize:s,maxSize:i,multiple:l,maxFiles:u,validator:U}),L=I>0&&!z;k({isDragAccept:z,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),f&&f(c)}}).catch(function(h){return ee(h)})},[o,f,ee,$,R,s,i,l,u,U]),Fe=v.useCallback(function(c){c.preventDefault(),c.persist(),Te(c);var h=fr(c);if(h&&c.dataTransfer)try{c.dataTransfer.dropEffect="copy"}catch{}return h&&p&&p(c),!1},[p,$]),Se=v.useCallback(function(c){c.preventDefault(),c.persist(),Te(c);var h=Z.current.filter(function(z){return E.current&&E.current.contains(z)}),I=h.indexOf(c.target);I!==-1&&h.splice(I,1),Z.current=h,!(h.length>0)&&(k({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),fr(c)&&m&&m(c))},[E,m,$]),Re=v.useCallback(function(c,h){var I=[],z=[];c.forEach(function(L){var De=st(L,R),je=Br(De,2),oe=je[0],Ye=je[1],Qe=it(L,s,i),Oe=Br(Qe,2),Xe=Oe[0],Ze=Oe[1],re=U?U(L):null;if(oe&&Xe&&!re)I.push(L);else{var ze=[Ye,Ze];re&&(ze=ze.concat(re)),z.push({file:L,errors:ze.filter(function(Rr){return Rr})})}}),(!l&&I.length>1||l&&u>=1&&I.length>u)&&(I.forEach(function(L){z.push({file:L,errors:[xo]})}),I.splice(0)),k({acceptedFiles:I,fileRejections:z,type:"setFiles"}),y&&y(I,z,h),z.length>0&&d&&d(z,h),I.length>0&&b&&b(I,h)},[k,l,R,s,i,u,y,b,d,U]),Ne=v.useCallback(function(c){c.preventDefault(),c.persist(),Te(c),Z.current=[],fr(c)&&Promise.resolve(o(c)).then(function(h){xr(c)&&!$||Re(h,c)}).catch(function(h){return ee(h)}),k({type:"reset"})},[o,Re,ee,$]),be=v.useCallback(function(){if(ae.current){k({type:"openDialog"}),le();var c={multiple:l,types:pe};window.showOpenFilePicker(c).then(function(h){return o(h)}).then(function(h){Re(h,null),k({type:"closeDialog"})}).catch(function(h){Po(h)?(te(h),k({type:"closeDialog"})):Eo(h)?(ae.current=!1,T.current?(T.current.value=null,T.current.click()):ee(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ee(h)});return}T.current&&(k({type:"openDialog"}),le(),T.current.value=null,T.current.click())},[k,le,te,N,Re,ee,pe,l]),or=v.useCallback(function(c){!E.current||!E.current.isEqualNode(c.target)||(c.key===" "||c.key==="Enter"||c.keyCode===32||c.keyCode===13)&&(c.preventDefault(),be())},[E,be]),J=v.useCallback(function(){k({type:"focus"})},[]),sr=v.useCallback(function(){k({type:"blur"})},[]),ir=v.useCallback(function(){q||(So()?setTimeout(be,0):be())},[q,be]),xe=function(h){return a?null:h},Ge=function(h){return G?null:xe(h)},$e=function(h){return Q?null:xe(h)},Te=function(h){$&&h.stopPropagation()},Ir=v.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.refKey,I=h===void 0?"ref":h,z=c.role,L=c.onKeyDown,De=c.onFocus,je=c.onBlur,oe=c.onClick,Ye=c.onDragEnter,Qe=c.onDragOver,Oe=c.onDragLeave,Xe=c.onDrop,Ze=jr(c,Ao);return P(P(Yr({onKeyDown:Ge(ue(L,or)),onFocus:Ge(ue(De,J)),onBlur:Ge(ue(je,sr)),onClick:xe(ue(oe,ir)),onDragEnter:$e(ue(Ye,ye)),onDragOver:$e(ue(Qe,Fe)),onDragLeave:$e(ue(Oe,Se)),onDrop:$e(ue(Xe,Ne)),role:typeof z=="string"&&z!==""?z:"presentation"},I,E),!a&&!G?{tabIndex:0}:{}),Ze)}},[E,or,J,sr,ir,ye,Fe,Se,Ne,G,Q,a]),Ar=v.useCallback(function(c){c.stopPropagation()},[]),Fr=v.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.refKey,I=h===void 0?"ref":h,z=c.onChange,L=c.onClick,De=jr(c,Fo),je=Yr({accept:R,multiple:l,type:"file",style:{display:"none"},onChange:xe(ue(z,Ne)),onClick:xe(ue(L,Ar)),tabIndex:-1},I,T);return P(P({},je),De)}},[T,n,l,Ne,a]);return P(P({},X),{},{isFocused:C&&!a,getRootProps:Ir,getInputProps:Fr,rootRef:E,inputRef:T,open:xe(be)})}function Ko(e,r){switch(r.type){case"focus":return P(P({},e),{},{isFocused:!0});case"blur":return P(P({},e),{},{isFocused:!1});case"openDialog":return P(P({},Qr),{},{isFileDialogActive:!0});case"closeDialog":return P(P({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return P(P({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return P(P({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return P({},Qr);default:return e}}function Nn(){}const[qo,Vo]=Vt("Dropzone component was not found in tree");var $n=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,Uo=(e,r)=>{var n={};for(var a in e)Wo.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&$n)for(var a of $n(e))r.indexOf(a)<0&&Ho.call(e,a)&&(n[a]=e[a]);return n};function nn(e){const r=n=>{const a=Dr(`Dropzone${vn(e)}`,{},n),{children:o}=a,i=Uo(a,["children"]),s=Vo(),l=Wt(o)?o:D.createElement("span",null,o);return s[e]?v.cloneElement(l,i):null};return r.displayName=`@mantine/dropzone/${vn(e)}`,r}const Jo=nn("accept"),Go=nn("reject"),Yo=nn("idle");var Qo=Object.defineProperty,Xo=Object.defineProperties,Zo=Object.getOwnPropertyDescriptors,Tn=Object.getOwnPropertySymbols,es=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,zn=(e,r,n)=>r in e?Qo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Ln=(e,r)=>{for(var n in r||(r={}))es.call(r,n)&&zn(e,n,r[n]);if(Tn)for(var n of Tn(r))rs.call(r,n)&&zn(e,n,r[n]);return e},ns=(e,r)=>Xo(e,Zo(r)),ts=Sr((e,{padding:r,radius:n})=>{const a=e.fn.variant({color:"red",variant:"light"}),o=e.fn.variant({color:e.primaryColor,variant:"light"});return{root:ns(Ln(Ln({},e.fn.fontStyles()),e.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${W(2)} dashed ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,padding:ie({size:r,sizes:e.spacing}),borderRadius:e.fn.radius(n),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}},"&[data-accept]":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0],borderColor:e.colorScheme==="dark"?o.border:e.colors[e.primaryColor][4],"&:hover":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0]}},"&[data-reject]":{backgroundColor:e.colorScheme==="dark"?a.background:e.colors.red[0],borderColor:e.colorScheme==="dark"?a.border:e.colors.red[4],"&:hover":{backgroundColor:e.colorScheme==="dark"?a.background:e.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}});const as=ts;var os=Object.defineProperty,ss=Object.defineProperties,is=Object.getOwnPropertyDescriptors,wr=Object.getOwnPropertySymbols,ft=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,Mn=(e,r,n)=>r in e?os(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,rr=(e,r)=>{for(var n in r||(r={}))ft.call(r,n)&&Mn(e,n,r[n]);if(wr)for(var n of wr(r))mt.call(r,n)&&Mn(e,n,r[n]);return e},Kr=(e,r)=>ss(e,is(r)),ls=(e,r)=>{var n={};for(var a in e)ft.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&wr)for(var a of wr(e))r.indexOf(a)<0&&mt.call(e,a)&&(n[a]=e[a]);return n};const cs={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function Je(e){const r=Dr("Dropzone",cs,e),{className:n,padding:a,radius:o,disabled:i,classNames:s,styles:l,loading:u,multiple:f,maxSize:m,accept:p,children:y,onDropAny:b,onDrop:d,onReject:x,openRef:O,name:N,unstyled:H,maxFiles:j,autoFocus:q,activateOnClick:G,activateOnDrag:Q,dragEventsBubbling:$,activateOnKeyboard:F,onDragEnter:U,onDragLeave:R,onDragOver:pe,onFileDialogCancel:le,onFileDialogOpen:te,preventDropOnDocument:E,useFsAccessApi:T,getFilesFromEvent:fe,validator:B,variant:X}=r,k=ls(r,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:C,cx:he}=as({radius:o,padding:a},{name:"Dropzone",classNames:s,styles:l,unstyled:H,variant:X}),{getRootProps:ae,getInputProps:Ae,isDragAccept:Z,isDragReject:ve,open:ee}=pt(rr({onDrop:b,onDropAccepted:d,onDropRejected:x,disabled:i||u,accept:Array.isArray(p)?p.reduce((Fe,Se)=>Kr(rr({},Fe),{[Se]:[]}),{}):p,multiple:f,maxSize:m,maxFiles:j,autoFocus:q,noClick:!G,noDrag:!Q,noDragEventsBubbling:!$,noKeyboard:!F,onDragEnter:U,onDragLeave:R,onDragOver:pe,onFileDialogCancel:le,onFileDialogOpen:te,preventDropOnDocument:E,useFsAccessApi:T,validator:B},fe?{getFilesFromEvent:fe}:null));Ht(O,ee);const ye=!Z&&!ve;return D.createElement(qo,{value:{accept:Z,reject:ve,idle:ye}},D.createElement(ge,Kr(rr(rr({},k),ae()),{"data-accept":Z||void 0,"data-reject":ve||void 0,"data-idle":ye||void 0,"data-loading":u||void 0,className:he(C.root,n)}),D.createElement(Jn,{visible:u,radius:o,unstyled:H}),D.createElement("input",Kr(rr({},Ae()),{name:N})),D.createElement("div",{className:C.inner},y)))}Je.displayName="@mantine/dropzone/Dropzone";Je.Accept=Jo;Je.Reject=Go;Je.Idle=Yo;const gt=Je;var us=Object.defineProperty,ds=Object.defineProperties,ps=Object.getOwnPropertyDescriptors,Bn=Object.getOwnPropertySymbols,fs=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable,Kn=(e,r,n)=>r in e?us(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,gs=(e,r)=>{for(var n in r||(r={}))fs.call(r,n)&&Kn(e,n,r[n]);if(Bn)for(var n of Bn(r))ms.call(r,n)&&Kn(e,n,r[n]);return e},hs=(e,r)=>ds(e,ps(r)),vs=Sr(e=>({wrapper:hs(gs({},e.fn.cover(0)),{position:"fixed",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,display:"flex",padding:e.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}}));const ys=vs;var bs=Object.defineProperty,xs=Object.defineProperties,js=Object.getOwnPropertyDescriptors,_r=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,qn=(e,r,n)=>r in e?bs(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,qr=(e,r)=>{for(var n in r||(r={}))ht.call(r,n)&&qn(e,n,r[n]);if(_r)for(var n of _r(r))vt.call(r,n)&&qn(e,n,r[n]);return e},Vr=(e,r)=>xs(e,js(r)),ws=(e,r)=>{var n={};for(var a in e)ht.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&_r)for(var a of _r(e))r.indexOf(a)<0&&vt.call(e,a)&&(n[a]=e[a]);return n};const _s={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Vn("max"),withinPortal:!0};function yt(e){const r=Dr("DropzoneFullScreen",_s,e),{classNames:n,styles:a,sx:o,className:i,style:s,unstyled:l,active:u,onDrop:f,onReject:m,zIndex:p,withinPortal:y,portalProps:b}=r,d=ws(r,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[x,O]=D.useState(0),[N,{open:H,close:j}]=Ut(!1),{classes:q,cx:G}=ys(null,{name:"DropzoneFullScreen",classNames:n,styles:a,unstyled:l}),Q=F=>{F.dataTransfer.types.includes("Files")&&(O(U=>U+1),H())},$=()=>{O(F=>F-1)};return v.useEffect(()=>{x===0&&j()},[x]),v.useEffect(()=>{if(u)return document.addEventListener("dragenter",Q,!1),document.addEventListener("dragleave",$,!1),()=>{document.removeEventListener("dragenter",Q,!1),document.removeEventListener("dragleave",$,!1)}},[u]),D.createElement(Jt,Vr(qr({},b),{withinPortal:y}),D.createElement(ge,{className:G(q.wrapper,i),sx:o,style:Vr(qr({},s),{opacity:N?1:0,pointerEvents:N?"all":"none",zIndex:p})},D.createElement(Je,Vr(qr({},d),{classNames:n,styles:a,unstyled:l,className:q.dropzone,onDrop:F=>{f==null||f(F),j()},onReject:F=>{m==null||m(F),j()}}))))}yt.displayName="@mantine/dropzone/DropzoneFullScreen";const Ke={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",mp4:"video/mp4",zip:"application/zip",csv:"text/csv",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",exe:"application/vnd.microsoft.portable-executable"},Ss=[Ke.png,Ke.gif,Ke.jpeg,Ke.svg,Ke.webp,Ke.avif];gt.FullScreen=yt;const mr=gt;function Ds(e){return Gt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}function Os({name:e,control:r,defaultValue:n,rules:a,shouldUnregister:o,onChange:i,...s}){var p;const{field:{value:l,onChange:u,...f},fieldState:m}=sa({name:e,control:r,defaultValue:n,rules:a,shouldUnregister:o});return t.jsx(t.Fragment,{children:t.jsx(Hr.Group,{label:s.label,description:s.description,value:l,onChange:y=>{u(y),i==null||i(y)},error:(p=m.error)==null?void 0:p.message,...f,...s})})}const ks=()=>{var l,u,f;const e=Un(),{register:r,control:n,setValue:a,formState:{errors:o},watch:i}=ia(),s=i("payment_method");return t.jsxs(Ve,{spacing:10,children:[t.jsx(hn,{rules:{required:!0},render:({field:{onChange:m,value:p}})=>(console.log(p),t.jsxs(mr,{multiple:!1,onChange:y=>{var b;return m(((b=y.target.files)==null?void 0:b[0])??null)},onReject:y=>{y[0].errors[0].code=="file-too-large"&&We.error("Size gambar terlalu besar dari 5MB")},maxSize:3*1024**2,accept:Ss,onDrop:y=>{m(y)},children:[t.jsxs(gr,{position:"center",spacing:"xl",style:{minHeight:W(220),pointerEvents:"none"},children:[t.jsx(mr.Accept,{children:t.jsx(Yt,{size:"3.2rem",color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6]})}),t.jsx(mr.Reject,{children:t.jsx(Ds,{size:"3.2rem",color:e.colors.red[e.colorScheme==="dark"?4:6]})}),t.jsx(mr.Idle,{children:t.jsx(ra,{size:"3.2rem"})}),t.jsx(M,{size:"",children:"Upload Bukti Bayar, Max : 5MB"})]}),t.jsxs(ca,{cols:4,mt:5,breakpoints:[{maxWidth:"sm",cols:1}],children:[JSON.stringify(p),p&&p.map((y,b)=>{const d=URL.createObjectURL(y);return t.jsx(ua,{src:d,w:20,imageProps:{onLoad:()=>URL.revokeObjectURL(d)}},b)})]})]})),name:"payment_prove",control:n}),t.jsx(hn,{rules:{required:!0},name:"amount",control:n,render:({field:{ref:m,onChange:p,...y}})=>{var b;return t.jsx(Qt,{thousandSeparator:".",decimalSeparator:",",prefix:"Rp. ",customInput:pr,error:o.amount&&t.jsx("div",{children:(b=o.amount)==null?void 0:b.message}),placeholder:"Rp. 0",label:"Input Nominal",description:"Input Nominal",onValueChange:({floatValue:d})=>{p(d)},...y})}}),t.jsx(Os,{name:"payment_method",control:n,label:"Metode Pembayaran",description:"Pilih salah satu",rules:{required:!0},children:t.jsxs(gr,{mt:"xs",children:[t.jsx(Hr,{value:"CASH",label:"Tunai"}),t.jsx(Hr,{value:"TRANSFER",label:"Transfer"})]})}),s&&s==="TRANSFER"&&t.jsxs(t.Fragment,{children:[t.jsx(pr,{description:"Masukkan nama bank",label:"Nama Bank",placeholder:"Bank BCA,BNI",withAsterisk:!0,error:o.bank_name&&t.jsx("div",{children:(l=o.bank_name)==null?void 0:l.message}),required:!0,...r("bank_name",{required:!0})}),t.jsx(pr,{label:"Nomor Rekening",description:"Masukkan nomor rekening",withAsterisk:!0,type:"number",error:o.bank_account&&t.jsx("div",{children:(u=o.bank_account)==null?void 0:u.message}),required:!0,...r("bank_account",{required:!0})}),t.jsx(pr,{label:"Nama Pemilik Rekening",description:"Masukkan nama pemilik rekening",withAsterisk:!0,error:o.bank_user&&t.jsx("div",{children:(f=o.bank_user)==null?void 0:f.message}),required:!0,...r("bank_user",{required:!0})})]})]})},bt=async e=>(await Ie.get("/v1/admin/lookup?type="+e)).data,xt=e=>{const{data:r,isLoading:n,isSuccess:a}=de({queryFn:()=>bt(e.type),queryKey:["get_lookup_data",e.type]});return t.jsxs(t.Fragment,{children:[n&&t.jsx(en,{}),a&&t.jsx(va,{value:e.value,readOnly:e.readOnly,label:e.label,onChange:e.onChange,searchable:e.searchable,styles:{input:{backgroundColor:e.readOnly&&"#2A166F",color:e.readOnly&&"white",fontWeight:`${e.readOnly?"bolder":"normal"}`}},data:e.data?e.data:a&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Ps=()=>t.jsxs(ge,{sx:e=>({backgroundColor:"transparent",padding:"4rem 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:[t.jsx("img",{src:"/svg/wait-pembelianformulir.svg",alt:"image",style:{width:"250px"}}),t.jsx(M,{mt:40,sx:{maxWidth:500},weight:"bold",align:"center",children:"Bukti anda telah di upload"})]}),Es={CASH:"Tunai",TRANSFER:"Transfer"},Ws=({type:e="PEMBELIAN"})=>{var f,m,p,y,b;const r=Cr({step:2,stagingId:null}),n=Zr(),a=Or({mutationFn:Wa}),{data:o,isLoading:i,isSuccess:s}=de({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Er(r.stagingId,e),enabled:!!r.stagingId});console.log("--------------STEP PEMBAYARAN----------------"),console.log(o==null?void 0:o.data);const l=v.useMemo(()=>[{id:"Metode Pembayaran",header:"Metode Pembayaran",accessorFn:d=>Es[d.method]},{id:"Bank",header:"Bank",accessorFn:d=>d.bank_name},{id:"Nomor Rekening",header:"Nomor Rekening",accessorFn:d=>d.bank_account},{id:"Atas Nama",header:"Atas Nama",accessorFn:d=>d.bank_user}],[]),u=d=>{console.log(d);const x=new FormData;for(const[O,N]of Object.entries(d))O==="payment_prove"?x.append("file",N==null?void 0:N[0]):x.append(O,N);x.append("type",e),a.mutate(x,{onSuccess:()=>{We.success("Sukses upload bukti bayar"),n.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:O=>Pr(O)})};return t.jsxs(kr,{withBorder:!0,sx:d=>({backgroundColor:`${d.colorScheme==="dark"?d.colors.dark[9]:d.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:[t.jsxs(Ve,{children:[t.jsx(hr,{children:"Bayar Pendaftaran"}),t.jsx(M,{className:"font-semibold",children:"Silahkan melakukan transfer ke rekening dibawah ini jika anda memilih metode pembayaran transfer :"}),t.jsx("table",{className:"w-full overflow-x-auto",children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Bank"}),t.jsxs("td",{children:[i&&t.jsx(qe,{content:"Lorem Ipsum"}),s&&t.jsxs(M,{children:[":"," ",t.jsx(M,{component:"span",weight:"bold",children:(f=o.data.registration_batch)==null?void 0:f.bank_name})]})]})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Nominal yang harus dibayarkan"}),t.jsxs("td",{children:[i&&t.jsx(qe,{content:"Lorem Ipsum"}),s&&t.jsxs(M,{children:[":"," ",t.jsx(M,{component:"span",weight:"bold",children:Ja(((m=o.data.registration_batch)==null?void 0:m.price)??"0","Rp ")})]})]})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Nomor Rekening"}),t.jsxs("td",{children:[i&&t.jsx(qe,{content:"Lorem Ipsum"}),s&&t.jsxs(M,{children:[":"," ",t.jsx(M,{component:"span",weight:"bold",children:(p=o.data.registration_batch)==null?void 0:p.bank_account})]})]})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Atas Nama"}),t.jsxs("td",{children:[i&&t.jsx(qe,{content:"Lorem Ipsum"}),s&&t.jsxs(M,{children:[":"," ",t.jsx(M,{component:"span",weight:"bold",children:(y=o.data.registration_batch)==null?void 0:y.bank_user})]})]})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Status Pembayaran"}),t.jsxs("td",{children:[i&&t.jsx(qe,{content:"Lorem Ipsum"}),s&&t.jsx(xt,{type:"STATUS",readOnly:!0,value:(b=o.data.payment_status)==null?void 0:b.status})]})]})]})})]}),s&&o.data.payment_status?t.jsxs(t.Fragment,{children:[t.jsx(Ps,{}),t.jsx(ge,{mt:10,w:"100%",children:t.jsx(ta,{useHeader:!0,data:[{...o.data.payment_status}],columns:l,noCard:!0,usePagination:!1})})]}):t.jsx(t.Fragment,{children:t.jsxs(la,{id:"form-uploadbukti",onSubmit:u,children:[t.jsx(hr,{order:3,my:50,children:"Bukti Transfer"}),t.jsx(Wr,{}),t.jsx(ks,{}),t.jsx(tr,{type:"submit",mt:10,children:"Submit"})]})})]})},Cs=e=>{const{data:r,isLoading:n,isSuccess:a}=de({queryFn:()=>bt(e.type),queryKey:["get_lookup_data",e.type]});return t.jsxs(t.Fragment,{children:[n&&t.jsx(en,{}),a&&t.jsx(rt,{value:e.value,maxSelectedValues:2,label:e.label,onChange:e.onChange,searchable:e.searchable,data:a&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Hs=({type:e="PEMBELIAN"})=>{var f,m,p,y,b;const r=Cr({step:3,stagingId:null}),[n,a]=v.useState(null),{data:o,isSuccess:i}=de({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Er(r.stagingId,e),enabled:!!r.stagingId}),s=Zr(),l=Or({mutationFn:qa}),u=()=>{const d=()=>{l.mutate({type:e,major:n.toString(),stagingId:r.stagingId},{onSuccess:()=>{We.success("Sukses memilih Jurusan"),s.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:O=>Pr(O)})},x=()=>console.log("cancel");n==""||!n?We.error("Wajib pilih salah satu jurusan"):Hn.openContextModal({modal:"createInformasi",innerProps:{onAccept:d,onCancel:x,modalBody:"Anda yakin ingin memilih jurusan ini ?"}})};return v.useEffect(()=>{var d,x;console.log("=====================OFFSETTTTTT====================="),console.log(o==null?void 0:o.data),i&&o.data.offset_data&&a((x=(d=o.data.offset_data)==null?void 0:d.majors)==null?void 0:x.split(","))},[i,o]),t.jsx(kr,{withBorder:!0,sx:d=>({backgroundColor:`${d.colorScheme==="dark"?d.colors.dark[9]:d.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:t.jsxs(Ve,{children:[t.jsx(hr,{children:"Pilih Jurusan"}),e==="PEMBELIAN"&&t.jsx(M,{children:"*Anda dapat memilih lebih dari satu untuk peminatan awal"}),i&&((f=o.data.current_state)==null?void 0:f.status)==="WAITING_PAYMENT"&&((m=o.data.current_state)==null?void 0:m.type)===e?t.jsx("p",{children:"Harap menunggu konfirmasi pembayaran terlebih dahulu sebelum memilih jurusan"}):t.jsxs(t.Fragment,{children:[e==="PEMBELIAN"?t.jsx(Cs,{type:"MAJOR",readOnly:!!(i&&((p=o.data.offset_data)!=null&&p.majors)),onChange:d=>a(d),value:n&&Array.from(n)}):t.jsx(xt,{type:"MAJOR",readOnly:!!(i&&((y=o.data.offset_data)!=null&&y.majors)),onChange:d=>a(d),value:n&&n.toString()}),t.jsx(tr,{variant:"filled",onClick:u,loading:l.isPending,disabled:!!(i&&((b=o.data.offset_data)!=null&&b.majors)),children:"Submit"})]})]})})},Us=({card:e,activeTabIndex:r})=>{const n=Un();return t.jsx(gn.List,{sx:{display:"flex",gap:"1rem",padding:"2rem 0 1rem"},children:e&&e.length>0&&e.map((a,o)=>t.jsxs(gn.Tab,{sx:()=>({flex:1,minWidth:250}),h:"10rem",value:a.index.toString(),disabled:e[o>0?o-1:o].is_done==0||a.is_done===0,style:{position:"relative"},children:[!a.is_done&&e[o>0?o-1:o].is_done==0&&r!==a.index&&t.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${n.colorScheme==="dark"?n.colors.dark[6]:n.colors.gray[4]}`,borderRadius:"100px",padding:"5px"},children:t.jsx(aa,{size:25})}),a.is_done&&t.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${n.colorScheme==="dark"?n.colors.dark[6]:"white"}`,borderRadius:"100%",padding:"4px",color:"#51CF66",border:"",display:"flex",alignItems:"center"},children:t.jsx(Xt,{size:25})}),t.jsx(ge,{sx:{marginInline:"auto",width:"fit-content"},children:a.icon&&t.jsx(a.icon,{size:70})}),t.jsx(M,{weight:"bolder",mt:10,sx:{textAlign:"center"},children:a.label})]},o))})},Js=e=>Object.keys(e).map(r=>r+"="+encodeURIComponent(e[r])).join("&");export{mr as D,Ds as I,Os as R,Vs as S,Us as T,Ws as a,Hs as b,qs as c,Ks as d,Ss as e,xt as f,Js as g,Cr as h,Er as i,Ha as u};
