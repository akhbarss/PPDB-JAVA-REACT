import{t as H,x as Sr,y as le,R as P,X as Nn,al as ct,am as qt,r as g,C as Dr,an as $n,W as Tn,a9 as ut,aa as Lr,ab as dt,ao as zn,k as Re,q as Ln,m as Vt,u as Mn,b as fe,V as Xr,_ as me,ap as Bn,aq as Kn,j as a,B as je,G as gr,f as nr,c as B,ar as O,D as Wr,n as qn,l as Or,P as kr,S as We,T as hr,aj as Zr,I as et,$ as Ve,w as Wt,as as He,at as Ue,au as pt,av as ft,aw as _,ax as Vn,ay as Wn,az as Hn,aA as Un,aB as Jn,aC as Gn,ai as Hr,a as Ht,ag as Qn,aD as Yn,p as pr,a1 as mt,aE as Xn}from"./index-e253d264.js";import{R as Pr}from"./ResponseError-9ce66710.js";import{a as Zn}from"./index.esm-df819014.js";import{c as ea}from"./imageUtils-040c21d1.js";import{g as ra,H as ta}from"./index.esm-b8b34bcc.js";import{B as na,D as aa,a as oa}from"./DataTable-7a7ddedc.js";import{B as sa}from"./Badge-379626d7.js";import{L as Ut}from"./LoadingOverlay-6549b605.js";import{a as ia,u as la,C as gt,F as ca}from"./FormWrapper-63ce38bf.js";import{S as ua}from"./SimpleGrid-2109c522.js";import{I as da}from"./Image-905c7942.js";import{D as pa,u as fa,g as ma,a as Mr,b as ga,c as ha,d as va,S as ya}from"./Select-d0d7a6fd.js";function ht(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}const Jt={xs:H(16),sm:H(22),md:H(26),lg:H(30),xl:H(36)},ba={xs:H(10),sm:H(12),md:H(14),lg:H(16),xl:H(18)};var xa=Sr((e,{disabled:r,radius:t,readOnly:n},{size:o,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:r?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:r?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:le({size:o,sizes:Jt}),paddingLeft:`calc(${le({size:o,sizes:e.spacing})} / 1.5)`,paddingRight:r||n?le({size:o,sizes:e.spacing}):0,fontWeight:500,fontSize:le({size:o,sizes:ba}),borderRadius:le({size:t,sizes:e.radius}),cursor:r?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${H(10)})`},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${le({size:o,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const ja=xa;var wa=Object.defineProperty,vr=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,vt=(e,r,t)=>r in e?wa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,_a=(e,r)=>{for(var t in r||(r={}))Gt.call(r,t)&&vt(e,t,r[t]);if(vr)for(var t of vr(r))Qt.call(r,t)&&vt(e,t,r[t]);return e},Sa=(e,r)=>{var t={};for(var n in e)Gt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&vr)for(var n of vr(e))r.indexOf(n)<0&&Qt.call(e,n)&&(t[n]=e[n]);return t};const Da={xs:16,sm:22,md:24,lg:26,xl:30};function Yt(e){var r=e,{label:t,classNames:n,styles:o,className:s,onRemove:i,disabled:l,readOnly:u,size:f,radius:d="sm",variant:p,unstyled:y}=r,x=Sa(r,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:m,cx:w}=ja({disabled:l,readOnly:u,radius:d},{name:"MultiSelect",classNames:n,styles:o,unstyled:y,size:f,variant:p});return P.createElement("div",_a({className:w(m.defaultValue,s)},x),P.createElement("span",{className:m.defaultValueLabel},t),!l&&!u&&P.createElement(Nn,{"aria-hidden":!0,onMouseDown:i,size:Da[f],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:m.defaultValueRemove,tabIndex:-1,unstyled:y}))}Yt.displayName="@mantine/core/MultiSelect/DefaultValue";function Oa({data:e,searchable:r,limit:t,searchValue:n,filter:o,value:s,disableSelectedItemFiltering:i}){if(!r&&s.length===0)return e;if(!r){const u=[];for(let f=0;f<e.length;f+=1)(i||!s.some(d=>d===e[f].value&&!e[f].disabled))&&u.push(e[f]);return u}const l=[];for(let u=0;u<e.length&&(o(n,!i&&s.some(f=>f===e[u].value&&!e[u].disabled),e[u])&&l.push(e[u]),!(l.length>=t));u+=1);return l}var ka=Object.defineProperty,Pa=Object.defineProperties,Ca=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,bt=(e,r,t)=>r in e?ka(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Fa=(e,r)=>{for(var t in r||(r={}))Ea.call(r,t)&&bt(e,t,r[t]);if(yt)for(var t of yt(r))Ia.call(r,t)&&bt(e,t,r[t]);return e},Aa=(e,r)=>Pa(e,Ca(r)),Ra=Sr((e,{invalid:r},{size:t})=>({wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3],color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${le({size:t,sizes:ct})} - ${H(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:le({size:t,sizes:ct})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${H(2)}) calc(${e.spacing.xs} / 2)`},searchInput:Aa(Fa({},e.fn.fontStyles()),{flex:1,minWidth:H(60),backgroundColor:"transparent",border:0,outline:0,fontSize:le({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:le({size:t,sizes:Jt}),"&::placeholder":{opacity:1,color:r?e.colors.red[e.fn.primaryShade()]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}));const Na=Ra;var $a=Object.defineProperty,Ta=Object.defineProperties,za=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,xt=(e,r,t)=>r in e?$a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ke=(e,r)=>{for(var t in r||(r={}))Xt.call(r,t)&&xt(e,t,r[t]);if(yr)for(var t of yr(r))Zt.call(r,t)&&xt(e,t,r[t]);return e},jt=(e,r)=>Ta(e,za(r)),La=(e,r)=>{var t={};for(var n in e)Xt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&yr)for(var n of yr(e))r.indexOf(n)<0&&Zt.call(e,n)&&(t[n]=e[n]);return t};function Ma(e,r,t){return r?!1:t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function Ba(e,r){return!!e&&!r.some(t=>t.value.toLowerCase()===e.toLowerCase())}function wt(e,r){if(!Array.isArray(e))return;if(r.length===0)return[];const t=r.map(n=>typeof n=="object"?n.value:n);return e.filter(n=>t.includes(n))}const Ka={size:"sm",valueComponent:Yt,itemComponent:pa,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:Ma,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:Ba,switchDirectionOnFlip:!1,zIndex:qt("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},en=g.forwardRef((e,r)=>{const t=Dr("MultiSelect",Ka,e),{className:n,style:o,required:s,label:i,description:l,size:u,error:f,classNames:d,styles:p,wrapperProps:y,value:x,defaultValue:m,data:w,onChange:j,valueComponent:k,itemComponent:b,id:S,transitionProps:G,maxDropdownHeight:Q,shadow:re,nothingFound:R,onFocus:L,onBlur:U,searchable:A,placeholder:ge,filter:ce,limit:oe,clearSearchOnChange:E,clearable:N,clearSearchOnBlur:he,variant:Y,onSearchChange:ue,searchValue:$,disabled:K,initiallyOpened:ve,radius:te,icon:ye,rightSection:T,rightSectionWidth:X,creatable:q,getCreateLabel:Z,shouldCreate:we,onCreate:be,sx:Ne,dropdownComponent:$e,onDropdownClose:_e,onDropdownOpen:or,maxSelectedValues:J,withinPortal:sr,portalProps:ir,switchDirectionOnFlip:Se,zIndex:Ge,selectOnBlur:Te,name:ze,dropdownPosition:Ir,errorProps:Fr,labelProps:Ar,descriptionProps:c,form:v,positionDependencies:I,onKeyDown:z,unstyled:M,inputContainer:Pe,inputWrapperOrder:De,readOnly:se,withAsterisk:Qe,clearButtonProps:Ye,hoverOnSearchChange:Ce,disableSelectedItemFiltering:Xe}=t,Ze=La(t,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","portalProps","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:ne,cx:Le,theme:Rr}=Na({invalid:!!f},{name:"MultiSelect",classNames:d,styles:p,unstyled:M,size:u,variant:Y}),{systemStyles:jn,rest:wn}=$n(Ze),Nr=g.useRef(),$r=g.useRef({}),Me=Tn(S),[ee,W]=g.useState(ve),[_n,Oe]=g.useState(-1),[nt,Sn]=g.useState("column"),[de,lr]=ut({value:$,defaultValue:"",finalValue:void 0,onChange:ue}),[Dn,at]=g.useState(!1),{scrollIntoView:cr,targetRef:ot,scrollableRef:On}=fa({duration:0,offset:5,cancelable:!1,isList:!0}),st=q&&typeof Z=="function";let Tr=null;const kn=w.map(h=>typeof h=="string"?{label:h,value:h}:h),zr=ma({data:kn}),[F,Be]=ut({value:wt(x,w),defaultValue:wt(m,w),finalValue:[],onChange:j}),ie=g.useRef(!!J&&J<F.length),it=h=>{if(!se){const D=F.filter(ae=>ae!==h);Be(D),J&&D.length<J&&(ie.current=!1)}},Pn=h=>{lr(h.currentTarget.value),!K&&!ie.current&&A&&W(!0)},Cn=h=>{typeof L=="function"&&L(h),!K&&!ie.current&&A&&W(!0)},V=Oa({data:zr,searchable:A,searchValue:de,limit:oe,filter:ce,value:F,disableSelectedItemFiltering:Xe});st&&we(de,zr)&&(Tr=Z(de),V.push({label:de,value:de,creatable:!0}));const Ee=Math.min(_n,V.length-1),lt=(h,D,ae)=>{let ke=h;for(;ae(ke);)if(ke=D(ke),!V[ke].disabled)return ke;return h};Lr(()=>{Oe(Ce&&de?0:-1)},[de,Ce]),Lr(()=>{!K&&F.length>w.length&&W(!1),J&&F.length<J&&(ie.current=!1),J&&F.length>=J&&(ie.current=!0,W(!1))},[F]);const ur=h=>{if(!se)if(E&&lr(""),F.includes(h.value))it(h.value);else{if(h.creatable&&typeof be=="function"){const D=be(h.value);typeof D<"u"&&D!==null&&Be(typeof D=="string"?[...F,D]:[...F,D.value])}else Be([...F,h.value]);F.length===J-1&&(ie.current=!0,W(!1)),V.length===1&&W(!1)}},En=h=>{typeof U=="function"&&U(h),Te&&V[Ee]&&ee&&ur(V[Ee]),he&&lr(""),W(!1)},In=h=>{if(Dn||(z==null||z(h),se)||h.key!=="Backspace"&&J&&ie.current)return;const D=nt==="column",ae=()=>{Oe(Ie=>{var xe;const er=lt(Ie,Fe=>Fe+1,Fe=>Fe<V.length-1);return ee&&(ot.current=$r.current[(xe=V[er])==null?void 0:xe.value],cr({alignment:D?"end":"start"})),er})},ke=()=>{Oe(Ie=>{var xe;const er=lt(Ie,Fe=>Fe-1,Fe=>Fe>0);return ee&&(ot.current=$r.current[(xe=V[er])==null?void 0:xe.value],cr({alignment:D?"start":"end"})),er})};switch(h.key){case"ArrowUp":{h.preventDefault(),W(!0),D?ke():ae();break}case"ArrowDown":{h.preventDefault(),W(!0),D?ae():ke();break}case"Enter":{h.preventDefault(),V[Ee]&&ee?ur(V[Ee]):W(!0);break}case" ":{A||(h.preventDefault(),V[Ee]&&ee?ur(V[Ee]):W(!0));break}case"Backspace":{F.length>0&&de.length===0&&(Be(F.slice(0,-1)),W(!0),J&&(ie.current=!1));break}case"Home":{if(!A){h.preventDefault(),ee||W(!0);const Ie=V.findIndex(xe=>!xe.disabled);Oe(Ie),cr({alignment:D?"end":"start"})}break}case"End":{if(!A){h.preventDefault(),ee||W(!0);const Ie=V.map(xe=>!!xe.disabled).lastIndexOf(!1);Oe(Ie),cr({alignment:D?"end":"start"})}break}case"Escape":W(!1)}},Fn=F.map(h=>{let D=zr.find(ae=>ae.value===h&&!ae.disabled);return!D&&st&&(D={value:h,label:h}),D}).filter(h=>!!h).map((h,D)=>P.createElement(k,jt(Ke({},h),{variant:Y,disabled:K,className:ne.value,readOnly:se,onRemove:ae=>{ae.preventDefault(),ae.stopPropagation(),it(h.value)},key:h.value,size:u,styles:p,classNames:d,radius:te,index:D}))),An=h=>F.includes(h),Rn=()=>{var h;lr(""),Be([]),(h=Nr.current)==null||h.focus(),J&&(ie.current=!1)},dr=!se&&(V.length>0?ee:ee&&!!R);return Lr(()=>{const h=dr?or:_e;typeof h=="function"&&h()},[dr]),P.createElement(dt.Wrapper,Ke(Ke({required:s,id:Me,label:i,error:f,description:l,size:u,className:n,style:o,classNames:d,styles:p,__staticSelector:"MultiSelect",sx:Ne,errorProps:Fr,descriptionProps:c,labelProps:Ar,inputContainer:Pe,inputWrapperOrder:De,unstyled:M,withAsterisk:Qe,variant:Y},jn),y),P.createElement(Mr,{opened:dr,transitionProps:G,shadow:"sm",withinPortal:sr,portalProps:ir,__staticSelector:"MultiSelect",onDirectionChange:Sn,switchDirectionOnFlip:Se,zIndex:Ge,dropdownPosition:Ir,positionDependencies:[...I,de],classNames:d,styles:p,unstyled:M,variant:Y},P.createElement(Mr.Target,null,P.createElement("div",{className:ne.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":ee&&dr?`${Me}-items`:null,"aria-controls":Me,"aria-expanded":ee,onMouseLeave:()=>Oe(-1),tabIndex:-1},P.createElement("input",{type:"hidden",name:ze,value:F.join(","),form:v,disabled:K}),P.createElement(dt,Ke({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:Y,disabled:K,error:f,required:s,radius:te,icon:ye,unstyled:M,onMouseDown:h=>{var D;h.preventDefault(),!K&&!ie.current&&W(!ee),(D=Nr.current)==null||D.focus()},classNames:jt(Ke({},d),{input:Le({[ne.input]:!A},d==null?void 0:d.input)})},ga({theme:Rr,rightSection:T,rightSectionWidth:X,styles:p,size:u,shouldClear:N&&F.length>0,onClear:Rn,error:f,disabled:K,clearButtonProps:Ye,readOnly:se})),P.createElement("div",{className:ne.values,"data-clearable":N||void 0},Fn,P.createElement("input",Ke({ref:zn(r,Nr),type:"search",id:Me,className:Le(ne.searchInput,{[ne.searchInputPointer]:!A,[ne.searchInputInputHidden]:!ee&&F.length>0||!A&&F.length>0,[ne.searchInputEmpty]:F.length===0}),onKeyDown:In,value:de,onChange:Pn,onFocus:Cn,onBlur:En,readOnly:!A||ie.current||se,placeholder:F.length===0?ge:void 0,disabled:K,"data-mantine-stop-propagation":ee,autoComplete:"off",onCompositionStart:()=>at(!0),onCompositionEnd:()=>at(!1)},wn)))))),P.createElement(Mr.Dropdown,{component:$e||ha,maxHeight:Q,direction:nt,id:Me,innerRef:On,__staticSelector:"MultiSelect",classNames:d,styles:p},P.createElement(va,{data:V,hovered:Ee,classNames:d,styles:p,uuid:Me,__staticSelector:"MultiSelect",onItemHover:Oe,onItemSelect:ur,itemsRefs:$r,itemComponent:b,size:u,nothingFound:R,isItemSelected:An,creatable:q&&!!Tr,createLabel:Tr,unstyled:M,variant:Y}))))});en.displayName="@mantine/core/MultiSelect";const qa=async({batchId:e,type:r,grade:t})=>(await Re.put("/v1/student/choose-batch",{batch_id:e,type:r,grade:t})).data,Vs=async e=>(await Re.get("/v1/staging/get-student-offset?type="+e)).data,Cr=async(e,r)=>(await Re.get("/v1/student/get-staging-status?stagingId="+e+"&type="+r)).data,Va=async({major:e,type:r,stagingId:t})=>(await Re.put("/v1/student/choose-major",{major:e,type:r,stagingId:t})).data,Wa=async({type:e,stagingId:r})=>(await Re.put("/v1/student/print-card",{type:e,stagingId:r})).data,Ha=async e=>(await Re.post("/v1/student/upload-payment",e)).data,Ua=e=>{const r=Ln();return{initialValues:g.useMemo(()=>{let n=e;const o=r.search.split("?");if(o.length>0){const s=new URLSearchParams(o[1]);for(const[i,l]of s.entries())if(l!=="undefined"&&l!=="null"){const u=decodeURIComponent(l);try{n[i]=JSON.parse(u)}catch{n[i]=u}}else n[i]=null;return n}else return n},[r.search])}},Er=e=>{const[r,t]=g.useState(e),n=Ua(e);return g.useEffect(()=>{t(n==null?void 0:n.initialValues)},[n]),r};class _t extends g.Component{render(){const{fotoProfile:r,alamat:t,asalSekolah:n,namaJalur:o,pilihanJalur1:s,pilihanJalur2:i,name:l,noTelepon:u,nomorPeserta:f,profileImgName:d,akhirTahun:p,awalTahun:y,dummyCard:x,textColor:m,bgColor:w}=this.props;return a.jsx("div",{className:"print-page",style:{backgroundColor:x?"transparent":"white",marginTop:"50px",marginInline:"auto",maxWidth:"800px",padding:"10px",color:m},children:a.jsx("div",{className:O["card-student"],children:a.jsxs("div",{className:O["inner-card"],style:{backgroundColor:w},children:[a.jsxs("header",{className:O.header,children:[a.jsx("img",{className:O["logo-yatindo"],src:"/logo-yatindo-hd.png",alt:""}),a.jsxs("h3",{className:O.title,children:["Kartu Pendaftaran Siswa ",a.jsx("br",{})," SMP - SMK TINTA EMAS INDONESIA ",a.jsx("br",{}),"Tahun Ajaran ",y||" undenfined"," / ",p||"undefined"]})]}),a.jsx(Wr,{mt:20,orientation:"horizontal",size:"lg",color:"orange"}),a.jsxs("div",{className:O.biodata,children:[(r==null?void 0:r.length)>0?r==null?void 0:r.map((j,k)=>{const b=URL.createObjectURL(j);return a.jsx("img",{height:170,width:160,src:b,onLoad:()=>URL.revokeObjectURL(b)},k)}):a.jsx("div",{className:O.profile}),a.jsx("div",{className:O["biodata-detail"],children:a.jsx("table",{className:O.table,children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Nomor Peserta"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:f||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Nama Peserta"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:l||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Nomor Telepon"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:u||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Alamat"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:t||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Asal Sekolah"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:n||"-"})]})]})})})]}),a.jsx(Wr,{orientation:"horizontal",size:"lg",color:"orange"}),a.jsx("div",{className:O["detail-pendaftaran"],children:a.jsx("table",{className:"table",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Jalur"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:o||"-"})]}),s&&a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Pilihan Jurusan 1"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:s||"-"})]}),i&&a.jsxs("tr",{children:[a.jsx("td",{className:O.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Pilihan Jurusan 2"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:O.td,children:i||"-"})]})]})})})]})})})}}const Ja=()=>{var y,x,m,w,j,k,b,S,G,Q,re,R,L,U,A,ge,ce,oe,E,N,he,Y,ue,$,K,ve,te,ye;const e=Vt(),r=g.useRef(),{md:t}=Mn(),[n,o]=g.useState(null),{data:s}=fe({queryFn:Xr,queryKey:["session-print"]}),i=(x=(y=s==null?void 0:s.data)==null?void 0:y.student)==null?void 0:x.profile_picture,l=g.useCallback(async()=>{try{const T=await ea(i);o(T)}catch{me.error("Gagal mmengambil foto profil")}},[i]);g.useEffect(()=>{i&&l()},[i,l]);const u={TJKT:"Teknik Jaringan Komputer dan Telekomunikasi",TKR:"Teknik Otomotif",TAV:"Teknik Elektronika",AKL:"Akuntansi dan Keuangan Lembaga"};function f(T){const X=T.split(",");let q=[];for(let Z=0;Z<X.length;Z++){const we=X[Z].trim(),be=u[we];q.push(be)}return q}const d=((w=(m=s==null?void 0:s.data)==null?void 0:m.student)==null?void 0:w.major)&&f(s.data.student.major),p=Bn.useReactToPrint({onPrintError:T=>{me.error("Terjadi kesalahan")},content:()=>r.current,removeAfterPrint:!0,copyStyles:!0,print:async T=>{const X=T.contentDocument;if(X){const q=X.getElementsByTagName("html")[0];try{const Z=new Kn(q,{filename:"PDF_SISWA_.pdf"})}catch{me.error("Terjadi kesalahan")}}}});return a.jsxs(je,{children:[a.jsx(gr,{position:"center",mt:50,children:a.jsx(nr,{size:"md",leftIcon:a.jsx(Zn,{size:25}),onClick:p,children:"Download"})}),a.jsx("div",{style:{display:"none"},children:a.jsx(_t,{dummyCard:!1,ref:r,akhirTahun:"2025",fotoProfile:n,alamat:(k=(j=s==null?void 0:s.data)==null?void 0:j.student)==null?void 0:k.address,asalSekolah:(S=(b=s==null?void 0:s.data)==null?void 0:b.student)==null?void 0:S.school_origin,awalTahun:"2024",namaJalur:(Q=(G=s==null?void 0:s.data)==null?void 0:G.student)==null?void 0:Q.pathName,name:(R=(re=s==null?void 0:s.data)==null?void 0:re.student)==null?void 0:R.name,noTelepon:(U=(L=s==null?void 0:s.data)==null?void 0:L.student)==null?void 0:U.phone,nomorPeserta:(ge=(A=s==null?void 0:s.data)==null?void 0:A.student)==null?void 0:ge.formulirId,pilihanJalur1:(d==null?void 0:d.length)>0?d[0]:"",pilihanJalur2:(d==null?void 0:d.length)>0?d[1]:"",profileImgName:"",textColor:"black",bgColor:"white"})}),t?a.jsx(a.Fragment,{children:a.jsx(_t,{dummyCard:!0,fotoProfile:n,akhirTahun:"2025",alamat:(oe=(ce=s==null?void 0:s.data)==null?void 0:ce.student)==null?void 0:oe.address,asalSekolah:(N=(E=s==null?void 0:s.data)==null?void 0:E.student)==null?void 0:N.school_origin,awalTahun:"2024",namaJalur:(Y=(he=s==null?void 0:s.data)==null?void 0:he.student)==null?void 0:Y.pathName,name:($=(ue=s==null?void 0:s.data)==null?void 0:ue.student)==null?void 0:$.name,noTelepon:(ve=(K=s==null?void 0:s.data)==null?void 0:K.student)==null?void 0:ve.phone,nomorPeserta:(ye=(te=s==null?void 0:s.data)==null?void 0:te.student)==null?void 0:ye.formulirId,pilihanJalur1:(d==null?void 0:d.length)>0?d[0]:"",pilihanJalur2:(d==null?void 0:d.length)>0?d[1]:"",profileImgName:"",textColor:`${e?"white":"black"}`,bgColor:`${e?"black":"white"}`})}):a.jsx(a.Fragment,{children:a.jsx(je,{mt:40,children:a.jsx(B,{align:"center",children:"Buka website ini di Dekstop/Laptop untuk melihat tampilan kartu formulir"})})})]})},Ws=({type:e="PEMBELIAN"})=>{const r=Er({step:3,stagingId:null});fe({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId});const t=qn(),n=Or({mutationFn:Wa});fe({queryFn:Xr,queryKey:["session"]});const o=()=>{n.mutate({type:e,stagingId:r.stagingId},{onSuccess:()=>{me.success("Selamat anda telah menyelesaikan satu rangkaian tahapan",{duration:1e4}),t("/ppdb/main/pengembalian")},onError:s=>Pr(s)})};return a.jsx(a.Fragment,{children:a.jsxs(kr,{withBorder:!0,radius:"md",sx:s=>({backgroundColor:s.colorScheme==="dark"?s.colors.dark[9]:s.white,padding:"2rem"}),children:[a.jsx(je,{maw:800,mx:"auto",children:a.jsx(B,{align:"center",weight:500,style:{fontSize:"clamp(1rem, 3.4783vw + 0.3043rem, 1.2rem)"},children:e==="PEMBELIAN"?"Selamat anda telah terdaftar disistem kami, silakan download pdf kartu formulir anda, lalu  klik selesai untuk ke halaman Jalur Pengembalian":"Selamat anda telah terdaftar menjadi calon siswa, silakan download pdf kartu formulir anda, harap menunggu informasi lebih lanjut"})}),a.jsxs(We,{align:"center",children:[a.jsx(Ja,{}),a.jsx(nr,{onClick:o,loading:n.isPending,size:"md",sx:{margin:"50px auto"},children:"Selesai"})]})]})})},St=({id:e,start_date:r,end_date:t,name:n,disabled:o=!1,onClick:s})=>{const i=Vt(),l=new Date(r),u=new Date(t),f=new Date,d=f>=l&&f<=u;return a.jsxs(nr,{unstyled:!0,disabled:!d||o,onClick:s,styles:p=>({root:{borderColor:`${d?"#51CF66":"red"}`,padding:"1rem",backgroundColor:`${p.colorScheme==="dark"?p.colors.dark[7]:p.white}`,cursor:"pointer",color:p.colorScheme==="dark"?"white":p.colors.gray[9],borderRadius:"8px",outline:"none","&:disabled":{cursor:"not-allowed",backgroundColor:`${i?p.colors.dark[4]:"rgba(233, 233, 233, 1)"}`}},label:{justifyContent:"space-between",display:"flex",alignItems:"center"}}),children:[a.jsxs(gr,{children:[a.jsx(na,{size:30}),a.jsxs(je,{children:[a.jsx(hr,{order:3,align:"left",weight:"bolder",children:n}),a.jsxs(B,{align:"left",children:[new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})," ","-"," ",new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),a.jsx(sa,{variant:"light",color:`${d?"green":"red"}`,size:"lg",children:d?"Dibuka":"Ditutup"})]},e)},Hs=({type:e="PEMBELIAN"})=>{var w,j,k;const r=Er({step:1,stagingId:null}),t=Zr(),{data:n,isSuccess:o}=fe({queryKey:["get_session_grade"],queryFn:Xr}),s=(j=(w=n==null?void 0:n.data)==null?void 0:w.student)==null?void 0:j.grade,{data:i,isLoading:l,isSuccess:u}=fe({queryKey:[`jalur_pendaftaran_${e}`],queryFn:()=>ra(e)}),{data:f,isLoading:d,isSuccess:p}=fe({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId}),y=Or({mutationFn:qa}),x=(b,S,G)=>{const Q=()=>{y.mutate({batchId:b,type:e,grade:G},{onSuccess:()=>{me.success("Sukses memilih gelommbang pendaftaran"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:R=>Pr(R)})},re=()=>{console.log("cancel")};Wt.openContextModal({modal:"createInformasi",innerProps:{onAccept:Q,onCancel:re,modalBody:`Anda yakin ingin memilih ${S}?`}})},m=u&&i&&o&&n&&((k=i==null?void 0:i.data)==null?void 0:k.filter(b=>b.grade===(s==null?void 0:s.toUpperCase())));return a.jsxs(kr,{withBorder:!0,radius:"md",sx:b=>({backgroundColor:b.colorScheme==="dark"?b.colors.dark[9]:b.white,padding:"2rem"}),children:[a.jsx(Ut,{visible:y.isPending||d}),p&&f.data.offset_data?a.jsxs(a.Fragment,{children:[a.jsx(B,{weight:500,children:"Pilihan Anda"}),a.jsx(We,{mt:20,children:a.jsx(St,{...f.data.offset_data.registrationBatch})})]}):d?a.jsx(et,{}):a.jsxs(a.Fragment,{children:[a.jsx(B,{weight:500,children:"Pilih Salah Satu Gelombang"}),a.jsxs(We,{mt:20,children:[l&&a.jsx(Ve,{content:"Lorem ipsum"}),(m==null?void 0:m.length)>0?m==null?void 0:m.sort((b,S)=>b.id-S.id).map(b=>g.createElement(St,{...b,key:b.id,onClick:()=>x(b.id,b.name,b.grade)})):a.jsx(a.Fragment,{children:a.jsxs(B,{size:"xl",weight:"bold",children:["Belum ada gelombang ",e==="PEMBELIAN"?"pembelian":"pengembalian"," yang tersedia"]})})]})]})]})},Ga=(e,r)=>{var t=e.toString(),n=t.replace(/[^,\d]/g,"").toString(),o=n.split(","),s=o[0].length%3,i=o[0].substr(0,s),l=o[0].substr(s).match(/\d{3}/gi);return l&&(i+=(s?".":"")+l.join(".")),i=o[1]!=null?i+","+o[1]:i,r==null?i:i?r+i+",-":""};var Qa=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ar(e,r){var t=Ya(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Ya(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Qa.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Xa=[".DS_Store","Thumbs.db"];function Za(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return br(e)&&eo(e.dataTransfer)?[2,ao(e.dataTransfer,e.type)]:ro(e)?[2,to(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,no(e)]:[2,[]]})})}function eo(e){return br(e)}function ro(e){return br(e)&&br(e.target)}function br(e){return typeof e=="object"&&e!==null}function to(e){return Ur(e.target.files).map(function(r){return ar(r)})}function no(e){return He(this,void 0,void 0,function(){var r;return Ue(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return ar(n)})]}})})}function ao(e,r){return He(this,void 0,void 0,function(){var t,n;return Ue(this,function(o){switch(o.label){case 0:return e.items?(t=Ur(e.items).filter(function(s){return s.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(oo))]):[3,2];case 1:return n=o.sent(),[2,Dt(rn(n))];case 2:return[2,Dt(Ur(e.files).map(function(s){return ar(s)}))]}})})}function Dt(e){return e.filter(function(r){return Xa.indexOf(r.name)===-1})}function Ur(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function oo(e){if(typeof e.webkitGetAsEntry!="function")return Ot(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?tn(r):Ot(e)}function rn(e){return e.reduce(function(r,t){return pt(pt([],ft(r),!1),ft(Array.isArray(t)?rn(t):[t]),!1)},[])}function Ot(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=ar(r);return Promise.resolve(t)}function so(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return[2,e.isDirectory?tn(e):io(e)]})})}function tn(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function s(){var i=this;r.readEntries(function(l){return He(i,void 0,void 0,function(){var u,f,d;return Ue(this,function(p){switch(p.label){case 0:if(l.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return u=p.sent(),t(u),[3,4];case 3:return f=p.sent(),n(f),[3,4];case 4:return[3,6];case 5:d=Promise.all(l.map(so)),o.push(d),s(),p.label=6;case 6:return[2]}})})},function(l){n(l)})}s()})}function io(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var s=ar(o,e.fullPath);t(s)},function(o){n(o)})})]})})}var lo=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return t.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):o===l})}return!0};function kt(e){return po(e)||uo(e)||an(e)||co()}function co(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function po(e){if(Array.isArray(e))return Jr(e)}function Pt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ct(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pt(Object(t),!0).forEach(function(n){nn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tr(e,r){return go(e)||mo(e,r)||an(e,r)||fo()}function fo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(e,r){if(e){if(typeof e=="string")return Jr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jr(e,r)}}function Jr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mo(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,l;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function go(e){if(Array.isArray(e))return e}var ho="file-invalid-type",vo="file-too-large",yo="file-too-small",bo="too-many-files",xo=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:ho,message:"File type must be ".concat(t)}},Et=function(r){return{code:vo,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},It=function(r){return{code:yo,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},jo={code:bo,message:"Too many files"};function on(e,r){var t=e.type==="application/x-moz-file"||lo(e,r);return[t,t?null:xo(r)]}function sn(e,r,t){if(Ae(e.size))if(Ae(r)&&Ae(t)){if(e.size>t)return[!1,Et(t)];if(e.size<r)return[!1,It(r)]}else{if(Ae(r)&&e.size<r)return[!1,It(r)];if(Ae(t)&&e.size>t)return[!1,Et(t)]}return[!0,null]}function Ae(e){return e!=null}function wo(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,s=e.multiple,i=e.maxFiles,l=e.validator;return!s&&r.length>1||s&&i>=1&&r.length>i?!1:r.every(function(u){var f=on(u,t),d=tr(f,1),p=d[0],y=sn(u,n,o),x=tr(y,1),m=x[0],w=l?l(u):null;return p&&m&&!w})}function xr(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function fr(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ft(e){e.preventDefault()}function _o(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function So(e){return e.indexOf("Edge/")!==-1}function Do(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _o(e)||So(e)}function pe(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return r.some(function(l){return!xr(n)&&l&&l.apply(void 0,[n].concat(s)),xr(n)})}}function Oo(){return"showOpenFilePicker"in window}function ko(e){if(Ae(e)){var r=Object.entries(e).filter(function(t){var n=tr(t,2),o=n[0],s=n[1],i=!0;return ln(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(cn))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,n){var o=tr(n,2),s=o[0],i=o[1];return Ct(Ct({},t),{},nn({},s,i))},{});return[{description:"Files",accept:r}]}return e}function Po(e){if(Ae(e))return Object.entries(e).reduce(function(r,t){var n=tr(t,2),o=n[0],s=n[1];return[].concat(kt(r),[o],kt(s))},[]).filter(function(r){return ln(r)||cn(r)}).join(",")}function Co(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Eo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ln(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function cn(e){return/^.*\.[\w]+$/.test(e)}var Io=["children"],Fo=["open"],Ao=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ro=["refKey","onChange","onClick"];function No(e){return zo(e)||To(e)||un(e)||$o()}function $o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function To(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zo(e){if(Array.isArray(e))return Gr(e)}function Br(e,r){return Bo(e)||Mo(e,r)||un(e,r)||Lo()}function Lo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(e,r){if(e){if(typeof e=="string")return Gr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gr(e,r)}}function Gr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Mo(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,l;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function Bo(e){if(Array.isArray(e))return e}function At(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?At(Object(t),!0).forEach(function(n){Qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function jr(e,r){if(e==null)return{};var t=Ko(e,r),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Ko(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var rt=g.forwardRef(function(e,r){var t=e.children,n=jr(e,Io),o=pn(n),s=o.open,i=jr(o,Fo);return g.useImperativeHandle(r,function(){return{open:s}},[s]),P.createElement(g.Fragment,null,t(C(C({},i),{},{open:s})))});rt.displayName="Dropzone";var dn={disabled:!1,getFilesFromEvent:Za,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};rt.defaultProps=dn;rt.propTypes={children:_.func,accept:_.objectOf(_.arrayOf(_.string)),multiple:_.bool,preventDropOnDocument:_.bool,noClick:_.bool,noKeyboard:_.bool,noDrag:_.bool,noDragEventsBubbling:_.bool,minSize:_.number,maxSize:_.number,maxFiles:_.number,disabled:_.bool,getFilesFromEvent:_.func,onFileDialogCancel:_.func,onFileDialogOpen:_.func,useFsAccessApi:_.bool,autoFocus:_.bool,onDragEnter:_.func,onDragLeave:_.func,onDragOver:_.func,onDrop:_.func,onDropAccepted:_.func,onDropRejected:_.func,onError:_.func,validator:_.func};var Yr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=C(C({},dn),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,s=r.maxSize,i=r.minSize,l=r.multiple,u=r.maxFiles,f=r.onDragEnter,d=r.onDragLeave,p=r.onDragOver,y=r.onDrop,x=r.onDropAccepted,m=r.onDropRejected,w=r.onFileDialogCancel,j=r.onFileDialogOpen,k=r.useFsAccessApi,b=r.autoFocus,S=r.preventDropOnDocument,G=r.noClick,Q=r.noKeyboard,re=r.noDrag,R=r.noDragEventsBubbling,L=r.onError,U=r.validator,A=g.useMemo(function(){return Po(t)},[t]),ge=g.useMemo(function(){return ko(t)},[t]),ce=g.useMemo(function(){return typeof j=="function"?j:Rt},[j]),oe=g.useMemo(function(){return typeof w=="function"?w:Rt},[w]),E=g.useRef(null),N=g.useRef(null),he=g.useReducer(qo,Yr),Y=Br(he,2),ue=Y[0],$=Y[1],K=ue.isFocused,ve=ue.isFileDialogActive,te=g.useRef(typeof window<"u"&&window.isSecureContext&&k&&Oo()),ye=function(){!te.current&&ve&&setTimeout(function(){if(N.current){var v=N.current.files;v.length||($({type:"closeDialog"}),oe())}},300)};g.useEffect(function(){return window.addEventListener("focus",ye,!1),function(){window.removeEventListener("focus",ye,!1)}},[N,ve,oe,te]);var T=g.useRef([]),X=function(v){E.current&&E.current.contains(v.target)||(v.preventDefault(),T.current=[])};g.useEffect(function(){return S&&(document.addEventListener("dragover",Ft,!1),document.addEventListener("drop",X,!1)),function(){S&&(document.removeEventListener("dragover",Ft),document.removeEventListener("drop",X))}},[E,S]),g.useEffect(function(){return!n&&b&&E.current&&E.current.focus(),function(){}},[E,b,n]);var q=g.useCallback(function(c){L?L(c):console.error(c)},[L]),Z=g.useCallback(function(c){c.preventDefault(),c.persist(),ze(c),T.current=[].concat(No(T.current),[c.target]),fr(c)&&Promise.resolve(o(c)).then(function(v){if(!(xr(c)&&!R)){var I=v.length,z=I>0&&wo({files:v,accept:A,minSize:i,maxSize:s,multiple:l,maxFiles:u,validator:U}),M=I>0&&!z;$({isDragAccept:z,isDragReject:M,isDragActive:!0,type:"setDraggedFiles"}),f&&f(c)}}).catch(function(v){return q(v)})},[o,f,q,R,A,i,s,l,u,U]),we=g.useCallback(function(c){c.preventDefault(),c.persist(),ze(c);var v=fr(c);if(v&&c.dataTransfer)try{c.dataTransfer.dropEffect="copy"}catch{}return v&&p&&p(c),!1},[p,R]),be=g.useCallback(function(c){c.preventDefault(),c.persist(),ze(c);var v=T.current.filter(function(z){return E.current&&E.current.contains(z)}),I=v.indexOf(c.target);I!==-1&&v.splice(I,1),T.current=v,!(v.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),fr(c)&&d&&d(c))},[E,d,R]),Ne=g.useCallback(function(c,v){var I=[],z=[];c.forEach(function(M){var Pe=on(M,A),De=Br(Pe,2),se=De[0],Qe=De[1],Ye=sn(M,i,s),Ce=Br(Ye,2),Xe=Ce[0],Ze=Ce[1],ne=U?U(M):null;if(se&&Xe&&!ne)I.push(M);else{var Le=[Qe,Ze];ne&&(Le=Le.concat(ne)),z.push({file:M,errors:Le.filter(function(Rr){return Rr})})}}),(!l&&I.length>1||l&&u>=1&&I.length>u)&&(I.forEach(function(M){z.push({file:M,errors:[jo]})}),I.splice(0)),$({acceptedFiles:I,fileRejections:z,type:"setFiles"}),y&&y(I,z,v),z.length>0&&m&&m(z,v),I.length>0&&x&&x(I,v)},[$,l,A,i,s,u,y,x,m,U]),$e=g.useCallback(function(c){c.preventDefault(),c.persist(),ze(c),T.current=[],fr(c)&&Promise.resolve(o(c)).then(function(v){xr(c)&&!R||Ne(v,c)}).catch(function(v){return q(v)}),$({type:"reset"})},[o,Ne,q,R]),_e=g.useCallback(function(){if(te.current){$({type:"openDialog"}),ce();var c={multiple:l,types:ge};window.showOpenFilePicker(c).then(function(v){return o(v)}).then(function(v){Ne(v,null),$({type:"closeDialog"})}).catch(function(v){Co(v)?(oe(v),$({type:"closeDialog"})):Eo(v)?(te.current=!1,N.current?(N.current.value=null,N.current.click()):q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):q(v)});return}N.current&&($({type:"openDialog"}),ce(),N.current.value=null,N.current.click())},[$,ce,oe,k,Ne,q,ge,l]),or=g.useCallback(function(c){!E.current||!E.current.isEqualNode(c.target)||(c.key===" "||c.key==="Enter"||c.keyCode===32||c.keyCode===13)&&(c.preventDefault(),_e())},[E,_e]),J=g.useCallback(function(){$({type:"focus"})},[]),sr=g.useCallback(function(){$({type:"blur"})},[]),ir=g.useCallback(function(){G||(Do()?setTimeout(_e,0):_e())},[G,_e]),Se=function(v){return n?null:v},Ge=function(v){return Q?null:Se(v)},Te=function(v){return re?null:Se(v)},ze=function(v){R&&v.stopPropagation()},Ir=g.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=c.refKey,I=v===void 0?"ref":v,z=c.role,M=c.onKeyDown,Pe=c.onFocus,De=c.onBlur,se=c.onClick,Qe=c.onDragEnter,Ye=c.onDragOver,Ce=c.onDragLeave,Xe=c.onDrop,Ze=jr(c,Ao);return C(C(Qr({onKeyDown:Ge(pe(M,or)),onFocus:Ge(pe(Pe,J)),onBlur:Ge(pe(De,sr)),onClick:Se(pe(se,ir)),onDragEnter:Te(pe(Qe,Z)),onDragOver:Te(pe(Ye,we)),onDragLeave:Te(pe(Ce,be)),onDrop:Te(pe(Xe,$e)),role:typeof z=="string"&&z!==""?z:"presentation"},I,E),!n&&!Q?{tabIndex:0}:{}),Ze)}},[E,or,J,sr,ir,Z,we,be,$e,Q,re,n]),Fr=g.useCallback(function(c){c.stopPropagation()},[]),Ar=g.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=c.refKey,I=v===void 0?"ref":v,z=c.onChange,M=c.onClick,Pe=jr(c,Ro),De=Qr({accept:A,multiple:l,type:"file",style:{display:"none"},onChange:Se(pe(z,$e)),onClick:Se(pe(M,Fr)),tabIndex:-1},I,N);return C(C({},De),Pe)}},[N,t,l,$e,n]);return C(C({},ue),{},{isFocused:K&&!n,getRootProps:Ir,getInputProps:Ar,rootRef:E,inputRef:N,open:Se(_e)})}function qo(e,r){switch(r.type){case"focus":return C(C({},e),{},{isFocused:!0});case"blur":return C(C({},e),{},{isFocused:!1});case"openDialog":return C(C({},Yr),{},{isFileDialogActive:!0});case"closeDialog":return C(C({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return C(C({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return C(C({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return C({},Yr);default:return e}}function Rt(){}const[Vo,Wo]=Vn("Dropzone component was not found in tree");var Nt=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Uo=Object.prototype.propertyIsEnumerable,Jo=(e,r)=>{var t={};for(var n in e)Ho.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Nt)for(var n of Nt(e))r.indexOf(n)<0&&Uo.call(e,n)&&(t[n]=e[n]);return t};function tt(e){const r=t=>{const n=Dr(`Dropzone${ht(e)}`,{},t),{children:o}=n,s=Jo(n,["children"]),i=Wo(),l=Wn(o)?o:P.createElement("span",null,o);return i[e]?g.cloneElement(l,s):null};return r.displayName=`@mantine/dropzone/${ht(e)}`,r}const Go=tt("accept"),Qo=tt("reject"),Yo=tt("idle");var Xo=Object.defineProperty,Zo=Object.defineProperties,es=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,rs=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,Tt=(e,r,t)=>r in e?Xo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,zt=(e,r)=>{for(var t in r||(r={}))rs.call(r,t)&&Tt(e,t,r[t]);if($t)for(var t of $t(r))ts.call(r,t)&&Tt(e,t,r[t]);return e},ns=(e,r)=>Zo(e,es(r)),as=Sr((e,{padding:r,radius:t})=>{const n=e.fn.variant({color:"red",variant:"light"}),o=e.fn.variant({color:e.primaryColor,variant:"light"});return{root:ns(zt(zt({},e.fn.fontStyles()),e.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${H(2)} dashed ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,padding:le({size:r,sizes:e.spacing}),borderRadius:e.fn.radius(t),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}},"&[data-accept]":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0],borderColor:e.colorScheme==="dark"?o.border:e.colors[e.primaryColor][4],"&:hover":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0]}},"&[data-reject]":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0],borderColor:e.colorScheme==="dark"?n.border:e.colors.red[4],"&:hover":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}});const os=as;var ss=Object.defineProperty,is=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,wr=Object.getOwnPropertySymbols,fn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,Lt=(e,r,t)=>r in e?ss(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,rr=(e,r)=>{for(var t in r||(r={}))fn.call(r,t)&&Lt(e,t,r[t]);if(wr)for(var t of wr(r))mn.call(r,t)&&Lt(e,t,r[t]);return e},Kr=(e,r)=>is(e,ls(r)),cs=(e,r)=>{var t={};for(var n in e)fn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&wr)for(var n of wr(e))r.indexOf(n)<0&&mn.call(e,n)&&(t[n]=e[n]);return t};const us={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function Je(e){const r=Dr("Dropzone",us,e),{className:t,padding:n,radius:o,disabled:s,classNames:i,styles:l,loading:u,multiple:f,maxSize:d,accept:p,children:y,onDropAny:x,onDrop:m,onReject:w,openRef:j,name:k,unstyled:b,maxFiles:S,autoFocus:G,activateOnClick:Q,activateOnDrag:re,dragEventsBubbling:R,activateOnKeyboard:L,onDragEnter:U,onDragLeave:A,onDragOver:ge,onFileDialogCancel:ce,onFileDialogOpen:oe,preventDropOnDocument:E,useFsAccessApi:N,getFilesFromEvent:he,validator:Y,variant:ue}=r,$=cs(r,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:K,cx:ve}=os({radius:o,padding:n},{name:"Dropzone",classNames:i,styles:l,unstyled:b,variant:ue}),{getRootProps:te,getInputProps:ye,isDragAccept:T,isDragReject:X,open:q}=pn(rr({onDrop:x,onDropAccepted:m,onDropRejected:w,disabled:s||u,accept:Array.isArray(p)?p.reduce((we,be)=>Kr(rr({},we),{[be]:[]}),{}):p,multiple:f,maxSize:d,maxFiles:S,autoFocus:G,noClick:!Q,noDrag:!re,noDragEventsBubbling:!R,noKeyboard:!L,onDragEnter:U,onDragLeave:A,onDragOver:ge,onFileDialogCancel:ce,onFileDialogOpen:oe,preventDropOnDocument:E,useFsAccessApi:N,validator:Y},he?{getFilesFromEvent:he}:null));Hn(j,q);const Z=!T&&!X;return P.createElement(Vo,{value:{accept:T,reject:X,idle:Z}},P.createElement(je,Kr(rr(rr({},$),te()),{"data-accept":T||void 0,"data-reject":X||void 0,"data-idle":Z||void 0,"data-loading":u||void 0,className:ve(K.root,t)}),P.createElement(Ut,{visible:u,radius:o,unstyled:b}),P.createElement("input",Kr(rr({},ye()),{name:k})),P.createElement("div",{className:K.inner},y)))}Je.displayName="@mantine/dropzone/Dropzone";Je.Accept=Go;Je.Reject=Qo;Je.Idle=Yo;const gn=Je;var ds=Object.defineProperty,ps=Object.defineProperties,fs=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,gs=Object.prototype.propertyIsEnumerable,Bt=(e,r,t)=>r in e?ds(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,hs=(e,r)=>{for(var t in r||(r={}))ms.call(r,t)&&Bt(e,t,r[t]);if(Mt)for(var t of Mt(r))gs.call(r,t)&&Bt(e,t,r[t]);return e},vs=(e,r)=>ps(e,fs(r)),ys=Sr(e=>({wrapper:vs(hs({},e.fn.cover(0)),{position:"fixed",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,display:"flex",padding:e.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}}));const bs=ys;var xs=Object.defineProperty,js=Object.defineProperties,ws=Object.getOwnPropertyDescriptors,_r=Object.getOwnPropertySymbols,hn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable,Kt=(e,r,t)=>r in e?xs(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,qr=(e,r)=>{for(var t in r||(r={}))hn.call(r,t)&&Kt(e,t,r[t]);if(_r)for(var t of _r(r))vn.call(r,t)&&Kt(e,t,r[t]);return e},Vr=(e,r)=>js(e,ws(r)),_s=(e,r)=>{var t={};for(var n in e)hn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&_r)for(var n of _r(e))r.indexOf(n)<0&&vn.call(e,n)&&(t[n]=e[n]);return t};const Ss={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:qt("max"),withinPortal:!0};function yn(e){const r=Dr("DropzoneFullScreen",Ss,e),{classNames:t,styles:n,sx:o,className:s,style:i,unstyled:l,active:u,onDrop:f,onReject:d,zIndex:p,withinPortal:y,portalProps:x}=r,m=_s(r,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[w,j]=P.useState(0),[k,{open:b,close:S}]=Un(!1),{classes:G,cx:Q}=bs(null,{name:"DropzoneFullScreen",classNames:t,styles:n,unstyled:l}),re=L=>{L.dataTransfer.types.includes("Files")&&(j(U=>U+1),b())},R=()=>{j(L=>L-1)};return g.useEffect(()=>{w===0&&S()},[w]),g.useEffect(()=>{if(u)return document.addEventListener("dragenter",re,!1),document.addEventListener("dragleave",R,!1),()=>{document.removeEventListener("dragenter",re,!1),document.removeEventListener("dragleave",R,!1)}},[u]),P.createElement(Jn,Vr(qr({},x),{withinPortal:y}),P.createElement(je,{className:Q(G.wrapper,s),sx:o,style:Vr(qr({},i),{opacity:k?1:0,pointerEvents:k?"all":"none",zIndex:p})},P.createElement(Je,Vr(qr({},m),{classNames:t,styles:n,unstyled:l,className:G.dropzone,onDrop:L=>{f==null||f(L),S()},onReject:L=>{d==null||d(L),S()}}))))}yn.displayName="@mantine/dropzone/DropzoneFullScreen";const qe={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",mp4:"video/mp4",zip:"application/zip",csv:"text/csv",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",exe:"application/vnd.microsoft.portable-executable"},Ds=[qe.png,qe.gif,qe.jpeg,qe.svg,qe.webp,qe.avif];gn.FullScreen=yn;const mr=gn;function Os(e){return Gn({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}function ks({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o,onChange:s,...i}){var p;const{field:{value:l,onChange:u,...f},fieldState:d}=ia({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o});return a.jsx(a.Fragment,{children:a.jsx(Hr.Group,{label:i.label,description:i.description,value:l,onChange:y=>{u(y),s==null||s(y)},error:(p=d.error)==null?void 0:p.message,...f,...i})})}const Ps=()=>{var l,u,f;const e=Ht(),{register:r,control:t,setValue:n,formState:{errors:o},watch:s}=la(),i=s("payment_method");return a.jsxs(We,{spacing:10,children:[a.jsx(gt,{rules:{required:!0},render:({field:{onChange:d,value:p}})=>a.jsxs(mr,{multiple:!1,onChange:y=>{var x;return d(((x=y.target.files)==null?void 0:x[0])??null)},onReject:y=>{y[0].errors[0].code=="file-too-large"&&me.error("Size gambar terlalu besar dari 5MB")},maxSize:3*1024**2,accept:Ds,onDrop:y=>{d(y)},children:[a.jsxs(gr,{position:"center",spacing:"xl",style:{minHeight:H(220),pointerEvents:"none"},children:[a.jsx(mr.Accept,{children:a.jsx(Qn,{size:"3.2rem",color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6]})}),a.jsx(mr.Reject,{children:a.jsx(Os,{size:"3.2rem",color:e.colors.red[e.colorScheme==="dark"?4:6]})}),a.jsx(mr.Idle,{children:a.jsx(ta,{size:"3.2rem"})}),a.jsx(B,{size:"",children:"Upload Bukti Bayar, Max : 5MB"})]}),a.jsxs(ua,{cols:4,mt:5,breakpoints:[{maxWidth:"sm",cols:1}],children:[console.log("value",p),p&&(p==null?void 0:p.length)>0&&(p==null?void 0:p.map((y,x)=>{const m=URL.createObjectURL(y);return a.jsx(da,{src:m,w:20,imageProps:{onLoad:()=>URL.revokeObjectURL(m)}},x)}))]})]}),name:"payment_prove",control:t}),a.jsx(gt,{rules:{required:!0},name:"amount",control:t,render:({field:{ref:d,onChange:p,...y}})=>{var x;return a.jsx(Yn,{thousandSeparator:".",decimalSeparator:",",prefix:"Rp. ",customInput:pr,error:o.amount&&a.jsx("div",{children:(x=o.amount)==null?void 0:x.message}),placeholder:"Rp. 0",label:"Input Nominal",description:"Input Nominal",onValueChange:({floatValue:m})=>{p(m)},...y})}}),a.jsx(ks,{name:"payment_method",control:t,label:"Metode Pembayaran",description:"Pilih salah satu",rules:{required:!0},children:a.jsxs(gr,{mt:"xs",children:[a.jsx(Hr,{value:"CASH",label:"Tunai"}),a.jsx(Hr,{value:"TRANSFER",label:"Transfer"})]})}),i&&i==="TRANSFER"&&a.jsxs(a.Fragment,{children:[a.jsx(pr,{description:"Masukkan nama bank",label:"Nama Bank",placeholder:"Bank BCA,BNI",withAsterisk:!0,error:o.bank_name&&a.jsx("div",{children:(l=o.bank_name)==null?void 0:l.message}),required:!0,...r("bank_name",{required:!0})}),a.jsx(pr,{label:"Nomor Rekening",description:"Masukkan nomor rekening",withAsterisk:!0,type:"number",error:o.bank_account&&a.jsx("div",{children:(u=o.bank_account)==null?void 0:u.message}),required:!0,...r("bank_account",{required:!0})}),a.jsx(pr,{label:"Nama Pemilik Rekening",description:"Masukkan nama pemilik rekening",withAsterisk:!0,error:o.bank_user&&a.jsx("div",{children:(f=o.bank_user)==null?void 0:f.message}),required:!0,...r("bank_user",{required:!0})})]})]})},bn=async e=>(await Re.get("/v1/admin/lookup?type="+e)).data,xn=e=>{const{data:r,isLoading:t,isSuccess:n}=fe({queryFn:()=>bn(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(et,{}),n&&a.jsx(ya,{value:e.value,readOnly:e.readOnly,label:e.label,onChange:e.onChange,searchable:e.searchable,styles:{input:{backgroundColor:e.readOnly&&"#2A166F",color:e.readOnly&&"white",fontWeight:`${e.readOnly?"bolder":"normal"}`}},data:e.data?e.data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Cs=()=>a.jsxs(je,{sx:e=>({backgroundColor:"transparent",padding:"4rem 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:[a.jsx("img",{src:"/svg/wait-pembelianformulir.svg",alt:"image",style:{width:"250px"}}),a.jsx(B,{mt:40,sx:{maxWidth:500},weight:"bold",align:"center",children:"Bukti anda telah di upload"})]}),Es={CASH:"Tunai",TRANSFER:"Transfer"},Us=({type:e="PEMBELIAN"})=>{var f,d,p,y,x;const r=Er({step:2,stagingId:null}),t=Zr(),n=Or({mutationFn:Ha}),{data:o,isLoading:s,isSuccess:i}=fe({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId}),l=g.useMemo(()=>[{id:"Metode Pembayaran",header:"Metode Pembayaran",accessorFn:m=>Es[m.method]},{id:"Bank",header:"Bank",accessorFn:m=>m.bank_name},{id:"Nomor Rekening",header:"Nomor Rekening",accessorFn:m=>m.bank_account},{id:"Atas Nama",header:"Atas Nama",accessorFn:m=>m.bank_user}],[]),u=m=>{var j,k;if((m==null?void 0:m.amount)!==((k=(j=o==null?void 0:o.data)==null?void 0:j.registration_batch)==null?void 0:k.price)){me.error("Nominal tidak sesuai");return}const w=new FormData;for(const[b,S]of Object.entries(m))b==="payment_prove"?w.append("file",S==null?void 0:S[0]):w.append(b,S);w.append("type",e),n.mutate(w,{onSuccess:()=>{me.success("Sukses upload bukti bayar"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:b=>Pr(b)})};return a.jsxs(kr,{withBorder:!0,sx:m=>({backgroundColor:`${m.colorScheme==="dark"?m.colors.dark[9]:m.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:[a.jsxs(We,{children:[a.jsx(hr,{children:"Bayar Pendaftaran"}),a.jsx(B,{className:"font-semibold",children:"Silahkan melakukan transfer ke rekening dibawah ini jika anda memilih metode pembayaran transfer :"}),a.jsx("table",{className:"w-full overflow-x-auto",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Bank"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(B,{children:[":"," ",a.jsx(B,{component:"span",weight:"bold",children:(f=o.data.registration_batch)==null?void 0:f.bank_name})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nominal yang harus dibayarkan"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(B,{children:[":"," ",a.jsx(B,{component:"span",weight:"bold",children:Ga(((d=o.data.registration_batch)==null?void 0:d.price)??"0","Rp ")})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nomor Rekening"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(B,{children:[":"," ",a.jsx(B,{component:"span",weight:"bold",children:(p=o.data.registration_batch)==null?void 0:p.bank_account})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Atas Nama"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(B,{children:[":"," ",a.jsx(B,{component:"span",weight:"bold",children:(y=o.data.registration_batch)==null?void 0:y.bank_user})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Status Pembayaran"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsx(xn,{type:"STATUS",readOnly:!0,value:(x=o.data.payment_status)==null?void 0:x.status})]})]})]})})]}),i&&o.data.payment_status?a.jsxs(a.Fragment,{children:[a.jsx(Cs,{}),a.jsx(je,{mt:10,w:"100%",children:a.jsx(aa,{useHeader:!0,data:[{...o.data.payment_status}],columns:l,noCard:!0,usePagination:!1})})]}):a.jsx(a.Fragment,{children:a.jsxs(ca,{id:"form-uploadbukti",onSubmit:u,children:[a.jsx(hr,{order:3,my:50,children:"Bukti Transfer"}),a.jsx(Wr,{}),a.jsx(Ps,{}),a.jsx(nr,{type:"submit",mt:10,children:"Submit"})]})})]})},Is=e=>{const{data:r,isLoading:t,isSuccess:n}=fe({queryFn:()=>bn(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(et,{}),n&&a.jsx(en,{value:e.value,maxSelectedValues:2,label:e.label,onChange:e.onChange,searchable:e.searchable,data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Js=({type:e="PEMBELIAN"})=>{var f,d,p,y,x,m,w;const r=Er({step:3,stagingId:null}),[t,n]=g.useState(null),{data:o,isSuccess:s}=fe({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId}),i=Zr(),l=Or({mutationFn:Va}),u=()=>{const j=()=>{l.mutate({type:e,major:t.toString(),stagingId:r.stagingId},{onSuccess:()=>{me.success("Sukses memilih Jurusan"),i.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:b=>Pr(b)})},k=()=>console.log("cancel");t==""||!t?me.error("Wajib pilih salah satu jurusan"):Wt.openContextModal({modal:"createInformasi",innerProps:{onAccept:j,onCancel:k,modalBody:"Anda yakin ingin memilih jurusan ini ?"}})};return g.useEffect(()=>{var j,k,b,S;s&&((j=o.data.current_state)!=null&&j.majors)?n((b=(k=o.data.current_state)==null?void 0:k.majors)==null?void 0:b.split(",")):(S=o==null?void 0:o.data)!=null&&S.major},[s,o]),a.jsx(kr,{withBorder:!0,sx:j=>({backgroundColor:`${j.colorScheme==="dark"?j.colors.dark[9]:j.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:a.jsxs(We,{children:[a.jsx(hr,{children:"Pilih Jurusan"}),e==="PEMBELIAN"&&a.jsx(B,{children:"*Anda dapat memilih lebih dari satu untuk peminatan awal"}),s&&((f=o.data.current_state)==null?void 0:f.status)==="WAITING_PAYMENT"&&((d=o.data.current_state)==null?void 0:d.type)===e?a.jsx("p",{children:"Harap menunggu konfirmasi pembayaran terlebih dahulu sebelum memilih jurusan"}):a.jsxs(a.Fragment,{children:[e==="PEMBELIAN"?a.jsx(Is,{type:"MAJOR",readOnly:!!(s&&((p=o.data.current_state)!=null&&p.majors)&&(y=o.data.current_state)!=null&&y.majors),onChange:j=>n(j),value:t&&Array.from(t)}):a.jsx(xn,{type:"MAJOR",readOnly:!!(s&&((x=o.data.current_state)!=null&&x.majors)&&(m=o.data.current_state)!=null&&m.majors),onChange:j=>n(j),value:t&&t.toString()}),a.jsx(nr,{variant:"filled",onClick:u,loading:l.isPending,disabled:!!(s&&((w=o.data.current_state)!=null&&w.majors)),children:"Submit"})]})]})})},Gs=({card:e,activeTabIndex:r})=>{const t=Ht();return a.jsx(mt.List,{sx:{display:"flex",gap:"1rem",padding:"2rem 0 1rem"},children:e&&e.length>0&&e.map((n,o)=>a.jsxs(mt.Tab,{sx:()=>({flex:1,minWidth:250}),h:"10rem",value:n.index.toString(),disabled:e[o>0?o-1:o].is_done==0||n.is_done===0,style:{position:"relative"},children:[!n.is_done&&e[o>0?o-1:o].is_done==0&&r!==n.index&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[4]}`,borderRadius:"100px",padding:"5px"},children:a.jsx(oa,{size:25})}),n.is_done&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:"white"}`,borderRadius:"100%",padding:"4px",color:"#51CF66",border:"",display:"flex",alignItems:"center"},children:a.jsx(Xn,{size:25})}),a.jsx(je,{sx:{marginInline:"auto",width:"fit-content"},children:n.icon&&a.jsx(n.icon,{size:70})}),a.jsx(B,{weight:"bolder",mt:10,sx:{textAlign:"center"},children:n.label})]},o))})},Qs=e=>Object.keys(e).map(r=>r+"="+encodeURIComponent(e[r])).join("&");export{mr as D,Os as I,ks as R,Hs as S,Gs as T,Vs as a,Us as b,Js as c,Ws as d,Ds as e,xn as f,Qs as g,Er as h,Cr as i,Ua as u};
