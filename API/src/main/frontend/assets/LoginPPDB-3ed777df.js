import{k as f,r as c,l as j,u as b,m as w,n as k,j as e,o as v,P as S,B as p,T as y,S as E,p as F,G as L,c as m,L as d,s as P,f as T,_ as N}from"./index-c1683f52.js";import{S as _}from"./SideAuthLayout-9c60d82b.js";import{R as C}from"./ResponseError-661a494f.js";import{P as B}from"./PasswordInput-25213393.js";const D=async s=>(await f.post("/v1/auth/login",s)).data,q=()=>{const[s,r]=c.useState(""),[n,h]=c.useState(""),i=j({mutationFn:D}),{md:a}=b(),u=w(),l=k(),x=t=>{i.mutate(t,{onSuccess:o=>{N.success("Sukses Login!"),localStorage.setItem("_TuVbwpW",o.data.access_token),localStorage.setItem("_RuvTpQv",o.data.refresh_token),l("/ppdb/main/home")},onError:o=>C(o)})},g=t=>{t.preventDefault(),x({username:s,password:n})};return e.jsx(v,{title:"Login",children:e.jsxs(S,{pt:`${a?0:"70px"}`,className:"flex  min-h-[100vh]",children:[e.jsx(p,{className:`flex-[2] p-[0_1rem_] flex flex-col overflow-y-auto min-h-[87vh]  items-center justify-center
            ${!a&&"bg-[url(/bg-layout-auth.png)]"} bg-contain bg-no-repeat bg-right`,children:e.jsxs(p,{w:`${a?"30rem":"20rem"}`,children:[e.jsx(y,{align:"center",children:"Login"}),e.jsx("form",{onSubmit:g,className:"mt-10",children:e.jsxs(E,{children:[e.jsx(F,{withAsterisk:!0,label:"Nomor Whatsapp",required:!0,autoFocus:!0,value:s,onChange:t=>r(t.target.value)}),e.jsx(B,{withAsterisk:!0,label:"Password",required:!0,value:n,onChange:t=>h(t.target.value)}),e.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",flexDirection:`${a?"row":"column"}`},children:[e.jsx(m,{to:"/ppdb",component:d,c:u?"#9E9EFF":"#364FC7",className:" text-center underline cursor-pointer",onClick:()=>{l("/ppdb"),setTimeout(()=>{P.scrollTo("ppdb",{duration:500,delay:100,smooth:!0,offset:-100})},300)},children:"Belum punya akun? daftar"}),e.jsx(m,{to:"https://wa.me/6281380908008",component:d,c:u?"#9E9EFF":"#364FC7",className:"text-center underline cursor-pointer",children:"Lupa Password?"})]}),e.jsx(T,{type:"submit",color:"#9E9EFF",loading:i.status==="pending",children:"Login"})]})})]})}),e.jsx(_,{page:null})]})})};export{q as default};
