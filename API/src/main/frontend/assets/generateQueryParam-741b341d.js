import{t as V,x as Sr,y as de,R as P,X as $n,al as ct,am as qt,r as g,C as Dr,an as Nn,W as Tn,a9 as ut,aa as Lr,ab as dt,ao as zn,k as Ne,q as Ln,m as Vt,u as Mn,b as ve,V as Xr,_ as ye,ap as Bn,aq as Kn,j as a,B as Se,G as gr,f as nr,c as M,ar as S,D as Wr,n as qn,l as kr,P as Or,S as We,T as hr,aj as Zr,I as et,$ as Ve,w as Wt,as as He,at as Ue,au as pt,av as ft,aw as D,ax as Vn,ay as Wn,az as Hn,aA as Un,aB as Jn,aC as Gn,ai as Hr,a as Ht,ag as Qn,aD as Yn,p as pr,a1 as mt,aE as Xn}from"./index-9681aaed.js";import{R as Pr}from"./ResponseError-1a2c2612.js";import{a as Zn}from"./index.esm-adea04ed.js";import{c as ea}from"./imageUtils-e1ae1e3f.js";import{g as ra,H as ta}from"./index.esm-f03600bb.js";import{B as na,D as aa,a as oa}from"./DataTable-eb9624a9.js";import{B as sa}from"./Badge-6cfb110d.js";import{L as Ut}from"./LoadingOverlay-8c90c693.js";import{a as ia,u as la,C as gt,F as ca}from"./FormWrapper-cf021700.js";import{S as ua}from"./SimpleGrid-c1431bb6.js";import{I as da}from"./Image-bd44fb15.js";import{D as pa,u as fa,g as ma,a as Mr,b as ga,c as ha,d as va,S as ya}from"./Select-3c957265.js";function ht(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}const Jt={xs:V(16),sm:V(22),md:V(26),lg:V(30),xl:V(36)},ba={xs:V(10),sm:V(12),md:V(14),lg:V(16),xl:V(18)};var xa=Sr((e,{disabled:r,radius:t,readOnly:n},{size:o,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:r?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:r?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:de({size:o,sizes:Jt}),paddingLeft:`calc(${de({size:o,sizes:e.spacing})} / 1.5)`,paddingRight:r||n?de({size:o,sizes:e.spacing}):0,fontWeight:500,fontSize:de({size:o,sizes:ba}),borderRadius:de({size:t,sizes:e.radius}),cursor:r?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${V(10)})`},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${de({size:o,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const ja=xa;var wa=Object.defineProperty,vr=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,vt=(e,r,t)=>r in e?wa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,_a=(e,r)=>{for(var t in r||(r={}))Gt.call(r,t)&&vt(e,t,r[t]);if(vr)for(var t of vr(r))Qt.call(r,t)&&vt(e,t,r[t]);return e},Sa=(e,r)=>{var t={};for(var n in e)Gt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&vr)for(var n of vr(e))r.indexOf(n)<0&&Qt.call(e,n)&&(t[n]=e[n]);return t};const Da={xs:16,sm:22,md:24,lg:26,xl:30};function Yt(e){var r=e,{label:t,classNames:n,styles:o,className:s,onRemove:i,disabled:c,readOnly:d,size:p,radius:f="sm",variant:l,unstyled:y}=r,j=Sa(r,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:m,cx:w}=ja({disabled:c,readOnly:d,radius:f},{name:"MultiSelect",classNames:n,styles:o,unstyled:y,size:p,variant:l});return P.createElement("div",_a({className:w(m.defaultValue,s)},j),P.createElement("span",{className:m.defaultValueLabel},t),!c&&!d&&P.createElement($n,{"aria-hidden":!0,onMouseDown:i,size:Da[p],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:m.defaultValueRemove,tabIndex:-1,unstyled:y}))}Yt.displayName="@mantine/core/MultiSelect/DefaultValue";function ka({data:e,searchable:r,limit:t,searchValue:n,filter:o,value:s,disableSelectedItemFiltering:i}){if(!r&&s.length===0)return e;if(!r){const d=[];for(let p=0;p<e.length;p+=1)(i||!s.some(f=>f===e[p].value&&!e[p].disabled))&&d.push(e[p]);return d}const c=[];for(let d=0;d<e.length&&(o(n,!i&&s.some(p=>p===e[d].value&&!e[d].disabled),e[d])&&c.push(e[d]),!(c.length>=t));d+=1);return c}var Oa=Object.defineProperty,Pa=Object.defineProperties,Ca=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,bt=(e,r,t)=>r in e?Oa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Fa=(e,r)=>{for(var t in r||(r={}))Ea.call(r,t)&&bt(e,t,r[t]);if(yt)for(var t of yt(r))Ia.call(r,t)&&bt(e,t,r[t]);return e},Aa=(e,r)=>Pa(e,Ca(r)),Ra=Sr((e,{invalid:r},{size:t})=>({wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3],color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${de({size:t,sizes:ct})} - ${V(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:de({size:t,sizes:ct})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${V(2)}) calc(${e.spacing.xs} / 2)`},searchInput:Aa(Fa({},e.fn.fontStyles()),{flex:1,minWidth:V(60),backgroundColor:"transparent",border:0,outline:0,fontSize:de({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:de({size:t,sizes:Jt}),"&::placeholder":{opacity:1,color:r?e.colors.red[e.fn.primaryShade()]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}));const $a=Ra;var Na=Object.defineProperty,Ta=Object.defineProperties,za=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,xt=(e,r,t)=>r in e?Na(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ke=(e,r)=>{for(var t in r||(r={}))Xt.call(r,t)&&xt(e,t,r[t]);if(yr)for(var t of yr(r))Zt.call(r,t)&&xt(e,t,r[t]);return e},jt=(e,r)=>Ta(e,za(r)),La=(e,r)=>{var t={};for(var n in e)Xt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&yr)for(var n of yr(e))r.indexOf(n)<0&&Zt.call(e,n)&&(t[n]=e[n]);return t};function Ma(e,r,t){return r?!1:t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function Ba(e,r){return!!e&&!r.some(t=>t.value.toLowerCase()===e.toLowerCase())}function wt(e,r){if(!Array.isArray(e))return;if(r.length===0)return[];const t=r.map(n=>typeof n=="object"?n.value:n);return e.filter(n=>t.includes(n))}const Ka={size:"sm",valueComponent:Yt,itemComponent:pa,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:Ma,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:Ba,switchDirectionOnFlip:!1,zIndex:qt("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},en=g.forwardRef((e,r)=>{const t=Dr("MultiSelect",Ka,e),{className:n,style:o,required:s,label:i,description:c,size:d,error:p,classNames:f,styles:l,wrapperProps:y,value:j,defaultValue:m,data:w,onChange:x,valueComponent:O,itemComponent:b,id:_,transitionProps:Q,maxDropdownHeight:Y,shadow:ee,nothingFound:R,onFocus:z,onBlur:W,searchable:A,placeholder:be,filter:pe,limit:ie,clearSearchOnChange:E,clearable:$,clearSearchOnBlur:xe,variant:X,onSearchChange:fe,searchValue:N,disabled:B,initiallyOpened:je,radius:re,icon:we,rightSection:H,rightSectionWidth:le,creatable:U,getCreateLabel:J,shouldCreate:te,onCreate:ne,sx:ae,dropdownComponent:De,onDropdownClose:me,onDropdownOpen:or,maxSelectedValues:G,withinPortal:sr,portalProps:ir,switchDirectionOnFlip:ke,zIndex:Ge,selectOnBlur:Te,name:ze,dropdownPosition:Ir,errorProps:Fr,labelProps:Ar,descriptionProps:u,form:v,positionDependencies:I,onKeyDown:T,unstyled:L,inputContainer:Ee,inputWrapperOrder:Oe,readOnly:ce,withAsterisk:Qe,clearButtonProps:Ye,hoverOnSearchChange:Ie,disableSelectedItemFiltering:Xe}=t,Ze=La(t,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","portalProps","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:oe,cx:Le,theme:Rr}=$a({invalid:!!p},{name:"MultiSelect",classNames:f,styles:l,unstyled:L,size:d,variant:X}),{systemStyles:jn,rest:wn}=Nn(Ze),$r=g.useRef(),Nr=g.useRef({}),Me=Tn(_),[Z,q]=g.useState(je),[_n,Pe]=g.useState(-1),[nt,Sn]=g.useState("column"),[ge,lr]=ut({value:N,defaultValue:"",finalValue:void 0,onChange:fe}),[Dn,at]=g.useState(!1),{scrollIntoView:cr,targetRef:ot,scrollableRef:kn}=fa({duration:0,offset:5,cancelable:!1,isList:!0}),st=U&&typeof J=="function";let Tr=null;const On=w.map(h=>typeof h=="string"?{label:h,value:h}:h),zr=ma({data:On}),[F,Be]=ut({value:wt(j,w),defaultValue:wt(m,w),finalValue:[],onChange:x}),ue=g.useRef(!!G&&G<F.length),it=h=>{if(!ce){const k=F.filter(se=>se!==h);Be(k),G&&k.length<G&&(ue.current=!1)}},Pn=h=>{lr(h.currentTarget.value),!B&&!ue.current&&A&&q(!0)},Cn=h=>{typeof z=="function"&&z(h),!B&&!ue.current&&A&&q(!0)},K=ka({data:zr,searchable:A,searchValue:ge,limit:ie,filter:pe,value:F,disableSelectedItemFiltering:Xe});st&&te(ge,zr)&&(Tr=J(ge),K.push({label:ge,value:ge,creatable:!0}));const Fe=Math.min(_n,K.length-1),lt=(h,k,se)=>{let Ce=h;for(;se(Ce);)if(Ce=k(Ce),!K[Ce].disabled)return Ce;return h};Lr(()=>{Pe(Ie&&ge?0:-1)},[ge,Ie]),Lr(()=>{!B&&F.length>w.length&&q(!1),G&&F.length<G&&(ue.current=!1),G&&F.length>=G&&(ue.current=!0,q(!1))},[F]);const ur=h=>{if(!ce)if(E&&lr(""),F.includes(h.value))it(h.value);else{if(h.creatable&&typeof ne=="function"){const k=ne(h.value);typeof k<"u"&&k!==null&&Be(typeof k=="string"?[...F,k]:[...F,k.value])}else Be([...F,h.value]);F.length===G-1&&(ue.current=!0,q(!1)),K.length===1&&q(!1)}},En=h=>{typeof W=="function"&&W(h),Te&&K[Fe]&&Z&&ur(K[Fe]),xe&&lr(""),q(!1)},In=h=>{if(Dn||(T==null||T(h),ce)||h.key!=="Backspace"&&G&&ue.current)return;const k=nt==="column",se=()=>{Pe(Ae=>{var _e;const er=lt(Ae,Re=>Re+1,Re=>Re<K.length-1);return Z&&(ot.current=Nr.current[(_e=K[er])==null?void 0:_e.value],cr({alignment:k?"end":"start"})),er})},Ce=()=>{Pe(Ae=>{var _e;const er=lt(Ae,Re=>Re-1,Re=>Re>0);return Z&&(ot.current=Nr.current[(_e=K[er])==null?void 0:_e.value],cr({alignment:k?"start":"end"})),er})};switch(h.key){case"ArrowUp":{h.preventDefault(),q(!0),k?Ce():se();break}case"ArrowDown":{h.preventDefault(),q(!0),k?se():Ce();break}case"Enter":{h.preventDefault(),K[Fe]&&Z?ur(K[Fe]):q(!0);break}case" ":{A||(h.preventDefault(),K[Fe]&&Z?ur(K[Fe]):q(!0));break}case"Backspace":{F.length>0&&ge.length===0&&(Be(F.slice(0,-1)),q(!0),G&&(ue.current=!1));break}case"Home":{if(!A){h.preventDefault(),Z||q(!0);const Ae=K.findIndex(_e=>!_e.disabled);Pe(Ae),cr({alignment:k?"end":"start"})}break}case"End":{if(!A){h.preventDefault(),Z||q(!0);const Ae=K.map(_e=>!!_e.disabled).lastIndexOf(!1);Pe(Ae),cr({alignment:k?"end":"start"})}break}case"Escape":q(!1)}},Fn=F.map(h=>{let k=zr.find(se=>se.value===h&&!se.disabled);return!k&&st&&(k={value:h,label:h}),k}).filter(h=>!!h).map((h,k)=>P.createElement(O,jt(Ke({},h),{variant:X,disabled:B,className:oe.value,readOnly:ce,onRemove:se=>{se.preventDefault(),se.stopPropagation(),it(h.value)},key:h.value,size:d,styles:l,classNames:f,radius:re,index:k}))),An=h=>F.includes(h),Rn=()=>{var h;lr(""),Be([]),(h=$r.current)==null||h.focus(),G&&(ue.current=!1)},dr=!ce&&(K.length>0?Z:Z&&!!R);return Lr(()=>{const h=dr?or:me;typeof h=="function"&&h()},[dr]),P.createElement(dt.Wrapper,Ke(Ke({required:s,id:Me,label:i,error:p,description:c,size:d,className:n,style:o,classNames:f,styles:l,__staticSelector:"MultiSelect",sx:ae,errorProps:Fr,descriptionProps:u,labelProps:Ar,inputContainer:Ee,inputWrapperOrder:Oe,unstyled:L,withAsterisk:Qe,variant:X},jn),y),P.createElement(Mr,{opened:dr,transitionProps:Q,shadow:"sm",withinPortal:sr,portalProps:ir,__staticSelector:"MultiSelect",onDirectionChange:Sn,switchDirectionOnFlip:ke,zIndex:Ge,dropdownPosition:Ir,positionDependencies:[...I,ge],classNames:f,styles:l,unstyled:L,variant:X},P.createElement(Mr.Target,null,P.createElement("div",{className:oe.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Z&&dr?`${Me}-items`:null,"aria-controls":Me,"aria-expanded":Z,onMouseLeave:()=>Pe(-1),tabIndex:-1},P.createElement("input",{type:"hidden",name:ze,value:F.join(","),form:v,disabled:B}),P.createElement(dt,Ke({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:d,variant:X,disabled:B,error:p,required:s,radius:re,icon:we,unstyled:L,onMouseDown:h=>{var k;h.preventDefault(),!B&&!ue.current&&q(!Z),(k=$r.current)==null||k.focus()},classNames:jt(Ke({},f),{input:Le({[oe.input]:!A},f==null?void 0:f.input)})},ga({theme:Rr,rightSection:H,rightSectionWidth:le,styles:l,size:d,shouldClear:$&&F.length>0,onClear:Rn,error:p,disabled:B,clearButtonProps:Ye,readOnly:ce})),P.createElement("div",{className:oe.values,"data-clearable":$||void 0},Fn,P.createElement("input",Ke({ref:zn(r,$r),type:"search",id:Me,className:Le(oe.searchInput,{[oe.searchInputPointer]:!A,[oe.searchInputInputHidden]:!Z&&F.length>0||!A&&F.length>0,[oe.searchInputEmpty]:F.length===0}),onKeyDown:In,value:ge,onChange:Pn,onFocus:Cn,onBlur:En,readOnly:!A||ue.current||ce,placeholder:F.length===0?be:void 0,disabled:B,"data-mantine-stop-propagation":Z,autoComplete:"off",onCompositionStart:()=>at(!0),onCompositionEnd:()=>at(!1)},wn)))))),P.createElement(Mr.Dropdown,{component:De||ha,maxHeight:Y,direction:nt,id:Me,innerRef:kn,__staticSelector:"MultiSelect",classNames:f,styles:l},P.createElement(va,{data:K,hovered:Fe,classNames:f,styles:l,uuid:Me,__staticSelector:"MultiSelect",onItemHover:Pe,onItemSelect:ur,itemsRefs:Nr,itemComponent:b,size:d,nothingFound:R,isItemSelected:An,creatable:U&&!!Tr,createLabel:Tr,unstyled:L,variant:X}))))});en.displayName="@mantine/core/MultiSelect";const qa=async({batchId:e,type:r,grade:t})=>(await Ne.put("/v1/student/choose-batch",{batch_id:e,type:r,grade:t})).data,Vs=async e=>(await Ne.get("/v1/staging/get-student-offset?type="+e)).data,Cr=async(e,r)=>(await Ne.get("/v1/student/get-staging-status?stagingId="+e+"&type="+r)).data,Va=async({major:e,type:r,stagingId:t})=>(await Ne.put("/v1/student/choose-major",{major:e,type:r,stagingId:t})).data,Wa=async({type:e,stagingId:r})=>(await Ne.put("/v1/student/print-card",{type:e,stagingId:r})).data,Ha=async e=>(await Ne.post("/v1/student/upload-payment",e)).data,Ua=e=>{const r=Ln();return{initialValues:g.useMemo(()=>{let n=e;const o=r.search.split("?");if(o.length>0){const s=new URLSearchParams(o[1]);for(const[i,c]of s.entries())if(c!=="undefined"&&c!=="null"){const d=decodeURIComponent(c);try{n[i]=JSON.parse(d)}catch{n[i]=d}}else n[i]=null;return n}else return n},[r.search])}},Er=e=>{const[r,t]=g.useState(e),n=Ua(e);return g.useEffect(()=>{t(n==null?void 0:n.initialValues)},[n]),r};class _t extends g.Component{render(){const{fotoProfile:r,alamat:t,asalSekolah:n,namaJalur:o,pilihanJalur1:s,pilihanJalur2:i,name:c,noTelepon:d,nomorPeserta:p,akhirTahun:f,awalTahun:l,dummyCard:y,textColor:j,bgColor:m,grade:w}=this.props,x=w==="SMK";return a.jsx("div",{className:"print-page",style:{backgroundColor:y?"transparent":"white",marginTop:"50px",marginInline:"auto",maxWidth:"800px",padding:"10px",color:j},children:a.jsx("div",{className:S[`${x?"card-student-smk":"card-student-smp"}`],children:a.jsxs("div",{className:S["inner-card"],style:{backgroundColor:m},children:[a.jsxs("header",{className:S.header,children:[a.jsx("img",{className:S["logo-yatindo"],src:"/logo-yatindo-hd.png",alt:""}),a.jsxs("h3",{className:S.title,children:["Kartu Pendaftaran Siswa ",a.jsx("br",{})," ",w," TINTA EMAS INDONESIA ",a.jsx("br",{}),"Tahun Ajaran ",l||" undenfined"," / ",f||"undefined"]})]}),a.jsx(Wr,{mt:20,orientation:"horizontal",size:"lg",className:S[`${x?"divider-smk":"divider-smp"}`]}),a.jsxs("div",{className:S.biodata,children:[(r==null?void 0:r.length)>0?r==null?void 0:r.map((O,b)=>{const _=URL.createObjectURL(O);return a.jsx("img",{height:170,width:160,src:_,onLoad:()=>URL.revokeObjectURL(_)},b)}):a.jsx("div",{className:S.profile}),a.jsx("div",{className:S["biodata-detail"],children:a.jsx("table",{className:S.table,children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Nomor Peserta"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:p||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Nama Peserta"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:c||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Nomor Telepon"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:d||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Alamat"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:t||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Asal Sekolah"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:n||"-"})]})]})})})]}),a.jsx(Wr,{orientation:"horizontal",size:"lg",className:S[`${x?"divider-smk":"divider-smp"}`]}),a.jsx("div",{className:S["detail-pendaftaran"],children:a.jsx("table",{className:"table",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Jalur"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:o||"-"})]}),s&&a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Pilihan Jurusan 1"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:s||"-"})]}),i&&a.jsxs("tr",{children:[a.jsx("td",{className:S.td,children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("p",{children:"Pilihan Jurusan 2"}),a.jsx("p",{children:": "})]})}),a.jsx("td",{className:S.td,children:i||"-"})]})]})})})]})})})}}const Ja=()=>{var j,m,w,x,O,b,_,Q,Y,ee,R,z,W,A,be,pe,ie,E,$,xe,X,fe,N,B,je,re,we,H,le,U;const e=Vt(),r=g.useRef(),{md:t}=Mn(),[n,o]=g.useState(null),{data:s}=ve({queryFn:Xr,queryKey:["session-print"]}),i=(m=(j=s==null?void 0:s.data)==null?void 0:j.student)==null?void 0:m.profile_picture,c=(x=(w=s==null?void 0:s.data)==null?void 0:w.student)==null?void 0:x.grade,d=g.useCallback(async()=>{try{const J=await ea(i);o(J)}catch{ye.error("Gagal mmengambil foto profil")}},[i]);g.useEffect(()=>{i!=null&&d()},[i,d]);const p={TJKT:"Teknik Jaringan Komputer dan Telekomunikasi",TKR:"Teknik Otomotif",TAV:"Teknik Elektronika",AKL:"Akuntansi dan Keuangan Lembaga"};function f(J){const te=J.split(",");let ne=[];for(let ae=0;ae<te.length;ae++){const De=te[ae].trim(),me=p[De];ne.push(me)}return ne}const l=((b=(O=s==null?void 0:s.data)==null?void 0:O.student)==null?void 0:b.major)&&f(s.data.student.major),y=Bn.useReactToPrint({onPrintError:()=>{ye.error("Terjadi kesalahan")},content:()=>r.current,removeAfterPrint:!0,copyStyles:!0,print:async J=>{const te=J.contentDocument;if(te){const ne=te.getElementsByTagName("html")[0];try{const ae=new Kn(ne,{filename:"PDF_SISWA_.pdf"})}catch{ye.error("Terjadi kesalahan")}}}});return a.jsxs(Se,{children:[a.jsx(gr,{position:"center",mt:50,children:a.jsx(nr,{size:"md",leftIcon:a.jsx(Zn,{size:25}),onClick:y,children:"Download"})}),a.jsx("div",{style:{display:"none"},children:a.jsx(_t,{dummyCard:!1,grade:c,ref:r,akhirTahun:"2025",fotoProfile:n,alamat:(Q=(_=s==null?void 0:s.data)==null?void 0:_.student)==null?void 0:Q.address,asalSekolah:(ee=(Y=s==null?void 0:s.data)==null?void 0:Y.student)==null?void 0:ee.school_origin,awalTahun:"2024",namaJalur:(z=(R=s==null?void 0:s.data)==null?void 0:R.student)==null?void 0:z.pathName,name:(A=(W=s==null?void 0:s.data)==null?void 0:W.student)==null?void 0:A.name,noTelepon:(pe=(be=s==null?void 0:s.data)==null?void 0:be.student)==null?void 0:pe.phone,nomorPeserta:(E=(ie=s==null?void 0:s.data)==null?void 0:ie.student)==null?void 0:E.formulirId,pilihanJalur1:(l==null?void 0:l.length)>0?l[0]:"",pilihanJalur2:(l==null?void 0:l.length)>0?l[1]:"",profileImgName:"",textColor:"black",bgColor:"white"})}),t?a.jsx(a.Fragment,{children:a.jsx(_t,{dummyCard:!0,grade:c,fotoProfile:n,akhirTahun:"2025",alamat:(xe=($=s==null?void 0:s.data)==null?void 0:$.student)==null?void 0:xe.address,asalSekolah:(fe=(X=s==null?void 0:s.data)==null?void 0:X.student)==null?void 0:fe.school_origin,awalTahun:"2024",namaJalur:(B=(N=s==null?void 0:s.data)==null?void 0:N.student)==null?void 0:B.pathName,name:(re=(je=s==null?void 0:s.data)==null?void 0:je.student)==null?void 0:re.name,noTelepon:(H=(we=s==null?void 0:s.data)==null?void 0:we.student)==null?void 0:H.phone,nomorPeserta:(U=(le=s==null?void 0:s.data)==null?void 0:le.student)==null?void 0:U.formulirId,pilihanJalur1:(l==null?void 0:l.length)>0?l[0]:"",pilihanJalur2:(l==null?void 0:l.length)>0?l[1]:"",profileImgName:"",textColor:`${e?"white":"black"}`,bgColor:`${e?"black":"white"}`})}):a.jsx(a.Fragment,{children:a.jsx(Se,{mt:40,children:a.jsx(M,{align:"center",children:"Buka website ini di Dekstop/Laptop untuk melihat tampilan kartu formulir"})})})]})},Ws=({type:e="PEMBELIAN"})=>{const r=Er({step:3,stagingId:null});ve({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId});const t=qn(),n=kr({mutationFn:Wa});ve({queryFn:Xr,queryKey:["session"]});const o=()=>{n.mutate({type:e,stagingId:r.stagingId},{onSuccess:()=>{ye.success("Selamat anda telah menyelesaikan satu rangkaian tahapan",{duration:1e4}),t("/ppdb/main/pengembalian")},onError:s=>Pr(s)})};return a.jsx(a.Fragment,{children:a.jsxs(Or,{withBorder:!0,radius:"md",sx:s=>({backgroundColor:s.colorScheme==="dark"?s.colors.dark[9]:s.white,padding:"2rem"}),children:[a.jsx(Se,{maw:800,mx:"auto",children:a.jsx(M,{align:"center",weight:500,style:{fontSize:"clamp(1rem, 3.4783vw + 0.3043rem, 1.2rem)"},children:e==="PEMBELIAN"?"Selamat anda telah terdaftar disistem kami, silakan download pdf kartu formulir anda, lalu  klik selesai untuk ke halaman Jalur Pengembalian":"Selamat anda telah terdaftar menjadi calon siswa, silakan download pdf kartu formulir anda, harap menunggu informasi lebih lanjut"})}),a.jsxs(We,{align:"center",children:[a.jsx(Ja,{}),a.jsx(nr,{onClick:o,loading:n.isPending,size:"md",sx:{margin:"50px auto"},children:"Selesai"})]})]})})},St=({id:e,start_date:r,end_date:t,name:n,disabled:o=!1,onClick:s})=>{const i=Vt(),c=new Date(r),d=new Date(t),p=new Date,f=p>=c&&p<=d;return a.jsxs(nr,{unstyled:!0,disabled:!f||o,onClick:s,styles:l=>({root:{borderColor:`${f?"#51CF66":"red"}`,padding:"1rem",backgroundColor:`${l.colorScheme==="dark"?l.colors.dark[7]:l.white}`,cursor:"pointer",color:l.colorScheme==="dark"?"white":l.colors.gray[9],borderRadius:"8px",outline:"none","&:disabled":{cursor:"not-allowed",backgroundColor:`${i?l.colors.dark[4]:"rgba(233, 233, 233, 1)"}`}},label:{justifyContent:"space-between",display:"flex",alignItems:"center"}}),children:[a.jsxs(gr,{children:[a.jsx(na,{size:30}),a.jsxs(Se,{children:[a.jsx(hr,{order:3,align:"left",weight:"bolder",children:n}),a.jsxs(M,{align:"left",children:[new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})," ","-"," ",new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),a.jsx(sa,{variant:"light",color:`${f?"green":"red"}`,size:"lg",children:f?"Dibuka":"Ditutup"})]},e)},Hs=({type:e="PEMBELIAN"})=>{var w,x,O;const r=Er({step:1,stagingId:null}),t=Zr(),{data:n,isSuccess:o}=ve({queryKey:["get_session_grade"],queryFn:Xr}),s=(x=(w=n==null?void 0:n.data)==null?void 0:w.student)==null?void 0:x.grade,{data:i,isLoading:c,isSuccess:d}=ve({queryKey:[`jalur_pendaftaran_${e}`],queryFn:()=>ra(e)}),{data:p,isLoading:f,isSuccess:l}=ve({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId}),y=kr({mutationFn:qa}),j=(b,_,Q)=>{const Y=()=>{y.mutate({batchId:b,type:e,grade:Q},{onSuccess:()=>{ye.success("Sukses memilih gelommbang pendaftaran"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:R=>Pr(R)})},ee=()=>{console.log("cancel")};Wt.openContextModal({modal:"createInformasi",innerProps:{onAccept:Y,onCancel:ee,modalBody:`Anda yakin ingin memilih ${_}?`}})},m=d&&i&&o&&n&&((O=i==null?void 0:i.data)==null?void 0:O.filter(b=>b.grade===(s==null?void 0:s.toUpperCase())));return a.jsxs(Or,{withBorder:!0,radius:"md",sx:b=>({backgroundColor:b.colorScheme==="dark"?b.colors.dark[9]:b.white,padding:"2rem"}),children:[a.jsx(Ut,{visible:y.isPending||f}),l&&p.data.offset_data?a.jsxs(a.Fragment,{children:[a.jsx(M,{weight:500,children:"Pilihan Anda"}),a.jsx(We,{mt:20,children:a.jsx(St,{...p.data.offset_data.registrationBatch})})]}):f?a.jsx(et,{}):a.jsxs(a.Fragment,{children:[a.jsx(M,{weight:500,children:"Pilih Salah Satu Gelombang"}),a.jsxs(We,{mt:20,children:[c&&a.jsx(Ve,{content:"Lorem ipsum"}),(m==null?void 0:m.length)>0?m==null?void 0:m.sort((b,_)=>b.id-_.id).map(b=>g.createElement(St,{...b,key:b.id,onClick:()=>j(b.id,b.name,b.grade)})):a.jsx(a.Fragment,{children:a.jsxs(M,{size:"xl",weight:"bold",children:["Belum ada gelombang ",e==="PEMBELIAN"?"pembelian":"pengembalian"," yang tersedia"]})})]})]})]})},Ga=(e,r)=>{var t=e.toString(),n=t.replace(/[^,\d]/g,"").toString(),o=n.split(","),s=o[0].length%3,i=o[0].substr(0,s),c=o[0].substr(s).match(/\d{3}/gi);return c&&(i+=(s?".":"")+c.join(".")),i=o[1]!=null?i+","+o[1]:i,r==null?i:i?r+i+",-":""};var Qa=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ar(e,r){var t=Ya(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Ya(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Qa.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Xa=[".DS_Store","Thumbs.db"];function Za(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return br(e)&&eo(e.dataTransfer)?[2,ao(e.dataTransfer,e.type)]:ro(e)?[2,to(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,no(e)]:[2,[]]})})}function eo(e){return br(e)}function ro(e){return br(e)&&br(e.target)}function br(e){return typeof e=="object"&&e!==null}function to(e){return Ur(e.target.files).map(function(r){return ar(r)})}function no(e){return He(this,void 0,void 0,function(){var r;return Ue(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return ar(n)})]}})})}function ao(e,r){return He(this,void 0,void 0,function(){var t,n;return Ue(this,function(o){switch(o.label){case 0:return e.items?(t=Ur(e.items).filter(function(s){return s.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(oo))]):[3,2];case 1:return n=o.sent(),[2,Dt(rn(n))];case 2:return[2,Dt(Ur(e.files).map(function(s){return ar(s)}))]}})})}function Dt(e){return e.filter(function(r){return Xa.indexOf(r.name)===-1})}function Ur(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function oo(e){if(typeof e.webkitGetAsEntry!="function")return kt(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?tn(r):kt(e)}function rn(e){return e.reduce(function(r,t){return pt(pt([],ft(r),!1),ft(Array.isArray(t)?rn(t):[t]),!1)},[])}function kt(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=ar(r);return Promise.resolve(t)}function so(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return[2,e.isDirectory?tn(e):io(e)]})})}function tn(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function s(){var i=this;r.readEntries(function(c){return He(i,void 0,void 0,function(){var d,p,f;return Ue(this,function(l){switch(l.label){case 0:if(c.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return d=l.sent(),t(d),[3,4];case 3:return p=l.sent(),n(p),[3,4];case 4:return[3,6];case 5:f=Promise.all(c.map(so)),o.push(f),s(),l.label=6;case 6:return[2]}})})},function(c){n(c)})}s()})}function io(e){return He(this,void 0,void 0,function(){return Ue(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var s=ar(o,e.fullPath);t(s)},function(o){n(o)})})]})})}var lo=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return t.some(function(i){var c=i.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?s===c.replace(/\/.*$/,""):o===c})}return!0};function Ot(e){return po(e)||uo(e)||an(e)||co()}function co(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function po(e){if(Array.isArray(e))return Jr(e)}function Pt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ct(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pt(Object(t),!0).forEach(function(n){nn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tr(e,r){return go(e)||mo(e,r)||an(e,r)||fo()}function fo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(e,r){if(e){if(typeof e=="string")return Jr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jr(e,r)}}function Jr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mo(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,c;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(d){s=!0,c=d}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw c}}return n}}function go(e){if(Array.isArray(e))return e}var ho="file-invalid-type",vo="file-too-large",yo="file-too-small",bo="too-many-files",xo=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:ho,message:"File type must be ".concat(t)}},Et=function(r){return{code:vo,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},It=function(r){return{code:yo,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},jo={code:bo,message:"Too many files"};function on(e,r){var t=e.type==="application/x-moz-file"||lo(e,r);return[t,t?null:xo(r)]}function sn(e,r,t){if($e(e.size))if($e(r)&&$e(t)){if(e.size>t)return[!1,Et(t)];if(e.size<r)return[!1,It(r)]}else{if($e(r)&&e.size<r)return[!1,It(r)];if($e(t)&&e.size>t)return[!1,Et(t)]}return[!0,null]}function $e(e){return e!=null}function wo(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,s=e.multiple,i=e.maxFiles,c=e.validator;return!s&&r.length>1||s&&i>=1&&r.length>i?!1:r.every(function(d){var p=on(d,t),f=tr(p,1),l=f[0],y=sn(d,n,o),j=tr(y,1),m=j[0],w=c?c(d):null;return l&&m&&!w})}function xr(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function fr(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ft(e){e.preventDefault()}function _o(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function So(e){return e.indexOf("Edge/")!==-1}function Do(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _o(e)||So(e)}function he(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return r.some(function(c){return!xr(n)&&c&&c.apply(void 0,[n].concat(s)),xr(n)})}}function ko(){return"showOpenFilePicker"in window}function Oo(e){if($e(e)){var r=Object.entries(e).filter(function(t){var n=tr(t,2),o=n[0],s=n[1],i=!0;return ln(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(cn))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,n){var o=tr(n,2),s=o[0],i=o[1];return Ct(Ct({},t),{},nn({},s,i))},{});return[{description:"Files",accept:r}]}return e}function Po(e){if($e(e))return Object.entries(e).reduce(function(r,t){var n=tr(t,2),o=n[0],s=n[1];return[].concat(Ot(r),[o],Ot(s))},[]).filter(function(r){return ln(r)||cn(r)}).join(",")}function Co(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Eo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ln(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function cn(e){return/^.*\.[\w]+$/.test(e)}var Io=["children"],Fo=["open"],Ao=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ro=["refKey","onChange","onClick"];function $o(e){return zo(e)||To(e)||un(e)||No()}function No(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function To(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zo(e){if(Array.isArray(e))return Gr(e)}function Br(e,r){return Bo(e)||Mo(e,r)||un(e,r)||Lo()}function Lo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(e,r){if(e){if(typeof e=="string")return Gr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gr(e,r)}}function Gr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Mo(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,c;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(d){s=!0,c=d}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw c}}return n}}function Bo(e){if(Array.isArray(e))return e}function At(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?At(Object(t),!0).forEach(function(n){Qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function jr(e,r){if(e==null)return{};var t=Ko(e,r),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Ko(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var rt=g.forwardRef(function(e,r){var t=e.children,n=jr(e,Io),o=pn(n),s=o.open,i=jr(o,Fo);return g.useImperativeHandle(r,function(){return{open:s}},[s]),P.createElement(g.Fragment,null,t(C(C({},i),{},{open:s})))});rt.displayName="Dropzone";var dn={disabled:!1,getFilesFromEvent:Za,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};rt.defaultProps=dn;rt.propTypes={children:D.func,accept:D.objectOf(D.arrayOf(D.string)),multiple:D.bool,preventDropOnDocument:D.bool,noClick:D.bool,noKeyboard:D.bool,noDrag:D.bool,noDragEventsBubbling:D.bool,minSize:D.number,maxSize:D.number,maxFiles:D.number,disabled:D.bool,getFilesFromEvent:D.func,onFileDialogCancel:D.func,onFileDialogOpen:D.func,useFsAccessApi:D.bool,autoFocus:D.bool,onDragEnter:D.func,onDragLeave:D.func,onDragOver:D.func,onDrop:D.func,onDropAccepted:D.func,onDropRejected:D.func,onError:D.func,validator:D.func};var Yr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=C(C({},dn),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,s=r.maxSize,i=r.minSize,c=r.multiple,d=r.maxFiles,p=r.onDragEnter,f=r.onDragLeave,l=r.onDragOver,y=r.onDrop,j=r.onDropAccepted,m=r.onDropRejected,w=r.onFileDialogCancel,x=r.onFileDialogOpen,O=r.useFsAccessApi,b=r.autoFocus,_=r.preventDropOnDocument,Q=r.noClick,Y=r.noKeyboard,ee=r.noDrag,R=r.noDragEventsBubbling,z=r.onError,W=r.validator,A=g.useMemo(function(){return Po(t)},[t]),be=g.useMemo(function(){return Oo(t)},[t]),pe=g.useMemo(function(){return typeof x=="function"?x:Rt},[x]),ie=g.useMemo(function(){return typeof w=="function"?w:Rt},[w]),E=g.useRef(null),$=g.useRef(null),xe=g.useReducer(qo,Yr),X=Br(xe,2),fe=X[0],N=X[1],B=fe.isFocused,je=fe.isFileDialogActive,re=g.useRef(typeof window<"u"&&window.isSecureContext&&O&&ko()),we=function(){!re.current&&je&&setTimeout(function(){if($.current){var v=$.current.files;v.length||(N({type:"closeDialog"}),ie())}},300)};g.useEffect(function(){return window.addEventListener("focus",we,!1),function(){window.removeEventListener("focus",we,!1)}},[$,je,ie,re]);var H=g.useRef([]),le=function(v){E.current&&E.current.contains(v.target)||(v.preventDefault(),H.current=[])};g.useEffect(function(){return _&&(document.addEventListener("dragover",Ft,!1),document.addEventListener("drop",le,!1)),function(){_&&(document.removeEventListener("dragover",Ft),document.removeEventListener("drop",le))}},[E,_]),g.useEffect(function(){return!n&&b&&E.current&&E.current.focus(),function(){}},[E,b,n]);var U=g.useCallback(function(u){z?z(u):console.error(u)},[z]),J=g.useCallback(function(u){u.preventDefault(),u.persist(),ze(u),H.current=[].concat($o(H.current),[u.target]),fr(u)&&Promise.resolve(o(u)).then(function(v){if(!(xr(u)&&!R)){var I=v.length,T=I>0&&wo({files:v,accept:A,minSize:i,maxSize:s,multiple:c,maxFiles:d,validator:W}),L=I>0&&!T;N({isDragAccept:T,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),p&&p(u)}}).catch(function(v){return U(v)})},[o,p,U,R,A,i,s,c,d,W]),te=g.useCallback(function(u){u.preventDefault(),u.persist(),ze(u);var v=fr(u);if(v&&u.dataTransfer)try{u.dataTransfer.dropEffect="copy"}catch{}return v&&l&&l(u),!1},[l,R]),ne=g.useCallback(function(u){u.preventDefault(),u.persist(),ze(u);var v=H.current.filter(function(T){return E.current&&E.current.contains(T)}),I=v.indexOf(u.target);I!==-1&&v.splice(I,1),H.current=v,!(v.length>0)&&(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),fr(u)&&f&&f(u))},[E,f,R]),ae=g.useCallback(function(u,v){var I=[],T=[];u.forEach(function(L){var Ee=on(L,A),Oe=Br(Ee,2),ce=Oe[0],Qe=Oe[1],Ye=sn(L,i,s),Ie=Br(Ye,2),Xe=Ie[0],Ze=Ie[1],oe=W?W(L):null;if(ce&&Xe&&!oe)I.push(L);else{var Le=[Qe,Ze];oe&&(Le=Le.concat(oe)),T.push({file:L,errors:Le.filter(function(Rr){return Rr})})}}),(!c&&I.length>1||c&&d>=1&&I.length>d)&&(I.forEach(function(L){T.push({file:L,errors:[jo]})}),I.splice(0)),N({acceptedFiles:I,fileRejections:T,type:"setFiles"}),y&&y(I,T,v),T.length>0&&m&&m(T,v),I.length>0&&j&&j(I,v)},[N,c,A,i,s,d,y,j,m,W]),De=g.useCallback(function(u){u.preventDefault(),u.persist(),ze(u),H.current=[],fr(u)&&Promise.resolve(o(u)).then(function(v){xr(u)&&!R||ae(v,u)}).catch(function(v){return U(v)}),N({type:"reset"})},[o,ae,U,R]),me=g.useCallback(function(){if(re.current){N({type:"openDialog"}),pe();var u={multiple:c,types:be};window.showOpenFilePicker(u).then(function(v){return o(v)}).then(function(v){ae(v,null),N({type:"closeDialog"})}).catch(function(v){Co(v)?(ie(v),N({type:"closeDialog"})):Eo(v)?(re.current=!1,$.current?($.current.value=null,$.current.click()):U(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):U(v)});return}$.current&&(N({type:"openDialog"}),pe(),$.current.value=null,$.current.click())},[N,pe,ie,O,ae,U,be,c]),or=g.useCallback(function(u){!E.current||!E.current.isEqualNode(u.target)||(u.key===" "||u.key==="Enter"||u.keyCode===32||u.keyCode===13)&&(u.preventDefault(),me())},[E,me]),G=g.useCallback(function(){N({type:"focus"})},[]),sr=g.useCallback(function(){N({type:"blur"})},[]),ir=g.useCallback(function(){Q||(Do()?setTimeout(me,0):me())},[Q,me]),ke=function(v){return n?null:v},Ge=function(v){return Y?null:ke(v)},Te=function(v){return ee?null:ke(v)},ze=function(v){R&&v.stopPropagation()},Ir=g.useMemo(function(){return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=u.refKey,I=v===void 0?"ref":v,T=u.role,L=u.onKeyDown,Ee=u.onFocus,Oe=u.onBlur,ce=u.onClick,Qe=u.onDragEnter,Ye=u.onDragOver,Ie=u.onDragLeave,Xe=u.onDrop,Ze=jr(u,Ao);return C(C(Qr({onKeyDown:Ge(he(L,or)),onFocus:Ge(he(Ee,G)),onBlur:Ge(he(Oe,sr)),onClick:ke(he(ce,ir)),onDragEnter:Te(he(Qe,J)),onDragOver:Te(he(Ye,te)),onDragLeave:Te(he(Ie,ne)),onDrop:Te(he(Xe,De)),role:typeof T=="string"&&T!==""?T:"presentation"},I,E),!n&&!Y?{tabIndex:0}:{}),Ze)}},[E,or,G,sr,ir,J,te,ne,De,Y,ee,n]),Fr=g.useCallback(function(u){u.stopPropagation()},[]),Ar=g.useMemo(function(){return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=u.refKey,I=v===void 0?"ref":v,T=u.onChange,L=u.onClick,Ee=jr(u,Ro),Oe=Qr({accept:A,multiple:c,type:"file",style:{display:"none"},onChange:ke(he(T,De)),onClick:ke(he(L,Fr)),tabIndex:-1},I,$);return C(C({},Oe),Ee)}},[$,t,c,De,n]);return C(C({},fe),{},{isFocused:B&&!n,getRootProps:Ir,getInputProps:Ar,rootRef:E,inputRef:$,open:ke(me)})}function qo(e,r){switch(r.type){case"focus":return C(C({},e),{},{isFocused:!0});case"blur":return C(C({},e),{},{isFocused:!1});case"openDialog":return C(C({},Yr),{},{isFileDialogActive:!0});case"closeDialog":return C(C({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return C(C({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return C(C({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return C({},Yr);default:return e}}function Rt(){}const[Vo,Wo]=Vn("Dropzone component was not found in tree");var $t=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Uo=Object.prototype.propertyIsEnumerable,Jo=(e,r)=>{var t={};for(var n in e)Ho.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&$t)for(var n of $t(e))r.indexOf(n)<0&&Uo.call(e,n)&&(t[n]=e[n]);return t};function tt(e){const r=t=>{const n=Dr(`Dropzone${ht(e)}`,{},t),{children:o}=n,s=Jo(n,["children"]),i=Wo(),c=Wn(o)?o:P.createElement("span",null,o);return i[e]?g.cloneElement(c,s):null};return r.displayName=`@mantine/dropzone/${ht(e)}`,r}const Go=tt("accept"),Qo=tt("reject"),Yo=tt("idle");var Xo=Object.defineProperty,Zo=Object.defineProperties,es=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,rs=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,Tt=(e,r,t)=>r in e?Xo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,zt=(e,r)=>{for(var t in r||(r={}))rs.call(r,t)&&Tt(e,t,r[t]);if(Nt)for(var t of Nt(r))ts.call(r,t)&&Tt(e,t,r[t]);return e},ns=(e,r)=>Zo(e,es(r)),as=Sr((e,{padding:r,radius:t})=>{const n=e.fn.variant({color:"red",variant:"light"}),o=e.fn.variant({color:e.primaryColor,variant:"light"});return{root:ns(zt(zt({},e.fn.fontStyles()),e.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${V(2)} dashed ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,padding:de({size:r,sizes:e.spacing}),borderRadius:e.fn.radius(t),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}},"&[data-accept]":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0],borderColor:e.colorScheme==="dark"?o.border:e.colors[e.primaryColor][4],"&:hover":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0]}},"&[data-reject]":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0],borderColor:e.colorScheme==="dark"?n.border:e.colors.red[4],"&:hover":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}});const os=as;var ss=Object.defineProperty,is=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,wr=Object.getOwnPropertySymbols,fn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,Lt=(e,r,t)=>r in e?ss(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,rr=(e,r)=>{for(var t in r||(r={}))fn.call(r,t)&&Lt(e,t,r[t]);if(wr)for(var t of wr(r))mn.call(r,t)&&Lt(e,t,r[t]);return e},Kr=(e,r)=>is(e,ls(r)),cs=(e,r)=>{var t={};for(var n in e)fn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&wr)for(var n of wr(e))r.indexOf(n)<0&&mn.call(e,n)&&(t[n]=e[n]);return t};const us={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function Je(e){const r=Dr("Dropzone",us,e),{className:t,padding:n,radius:o,disabled:s,classNames:i,styles:c,loading:d,multiple:p,maxSize:f,accept:l,children:y,onDropAny:j,onDrop:m,onReject:w,openRef:x,name:O,unstyled:b,maxFiles:_,autoFocus:Q,activateOnClick:Y,activateOnDrag:ee,dragEventsBubbling:R,activateOnKeyboard:z,onDragEnter:W,onDragLeave:A,onDragOver:be,onFileDialogCancel:pe,onFileDialogOpen:ie,preventDropOnDocument:E,useFsAccessApi:$,getFilesFromEvent:xe,validator:X,variant:fe}=r,N=cs(r,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:B,cx:je}=os({radius:o,padding:n},{name:"Dropzone",classNames:i,styles:c,unstyled:b,variant:fe}),{getRootProps:re,getInputProps:we,isDragAccept:H,isDragReject:le,open:U}=pn(rr({onDrop:j,onDropAccepted:m,onDropRejected:w,disabled:s||d,accept:Array.isArray(l)?l.reduce((te,ne)=>Kr(rr({},te),{[ne]:[]}),{}):l,multiple:p,maxSize:f,maxFiles:_,autoFocus:Q,noClick:!Y,noDrag:!ee,noDragEventsBubbling:!R,noKeyboard:!z,onDragEnter:W,onDragLeave:A,onDragOver:be,onFileDialogCancel:pe,onFileDialogOpen:ie,preventDropOnDocument:E,useFsAccessApi:$,validator:X},xe?{getFilesFromEvent:xe}:null));Hn(x,U);const J=!H&&!le;return P.createElement(Vo,{value:{accept:H,reject:le,idle:J}},P.createElement(Se,Kr(rr(rr({},N),re()),{"data-accept":H||void 0,"data-reject":le||void 0,"data-idle":J||void 0,"data-loading":d||void 0,className:je(B.root,t)}),P.createElement(Ut,{visible:d,radius:o,unstyled:b}),P.createElement("input",Kr(rr({},we()),{name:O})),P.createElement("div",{className:B.inner},y)))}Je.displayName="@mantine/dropzone/Dropzone";Je.Accept=Go;Je.Reject=Qo;Je.Idle=Yo;const gn=Je;var ds=Object.defineProperty,ps=Object.defineProperties,fs=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,gs=Object.prototype.propertyIsEnumerable,Bt=(e,r,t)=>r in e?ds(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,hs=(e,r)=>{for(var t in r||(r={}))ms.call(r,t)&&Bt(e,t,r[t]);if(Mt)for(var t of Mt(r))gs.call(r,t)&&Bt(e,t,r[t]);return e},vs=(e,r)=>ps(e,fs(r)),ys=Sr(e=>({wrapper:vs(hs({},e.fn.cover(0)),{position:"fixed",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,display:"flex",padding:e.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}}));const bs=ys;var xs=Object.defineProperty,js=Object.defineProperties,ws=Object.getOwnPropertyDescriptors,_r=Object.getOwnPropertySymbols,hn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable,Kt=(e,r,t)=>r in e?xs(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,qr=(e,r)=>{for(var t in r||(r={}))hn.call(r,t)&&Kt(e,t,r[t]);if(_r)for(var t of _r(r))vn.call(r,t)&&Kt(e,t,r[t]);return e},Vr=(e,r)=>js(e,ws(r)),_s=(e,r)=>{var t={};for(var n in e)hn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&_r)for(var n of _r(e))r.indexOf(n)<0&&vn.call(e,n)&&(t[n]=e[n]);return t};const Ss={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:qt("max"),withinPortal:!0};function yn(e){const r=Dr("DropzoneFullScreen",Ss,e),{classNames:t,styles:n,sx:o,className:s,style:i,unstyled:c,active:d,onDrop:p,onReject:f,zIndex:l,withinPortal:y,portalProps:j}=r,m=_s(r,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[w,x]=P.useState(0),[O,{open:b,close:_}]=Un(!1),{classes:Q,cx:Y}=bs(null,{name:"DropzoneFullScreen",classNames:t,styles:n,unstyled:c}),ee=z=>{z.dataTransfer.types.includes("Files")&&(x(W=>W+1),b())},R=()=>{x(z=>z-1)};return g.useEffect(()=>{w===0&&_()},[w]),g.useEffect(()=>{if(d)return document.addEventListener("dragenter",ee,!1),document.addEventListener("dragleave",R,!1),()=>{document.removeEventListener("dragenter",ee,!1),document.removeEventListener("dragleave",R,!1)}},[d]),P.createElement(Jn,Vr(qr({},j),{withinPortal:y}),P.createElement(Se,{className:Y(Q.wrapper,s),sx:o,style:Vr(qr({},i),{opacity:O?1:0,pointerEvents:O?"all":"none",zIndex:l})},P.createElement(Je,Vr(qr({},m),{classNames:t,styles:n,unstyled:c,className:Q.dropzone,onDrop:z=>{p==null||p(z),_()},onReject:z=>{f==null||f(z),_()}}))))}yn.displayName="@mantine/dropzone/DropzoneFullScreen";const qe={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",mp4:"video/mp4",zip:"application/zip",csv:"text/csv",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",exe:"application/vnd.microsoft.portable-executable"},Ds=[qe.png,qe.gif,qe.jpeg,qe.svg,qe.webp,qe.avif];gn.FullScreen=yn;const mr=gn;function ks(e){return Gn({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}function Os({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o,onChange:s,...i}){var l;const{field:{value:c,onChange:d,...p},fieldState:f}=ia({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o});return a.jsx(a.Fragment,{children:a.jsx(Hr.Group,{label:i.label,description:i.description,value:c,onChange:y=>{d(y),s==null||s(y)},error:(l=f.error)==null?void 0:l.message,...p,...i})})}const Ps=()=>{var c,d,p;const e=Ht(),{register:r,control:t,setValue:n,formState:{errors:o},watch:s}=la(),i=s("payment_method");return a.jsxs(We,{spacing:10,children:[a.jsx(gt,{rules:{required:!0},render:({field:{onChange:f,value:l}})=>a.jsxs(mr,{multiple:!1,onChange:y=>{var j;return f(((j=y.target.files)==null?void 0:j[0])??null)},onReject:y=>{y[0].errors[0].code=="file-too-large"&&ye.error("Size gambar terlalu besar dari 5MB")},maxSize:3*1024**2,accept:Ds,onDrop:y=>{f(y)},children:[a.jsxs(gr,{position:"center",spacing:"xl",style:{minHeight:V(220),pointerEvents:"none"},children:[a.jsx(mr.Accept,{children:a.jsx(Qn,{size:"3.2rem",color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6]})}),a.jsx(mr.Reject,{children:a.jsx(ks,{size:"3.2rem",color:e.colors.red[e.colorScheme==="dark"?4:6]})}),a.jsx(mr.Idle,{children:a.jsx(ta,{size:"3.2rem"})}),a.jsx(M,{size:"",children:"Upload Bukti Bayar, Max : 5MB"})]}),a.jsxs(ua,{cols:4,mt:5,breakpoints:[{maxWidth:"sm",cols:1}],children:[console.log("value",l),l&&(l==null?void 0:l.length)>0&&(l==null?void 0:l.map((y,j)=>{const m=URL.createObjectURL(y);return a.jsx(da,{src:m,w:20,imageProps:{onLoad:()=>URL.revokeObjectURL(m)}},j)}))]})]}),name:"payment_prove",control:t}),a.jsx(gt,{rules:{required:!0},name:"amount",control:t,render:({field:{ref:f,onChange:l,...y}})=>{var j;return a.jsx(Yn,{thousandSeparator:".",decimalSeparator:",",prefix:"Rp. ",customInput:pr,error:o.amount&&a.jsx("div",{children:(j=o.amount)==null?void 0:j.message}),placeholder:"Rp. 0",label:"Input Nominal",description:"Input Nominal",onValueChange:({floatValue:m})=>{l(m)},...y})}}),a.jsx(Os,{name:"payment_method",control:t,label:"Metode Pembayaran",description:"Pilih salah satu",rules:{required:!0},children:a.jsxs(gr,{mt:"xs",children:[a.jsx(Hr,{value:"CASH",label:"Tunai"}),a.jsx(Hr,{value:"TRANSFER",label:"Transfer"})]})}),i&&i==="TRANSFER"&&a.jsxs(a.Fragment,{children:[a.jsx(pr,{description:"Masukkan nama bank",label:"Nama Bank",placeholder:"Bank BCA,BNI",withAsterisk:!0,error:o.bank_name&&a.jsx("div",{children:(c=o.bank_name)==null?void 0:c.message}),required:!0,...r("bank_name",{required:!0})}),a.jsx(pr,{label:"Nomor Rekening",description:"Masukkan nomor rekening",withAsterisk:!0,type:"number",error:o.bank_account&&a.jsx("div",{children:(d=o.bank_account)==null?void 0:d.message}),required:!0,...r("bank_account",{required:!0})}),a.jsx(pr,{label:"Nama Pemilik Rekening",description:"Masukkan nama pemilik rekening",withAsterisk:!0,error:o.bank_user&&a.jsx("div",{children:(p=o.bank_user)==null?void 0:p.message}),required:!0,...r("bank_user",{required:!0})})]})]})},bn=async e=>(await Ne.get("/v1/admin/lookup?type="+e)).data,xn=e=>{const{data:r,isLoading:t,isSuccess:n}=ve({queryFn:()=>bn(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(et,{}),n&&a.jsx(ya,{value:e.value,readOnly:e.readOnly,label:e.label,onChange:e.onChange,searchable:e.searchable,styles:{input:{backgroundColor:e.readOnly&&"#2A166F",color:e.readOnly&&"white",fontWeight:`${e.readOnly?"bolder":"normal"}`}},data:e.data?e.data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Cs=()=>a.jsxs(Se,{sx:e=>({backgroundColor:"transparent",padding:"4rem 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:[a.jsx("img",{src:"/svg/wait-pembelianformulir.svg",alt:"image",style:{width:"250px"}}),a.jsx(M,{mt:40,sx:{maxWidth:500},weight:"bold",align:"center",children:"Bukti anda telah di upload"})]}),Es={CASH:"Tunai",TRANSFER:"Transfer"},Us=({type:e="PEMBELIAN"})=>{var p,f,l,y,j;const r=Er({step:2,stagingId:null}),t=Zr(),n=kr({mutationFn:Ha}),{data:o,isLoading:s,isSuccess:i}=ve({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId}),c=g.useMemo(()=>[{id:"Metode Pembayaran",header:"Metode Pembayaran",accessorFn:m=>Es[m.method]},{id:"Bank",header:"Bank",accessorFn:m=>m.bank_name},{id:"Nomor Rekening",header:"Nomor Rekening",accessorFn:m=>m.bank_account},{id:"Atas Nama",header:"Atas Nama",accessorFn:m=>m.bank_user}],[]),d=m=>{var x,O;if((m==null?void 0:m.amount)!==((O=(x=o==null?void 0:o.data)==null?void 0:x.registration_batch)==null?void 0:O.price)){ye.error("Nominal tidak sesuai");return}const w=new FormData;for(const[b,_]of Object.entries(m))b==="payment_prove"?w.append("file",_==null?void 0:_[0]):w.append(b,_);w.append("type",e),n.mutate(w,{onSuccess:()=>{ye.success("Sukses upload bukti bayar"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:b=>Pr(b)})};return a.jsxs(Or,{withBorder:!0,sx:m=>({backgroundColor:`${m.colorScheme==="dark"?m.colors.dark[9]:m.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:[a.jsxs(We,{children:[a.jsx(hr,{children:"Bayar Pendaftaran"}),a.jsx(M,{className:"font-semibold",children:"Silahkan melakukan transfer ke rekening dibawah ini jika anda memilih metode pembayaran transfer :"}),a.jsx("table",{className:"w-full overflow-x-auto",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Bank"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(M,{children:[":"," ",a.jsx(M,{component:"span",weight:"bold",children:(p=o.data.registration_batch)==null?void 0:p.bank_name})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nominal yang harus dibayarkan"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(M,{children:[":"," ",a.jsx(M,{component:"span",weight:"bold",children:Ga(((f=o.data.registration_batch)==null?void 0:f.price)??"0","Rp ")})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nomor Rekening"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(M,{children:[":"," ",a.jsx(M,{component:"span",weight:"bold",children:(l=o.data.registration_batch)==null?void 0:l.bank_account})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Atas Nama"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(M,{children:[":"," ",a.jsx(M,{component:"span",weight:"bold",children:(y=o.data.registration_batch)==null?void 0:y.bank_user})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Status Pembayaran"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsx(xn,{type:"STATUS",readOnly:!0,value:(j=o.data.payment_status)==null?void 0:j.status})]})]})]})})]}),i&&o.data.payment_status?a.jsxs(a.Fragment,{children:[a.jsx(Cs,{}),a.jsx(Se,{mt:10,w:"100%",children:a.jsx(aa,{useHeader:!0,data:[{...o.data.payment_status}],columns:c,noCard:!0,usePagination:!1})})]}):a.jsx(a.Fragment,{children:a.jsxs(ca,{id:"form-uploadbukti",onSubmit:d,children:[a.jsx(hr,{order:3,my:50,children:"Bukti Transfer"}),a.jsx(Wr,{}),a.jsx(Ps,{}),a.jsx(nr,{type:"submit",mt:10,children:"Submit"})]})})]})},Is=e=>{const{data:r,isLoading:t,isSuccess:n}=ve({queryFn:()=>bn(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(et,{}),n&&a.jsx(en,{value:e.value,maxSelectedValues:2,label:e.label,onChange:e.onChange,searchable:e.searchable,data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Js=({type:e="PEMBELIAN"})=>{var p,f,l,y,j,m,w;const r=Er({step:3,stagingId:null}),[t,n]=g.useState(null),{data:o,isSuccess:s}=ve({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>Cr(r.stagingId,e),enabled:!!r.stagingId}),i=Zr(),c=kr({mutationFn:Va}),d=()=>{const x=()=>{c.mutate({type:e,major:t.toString(),stagingId:r.stagingId},{onSuccess:()=>{ye.success("Sukses memilih Jurusan"),i.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:b=>Pr(b)})},O=()=>console.log("cancel");t==""||!t?ye.error("Wajib pilih salah satu jurusan"):Wt.openContextModal({modal:"createInformasi",innerProps:{onAccept:x,onCancel:O,modalBody:"Anda yakin ingin memilih jurusan ini ?"}})};return g.useEffect(()=>{var x,O,b,_;s&&((x=o.data.current_state)!=null&&x.majors)?n((b=(O=o.data.current_state)==null?void 0:O.majors)==null?void 0:b.split(",")):(_=o==null?void 0:o.data)!=null&&_.major},[s,o]),a.jsx(Or,{withBorder:!0,sx:x=>({backgroundColor:`${x.colorScheme==="dark"?x.colors.dark[9]:x.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:a.jsxs(We,{children:[a.jsx(hr,{children:"Pilih Jurusan"}),e==="PEMBELIAN"&&a.jsx(M,{children:"*Anda dapat memilih lebih dari satu untuk peminatan awal"}),s&&((p=o.data.current_state)==null?void 0:p.status)==="WAITING_PAYMENT"&&((f=o.data.current_state)==null?void 0:f.type)===e?a.jsx("p",{children:"Harap menunggu konfirmasi pembayaran terlebih dahulu sebelum memilih jurusan"}):a.jsxs(a.Fragment,{children:[e==="PEMBELIAN"?a.jsx(Is,{type:"MAJOR",readOnly:!!(s&&((l=o.data.current_state)!=null&&l.majors)&&(y=o.data.current_state)!=null&&y.majors),onChange:x=>n(x),value:t&&Array.from(t)}):a.jsx(xn,{type:"MAJOR",readOnly:!!(s&&((j=o.data.current_state)!=null&&j.majors)&&(m=o.data.current_state)!=null&&m.majors),onChange:x=>n(x),value:t&&t.toString()}),a.jsx(nr,{variant:"filled",onClick:d,loading:c.isPending,disabled:!!(s&&((w=o.data.current_state)!=null&&w.majors)),children:"Submit"})]})]})})},Gs=({card:e,activeTabIndex:r})=>{const t=Ht();return a.jsx(mt.List,{sx:{display:"flex",gap:"1rem",padding:"2rem 0 1rem"},children:e&&e.length>0&&e.map((n,o)=>a.jsxs(mt.Tab,{sx:()=>({flex:1,minWidth:250}),h:"10rem",value:n.index.toString(),disabled:e[o>0?o-1:o].is_done==0||n.is_done===0,style:{position:"relative"},children:[!n.is_done&&e[o>0?o-1:o].is_done==0&&r!==n.index&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[4]}`,borderRadius:"100px",padding:"5px"},children:a.jsx(oa,{size:25})}),n.is_done&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:"white"}`,borderRadius:"100%",padding:"4px",color:"#51CF66",border:"",display:"flex",alignItems:"center"},children:a.jsx(Xn,{size:25})}),a.jsx(Se,{sx:{marginInline:"auto",width:"fit-content"},children:n.icon&&a.jsx(n.icon,{size:70})}),a.jsx(M,{weight:"bolder",mt:10,sx:{textAlign:"center"},children:n.label})]},o))})},Qs=e=>Object.keys(e).map(r=>r+"="+encodeURIComponent(e[r])).join("&");export{mr as D,ks as I,Os as R,Hs as S,Gs as T,Vs as a,Us as b,Js as c,Ws as d,Ds as e,xn as f,Qs as g,Er as h,Cr as i,Ua as u};
