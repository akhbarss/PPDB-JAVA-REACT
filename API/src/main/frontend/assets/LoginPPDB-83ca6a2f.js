import{o as x,r as u,p as h,u as g,g as f,j as e,q as j,P as b,B as c,T as v,S as w,t as S,G as k,d as y,s as L,L as P,h as N,v as T,_}from"./index-af637abb.js";import{S as C}from"./SideAuthLayout-30f82e73.js";import{R as B}from"./ResponseError-29415470.js";import{P as I}from"./PasswordInput-ead63c4a.js";const q=async s=>(await x.post("/v1/auth/login",s)).data,A=()=>{const[s,o]=u.useState(""),[n,p]=u.useState(""),i=h({mutationFn:q}),{md:a}=g(),l=f(),m=t=>{i.mutate(t,{onSuccess:r=>{_.success("Sukses Login!"),localStorage.setItem("_TuVbwpW",r.data.access_token),localStorage.setItem("_RuvTpQv",r.data.refresh_token),l("/ppdb/main/home")},onError:r=>B(r)})},d=t=>{t.preventDefault(),m({username:s,password:n})};return e.jsxs(j,{title:"Login",children:[e.jsxs(b,{pt:`${a?0:"70px"}`,className:"flex  min-h-[100vh]",children:[e.jsx(c,{className:`flex-[2] p-[0_1rem_] flex flex-col overflow-y-auto min-h-[87vh]  items-center justify-center
            ${!a&&"bg-[url(/bg-layout-auth.png)]"} bg-contain bg-no-repeat bg-right`,children:e.jsxs(c,{w:`${a?"30rem":"20rem"}`,children:[e.jsx(v,{align:"center",children:"Login"}),e.jsx("form",{onSubmit:d,className:"mt-10",children:e.jsxs(w,{children:[e.jsx(S,{withAsterisk:!0,label:"Nomor Whatsapp",required:!0,value:s,onChange:t=>o(t.target.value)}),e.jsx(I,{withAsterisk:!0,label:"Password",required:!0,value:n,onChange:t=>p(t.target.value)}),e.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",flexDirection:`${a?"row":"column"}`},children:[e.jsx(y,{className:"text-[#103C6F] text-center underline cursor-pointer",onClick:()=>{l("/ppdb"),setTimeout(()=>{L.scrollTo("ppdb",{duration:500,delay:100,smooth:!0,offset:-100})},300)},children:"Belum punya akun? daftar"}),e.jsx(P,{to:"https://wa.me/6281380908008",className:"text-[#103C6F] text-center",children:"Lupa Password?"})]}),e.jsx(N,{type:"submit",loading:i.status==="pending",children:"Login"})]})})]})}),e.jsx(C,{page:null})]}),e.jsx(T,{position:"top-center",reverseOrder:!1})]})};export{A as default};
