import{y as L,J as _r,K as Z,R as j,a3 as Fn,Z as ot,aw as An,ax as Mt,r as h,N as wr,a0 as Rn,$ as $n,a1 as st,ay as zn,az as Mn,aj as Mr,a2 as it,aA as Lr,aB as Ln,aC as Tn,aD as Nn,aE as Bn,a as Lt,j as a,ab as lt,aF as Vn,aG as Kn,B as te,d as k,ao as Tt,aH as qn,h as jr,G as Kr,aI as Hn,T as fr,aJ as Wn,o as ke,e as Un,av as Sr,b as he,aK as Gn,p as Dr,P as Nt,a6 as Bt,S as Ke,Q as Qr,aa as Ve,E as Vt,_ as qe,x as Jn,aL as He,aM as We,aN as ct,aO as ut,aP as _,aQ as Qn,aR as Yn,aS as Xn,k as Zn,aT as ea,aU as ra,au as qr,Y as ta,as as na,ap as aa,aq as oa,ar as sa,I as Kt,aV as ia,t as ur,aW as la,D as ca,v as qt,g as ua,a8 as da,i as pa,aX as fa,aY as ga}from"./index-af637abb.js";import{R as Or}from"./ResponseError-29415470.js";import{F as ma}from"./FormWrapper-eff541c3.js";function dt(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}const Ht={xs:L(16),sm:L(22),md:L(26),lg:L(30),xl:L(36)},va={xs:L(10),sm:L(12),md:L(14),lg:L(16),xl:L(18)};var ha=_r((e,{disabled:r,radius:t,readOnly:n},{size:o,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:r?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:r?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:Z({size:o,sizes:Ht}),paddingLeft:`calc(${Z({size:o,sizes:e.spacing})} / 1.5)`,paddingRight:r||n?Z({size:o,sizes:e.spacing}):0,fontWeight:500,fontSize:Z({size:o,sizes:va}),borderRadius:Z({size:t,sizes:e.radius}),cursor:r?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${L(10)})`},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${Z({size:o,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const ba=ha;var ya=Object.defineProperty,gr=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,pt=(e,r,t)=>r in e?ya(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,xa=(e,r)=>{for(var t in r||(r={}))Wt.call(r,t)&&pt(e,t,r[t]);if(gr)for(var t of gr(r))Ut.call(r,t)&&pt(e,t,r[t]);return e},_a=(e,r)=>{var t={};for(var n in e)Wt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&gr)for(var n of gr(e))r.indexOf(n)<0&&Ut.call(e,n)&&(t[n]=e[n]);return t};const wa={xs:16,sm:22,md:24,lg:26,xl:30};function Gt(e){var r=e,{label:t,classNames:n,styles:o,className:s,onRemove:i,disabled:l,readOnly:u,size:m,radius:v="sm",variant:d,unstyled:x}=r,b=_a(r,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:f,cx:y}=ba({disabled:l,readOnly:u,radius:v},{name:"MultiSelect",classNames:n,styles:o,unstyled:x,size:m,variant:d});return j.createElement("div",xa({className:y(f.defaultValue,s)},b),j.createElement("span",{className:f.defaultValueLabel},t),!l&&!u&&j.createElement(Fn,{"aria-hidden":!0,onMouseDown:i,size:wa[m],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:f.defaultValueRemove,tabIndex:-1,unstyled:x}))}Gt.displayName="@mantine/core/MultiSelect/DefaultValue";function ja({data:e,searchable:r,limit:t,searchValue:n,filter:o,value:s,disableSelectedItemFiltering:i}){if(!r&&s.length===0)return e;if(!r){const u=[];for(let m=0;m<e.length;m+=1)(i||!s.some(v=>v===e[m].value&&!e[m].disabled))&&u.push(e[m]);return u}const l=[];for(let u=0;u<e.length&&(o(n,!i&&s.some(m=>m===e[u].value&&!e[u].disabled),e[u])&&l.push(e[u]),!(l.length>=t));u+=1);return l}var Sa=Object.defineProperty,Da=Object.defineProperties,Oa=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,ka=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,gt=(e,r,t)=>r in e?Sa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ca=(e,r)=>{for(var t in r||(r={}))ka.call(r,t)&&gt(e,t,r[t]);if(ft)for(var t of ft(r))Pa.call(r,t)&&gt(e,t,r[t]);return e},Ea=(e,r)=>Da(e,Oa(r)),Ia=_r((e,{invalid:r},{size:t})=>({wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3],color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${Z({size:t,sizes:ot})} - ${L(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:Z({size:t,sizes:ot})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${L(2)}) calc(${e.spacing.xs} / 2)`},searchInput:Ea(Ca({},e.fn.fontStyles()),{flex:1,minWidth:L(60),backgroundColor:"transparent",border:0,outline:0,fontSize:Z({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:Z({size:t,sizes:Ht}),"&::placeholder":{opacity:1,color:r?e.colors.red[e.fn.primaryShade()]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}));const Fa=Ia;var Aa=Object.defineProperty,Ra=Object.defineProperties,$a=Object.getOwnPropertyDescriptors,mr=Object.getOwnPropertySymbols,Jt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,mt=(e,r,t)=>r in e?Aa(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ne=(e,r)=>{for(var t in r||(r={}))Jt.call(r,t)&&mt(e,t,r[t]);if(mr)for(var t of mr(r))Qt.call(r,t)&&mt(e,t,r[t]);return e},vt=(e,r)=>Ra(e,$a(r)),za=(e,r)=>{var t={};for(var n in e)Jt.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&mr)for(var n of mr(e))r.indexOf(n)<0&&Qt.call(e,n)&&(t[n]=e[n]);return t};function Ma(e,r,t){return r?!1:t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function La(e,r){return!!e&&!r.some(t=>t.value.toLowerCase()===e.toLowerCase())}function ht(e,r){if(!Array.isArray(e))return;if(r.length===0)return[];const t=r.map(n=>typeof n=="object"?n.value:n);return e.filter(n=>t.includes(n))}const Ta={size:"sm",valueComponent:Gt,itemComponent:An,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:Ma,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:La,switchDirectionOnFlip:!1,zIndex:Mt("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},Yt=h.forwardRef((e,r)=>{const t=wr("MultiSelect",Ta,e),{className:n,style:o,required:s,label:i,description:l,size:u,error:m,classNames:v,styles:d,wrapperProps:x,value:b,defaultValue:f,data:y,onChange:F,valueComponent:B,itemComponent:ne,id:J,transitionProps:ae,maxDropdownHeight:oe,shadow:le,nothingFound:T,onFocus:z,onBlur:q,searchable:I,placeholder:Pe,filter:be,limit:ce,clearSearchOnChange:C,clearable:A,clearSearchOnBlur:Ce,variant:Q,onSearchChange:ye,searchValue:R,disabled:V,initiallyOpened:Ee,radius:se,icon:Ie,rightSection:H,rightSectionWidth:ue,creatable:W,getCreateLabel:de,shouldCreate:Fe,onCreate:xe,sx:Ae,dropdownComponent:Re,onDropdownClose:pe,onDropdownOpen:nr,maxSelectedValues:N,withinPortal:ar,portalProps:or,switchDirectionOnFlip:fe,zIndex:Ge,selectOnBlur:$e,name:ze,dropdownPosition:Cr,errorProps:Er,labelProps:Ir,descriptionProps:c,form:g,positionDependencies:D,onKeyDown:P,unstyled:E,inputContainer:_e,inputWrapperOrder:ge,readOnly:Y,withAsterisk:Je,clearButtonProps:Qe,hoverOnSearchChange:we,disableSelectedItemFiltering:Ye}=t,Xe=za(t,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","portalProps","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:U,cx:Me,theme:Fr}=Fa({invalid:!!m},{name:"MultiSelect",classNames:v,styles:d,unstyled:E,size:u,variant:Q}),{systemStyles:bn,rest:yn}=Rn(Xe),Ar=h.useRef(),Rr=h.useRef({}),Le=$n(J),[K,M]=h.useState(Ee),[xn,me]=h.useState(-1),[Zr,_n]=h.useState("column"),[ee,sr]=st({value:R,defaultValue:"",finalValue:void 0,onChange:ye}),[wn,et]=h.useState(!1),{scrollIntoView:ir,targetRef:rt,scrollableRef:jn}=zn({duration:0,offset:5,cancelable:!1,isList:!0}),tt=W&&typeof de=="function";let $r=null;const Sn=y.map(p=>typeof p=="string"?{label:p,value:p}:p),zr=Mn({data:Sn}),[O,Te]=st({value:ht(b,y),defaultValue:ht(f,y),finalValue:[],onChange:F}),X=h.useRef(!!N&&N<O.length),nt=p=>{if(!Y){const w=O.filter(G=>G!==p);Te(w),N&&w.length<N&&(X.current=!1)}},Dn=p=>{sr(p.currentTarget.value),!V&&!X.current&&I&&M(!0)},On=p=>{typeof z=="function"&&z(p),!V&&!X.current&&I&&M(!0)},$=ja({data:zr,searchable:I,searchValue:ee,limit:ce,filter:be,value:O,disableSelectedItemFiltering:Ye});tt&&Fe(ee,zr)&&($r=de(ee),$.push({label:ee,value:ee,creatable:!0}));const je=Math.min(xn,$.length-1),at=(p,w,G)=>{let ve=p;for(;G(ve);)if(ve=w(ve),!$[ve].disabled)return ve;return p};Mr(()=>{me(we&&ee?0:-1)},[ee,we]),Mr(()=>{!V&&O.length>y.length&&M(!1),N&&O.length<N&&(X.current=!1),N&&O.length>=N&&(X.current=!0,M(!1))},[O]);const lr=p=>{if(!Y)if(C&&sr(""),O.includes(p.value))nt(p.value);else{if(p.creatable&&typeof xe=="function"){const w=xe(p.value);typeof w<"u"&&w!==null&&Te(typeof w=="string"?[...O,w]:[...O,w.value])}else Te([...O,p.value]);O.length===N-1&&(X.current=!0,M(!1)),$.length===1&&M(!1)}},kn=p=>{typeof q=="function"&&q(p),$e&&$[je]&&K&&lr($[je]),Ce&&sr(""),M(!1)},Pn=p=>{if(wn||(P==null||P(p),Y)||p.key!=="Backspace"&&N&&X.current)return;const w=Zr==="column",G=()=>{me(Se=>{var ie;const Ze=at(Se,De=>De+1,De=>De<$.length-1);return K&&(rt.current=Rr.current[(ie=$[Ze])==null?void 0:ie.value],ir({alignment:w?"end":"start"})),Ze})},ve=()=>{me(Se=>{var ie;const Ze=at(Se,De=>De-1,De=>De>0);return K&&(rt.current=Rr.current[(ie=$[Ze])==null?void 0:ie.value],ir({alignment:w?"start":"end"})),Ze})};switch(p.key){case"ArrowUp":{p.preventDefault(),M(!0),w?ve():G();break}case"ArrowDown":{p.preventDefault(),M(!0),w?G():ve();break}case"Enter":{p.preventDefault(),$[je]&&K?lr($[je]):M(!0);break}case" ":{I||(p.preventDefault(),$[je]&&K?lr($[je]):M(!0));break}case"Backspace":{O.length>0&&ee.length===0&&(Te(O.slice(0,-1)),M(!0),N&&(X.current=!1));break}case"Home":{if(!I){p.preventDefault(),K||M(!0);const Se=$.findIndex(ie=>!ie.disabled);me(Se),ir({alignment:w?"end":"start"})}break}case"End":{if(!I){p.preventDefault(),K||M(!0);const Se=$.map(ie=>!!ie.disabled).lastIndexOf(!1);me(Se),ir({alignment:w?"end":"start"})}break}case"Escape":M(!1)}},Cn=O.map(p=>{let w=zr.find(G=>G.value===p&&!G.disabled);return!w&&tt&&(w={value:p,label:p}),w}).filter(p=>!!p).map((p,w)=>j.createElement(B,vt(Ne({},p),{variant:Q,disabled:V,className:U.value,readOnly:Y,onRemove:G=>{G.preventDefault(),G.stopPropagation(),nt(p.value)},key:p.value,size:u,styles:d,classNames:v,radius:se,index:w}))),En=p=>O.includes(p),In=()=>{var p;sr(""),Te([]),(p=Ar.current)==null||p.focus(),N&&(X.current=!1)},cr=!Y&&($.length>0?K:K&&!!T);return Mr(()=>{const p=cr?nr:pe;typeof p=="function"&&p()},[cr]),j.createElement(it.Wrapper,Ne(Ne({required:s,id:Le,label:i,error:m,description:l,size:u,className:n,style:o,classNames:v,styles:d,__staticSelector:"MultiSelect",sx:Ae,errorProps:Er,descriptionProps:c,labelProps:Ir,inputContainer:_e,inputWrapperOrder:ge,unstyled:E,withAsterisk:Je,variant:Q},bn),x),j.createElement(Lr,{opened:cr,transitionProps:ae,shadow:"sm",withinPortal:ar,portalProps:or,__staticSelector:"MultiSelect",onDirectionChange:_n,switchDirectionOnFlip:fe,zIndex:Ge,dropdownPosition:Cr,positionDependencies:[...D,ee],classNames:v,styles:d,unstyled:E,variant:Q},j.createElement(Lr.Target,null,j.createElement("div",{className:U.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":K&&cr?`${Le}-items`:null,"aria-controls":Le,"aria-expanded":K,onMouseLeave:()=>me(-1),tabIndex:-1},j.createElement("input",{type:"hidden",name:ze,value:O.join(","),form:g,disabled:V}),j.createElement(it,Ne({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:Q,disabled:V,error:m,required:s,radius:se,icon:Ie,unstyled:E,onMouseDown:p=>{var w;p.preventDefault(),!V&&!X.current&&M(!K),(w=Ar.current)==null||w.focus()},classNames:vt(Ne({},v),{input:Me({[U.input]:!I},v==null?void 0:v.input)})},Ln({theme:Fr,rightSection:H,rightSectionWidth:ue,styles:d,size:u,shouldClear:A&&O.length>0,onClear:In,error:m,disabled:V,clearButtonProps:Qe,readOnly:Y})),j.createElement("div",{className:U.values,"data-clearable":A||void 0},Cn,j.createElement("input",Ne({ref:Tn(r,Ar),type:"search",id:Le,className:Me(U.searchInput,{[U.searchInputPointer]:!I,[U.searchInputInputHidden]:!K&&O.length>0||!I&&O.length>0,[U.searchInputEmpty]:O.length===0}),onKeyDown:Pn,value:ee,onChange:Dn,onFocus:On,onBlur:kn,readOnly:!I||X.current||Y,placeholder:O.length===0?Pe:void 0,disabled:V,"data-mantine-stop-propagation":K,autoComplete:"off",onCompositionStart:()=>et(!0),onCompositionEnd:()=>et(!1)},yn)))))),j.createElement(Lr.Dropdown,{component:Re||Nn,maxHeight:oe,direction:Zr,id:Le,innerRef:jn,__staticSelector:"MultiSelect",classNames:v,styles:d},j.createElement(Bn,{data:$,hovered:je,classNames:v,styles:d,uuid:Le,__staticSelector:"MultiSelect",onItemHover:me,onItemSelect:lr,itemsRefs:Rr,itemComponent:ne,size:u,nothingFound:T,isItemSelected:En,creatable:W&&!!$r,createLabel:$r,unstyled:E,variant:Q}))))});Yt.displayName="@mantine/core/MultiSelect";const Is=({card:e,activeTabIndex:r})=>{const t=Lt();return a.jsx(lt.List,{sx:{width:"100%",display:"flex",gap:"1rem",padding:"2rem 0 1rem",alignItems:"center",overflowX:"auto"},children:e&&e.length>0&&e.map((n,o)=>a.jsxs(lt.Tab,{sx:()=>({flex:1,minWidth:250}),h:"10rem",value:n.index.toString(),disabled:e[o>0?o-1:o].is_done==0||n.is_done===0,style:{position:"relative"},children:[!n.is_done&&e[o>0?o-1:o].is_done==0&&r!==n.index&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[4]}`,borderRadius:"100px",padding:"5px"},children:a.jsx(Vn,{size:25})}),n.is_done&&a.jsx("div",{style:{position:"absolute",top:-15,right:10,cursor:"not-allowed",backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[6]:"white"}`,borderRadius:"100%",padding:"4px",color:"#51CF66",border:"",display:"flex",alignItems:"center"},children:a.jsx(Kn,{size:25})}),a.jsx(te,{sx:{marginInline:"auto",width:"fit-content"},children:n.icon&&a.jsx(n.icon,{size:70})}),a.jsx(k,{weight:"bolder",mt:10,sx:{textAlign:"center"},children:n.label})]},o))})};function Fs(e){return Tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M64 64C28.7 64 0 92.7 0 128V384c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zM272 192H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16s7.2-16 16-16zM256 304c0-8.8 7.2-16 16-16H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16zM164 152v13.9c7.5 1.2 14.6 2.9 21.1 4.7c10.7 2.8 17 13.8 14.2 24.5s-13.8 17-24.5 14.2c-11-2.9-21.6-5-31.2-5.2c-7.9-.1-16 1.8-21.5 5c-4.8 2.8-6.2 5.6-6.2 9.3c0 1.8 .1 3.5 5.3 6.7c6.3 3.8 15.5 6.7 28.3 10.5l.7 .2c11.2 3.4 25.6 7.7 37.1 15c12.9 8.1 24.3 21.3 24.6 41.6c.3 20.9-10.5 36.1-24.8 45c-7.2 4.5-15.2 7.3-23.2 9V360c0 11-9 20-20 20s-20-9-20-20V345.4c-10.3-2.2-20-5.5-28.2-8.4l0 0 0 0c-2.1-.7-4.1-1.4-6.1-2.1c-10.5-3.5-16.1-14.8-12.6-25.3s14.8-16.1 25.3-12.6c2.5 .8 4.9 1.7 7.2 2.4c13.6 4.6 24 8.1 35.1 8.5c8.6 .3 16.5-1.6 21.4-4.7c4.1-2.5 6-5.5 5.9-10.5c0-2.9-.8-5-5.9-8.2c-6.3-4-15.4-6.9-28-10.7l-1.7-.5c-10.9-3.3-24.6-7.4-35.6-14c-12.7-7.7-24.6-20.5-24.7-40.7c-.1-21.1 11.8-35.7 25.8-43.9c6.9-4.1 14.5-6.8 22.2-8.5V152c0-11 9-20 20-20s20 9 20 20z"}}]})(e)}const bt=({id:e,start_date:r,end_date:t,name:n,disabled:o=!1,onClick:s})=>{const i=qn(),l=new Date(r),u=new Date(t),m=new Date,v=m>=l&&m<=u;return a.jsxs(jr,{unstyled:!0,disabled:!v||o,onClick:s,styles:d=>({root:{borderColor:`${v?"#51CF66":"red"}`,padding:"1rem",backgroundColor:`${d.colorScheme==="dark"?d.colors.dark[7]:d.white}`,cursor:"pointer",color:d.colorScheme==="dark"?"white":d.colors.gray[9],borderRadius:"8px",outline:"none","&:disabled":{cursor:"not-allowed",backgroundColor:`${i?d.colors.dark[4]:"rgba(233, 233, 233, 1)"}`}},label:{justifyContent:"space-between",display:"flex",alignItems:"center"}}),children:[a.jsxs(Kr,{children:[a.jsx(Hn,{size:30}),a.jsxs(te,{children:[a.jsx(fr,{order:3,align:"left",weight:"bolder",children:n}),a.jsxs(k,{align:"left",children:[new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})," ","-"," ",new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),a.jsx(Wn,{variant:"light",color:`${v?"green":"red"}`,size:"lg",children:v?"Dibuka":"Ditutup"})]},e)},Na=async({batchId:e,type:r})=>(await ke.put("/v1/student/choose-batch",{batch_id:e,type:r})).data,As=async e=>(await ke.get("/v1/staging/get-student-offset?type="+e)).data,kr=async(e,r)=>(await ke.get("/v1/student/get-staging-status?stagingId="+e+"&type="+r)).data,Ba=async({major:e,type:r,stagingId:t})=>(await ke.put("/v1/student/choose-major",{major:e,type:r,stagingId:t})).data,Va=async({type:e,stagingId:r})=>(await ke.put("/v1/student/print-card",{type:e,stagingId:r})).data,Ka=async e=>(await ke.post("/v1/student/upload-payment",e)).data,qa=e=>{const r=Un();return{initialValues:h.useMemo(()=>{let n=e;const o=r.search.split("?");if(o.length>0){const s=new URLSearchParams(o[1]);for(const[i,l]of s.entries())if(l!=="undefined"&&l!=="null"){const u=decodeURIComponent(l);try{n[i]=JSON.parse(u)}catch{n[i]=u}}else n[i]=null;return n}else return n},[r.search])}},Pr=e=>{const[r,t]=h.useState(e),n=qa(e);return h.useEffect(()=>{t(n==null?void 0:n.initialValues)},[n]),r},Rs=({type:e="PEMBELIAN"})=>{const r=Pr({step:1,stagingId:null}),t=Sr(),{data:n,isLoading:o,isSuccess:s}=he({queryKey:[`jalur_pendaftaran_${e}`],queryFn:()=>Gn(e)}),{data:i,isLoading:l,isSuccess:u}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>kr(r.stagingId,e),enabled:!!r.stagingId}),m=Dr({mutationFn:Na}),v=(d,x)=>{const b=()=>{m.mutate({batchId:d,type:e},{onSuccess:()=>{qe.success("Sukses memilih gelommbang pendaftaran"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:y=>Or(y)})},f=()=>{console.log("cancel")};Vt.openContextModal({modal:"createInformasi",innerProps:{onAccept:b,onCancel:f,modalBody:`Anda yakin ingin memilih ${x}?`}})};return a.jsxs(Nt,{withBorder:!0,radius:"md",sx:d=>({backgroundColor:d.colorScheme==="dark"?d.colors.dark[9]:d.white,padding:"2rem"}),children:[a.jsx(Bt,{visible:m.isPending||l}),u&&i.data.offset_data?a.jsxs(a.Fragment,{children:[a.jsx(k,{weight:500,children:"Pilihan Anda"}),a.jsx(Ke,{mt:20,children:a.jsx(bt,{...i.data.offset_data.registrationBatch})})]}):l?a.jsx(Qr,{}):a.jsxs(a.Fragment,{children:[a.jsx(k,{weight:500,children:"Pilih Salah Satu Gelombang"}),a.jsxs(Ke,{mt:20,children:[o&&a.jsx(Ve,{content:"Lorem ipsum"}),s&&n&&n.data.length>0?n.data.map(d=>a.jsx(a.Fragment,{children:a.jsx(bt,{...d,onClick:()=>v(d.id,d.name)})})):a.jsx(a.Fragment,{children:a.jsx(k,{size:"xl",weight:"bold",children:"Belum ada gelombang yang tersedia"})})]})]})]})},Xt=async e=>(await ke.get("/v1/lookup?type="+e)).data,Zt=e=>{const{data:r,isLoading:t,isSuccess:n}=he({queryFn:()=>Xt(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(Qr,{}),n&&a.jsx(Jn,{value:e.value,readOnly:e.readonly,label:e.label,onChange:e.onChange,searchable:e.searchable,data:e.data?e.data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})};var Ha=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function tr(e,r){var t=Wa(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Wa(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Ha.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Ua=[".DS_Store","Thumbs.db"];function Ga(e){return He(this,void 0,void 0,function(){return We(this,function(r){return vr(e)&&Ja(e.dataTransfer)?[2,Za(e.dataTransfer,e.type)]:Qa(e)?[2,Ya(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Xa(e)]:[2,[]]})})}function Ja(e){return vr(e)}function Qa(e){return vr(e)&&vr(e.target)}function vr(e){return typeof e=="object"&&e!==null}function Ya(e){return Hr(e.target.files).map(function(r){return tr(r)})}function Xa(e){return He(this,void 0,void 0,function(){var r;return We(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return tr(n)})]}})})}function Za(e,r){return He(this,void 0,void 0,function(){var t,n;return We(this,function(o){switch(o.label){case 0:return e.items?(t=Hr(e.items).filter(function(s){return s.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(eo))]):[3,2];case 1:return n=o.sent(),[2,yt(en(n))];case 2:return[2,yt(Hr(e.files).map(function(s){return tr(s)}))]}})})}function yt(e){return e.filter(function(r){return Ua.indexOf(r.name)===-1})}function Hr(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function eo(e){if(typeof e.webkitGetAsEntry!="function")return xt(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?rn(r):xt(e)}function en(e){return e.reduce(function(r,t){return ct(ct([],ut(r),!1),ut(Array.isArray(t)?en(t):[t]),!1)},[])}function xt(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=tr(r);return Promise.resolve(t)}function ro(e){return He(this,void 0,void 0,function(){return We(this,function(r){return[2,e.isDirectory?rn(e):to(e)]})})}function rn(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function s(){var i=this;r.readEntries(function(l){return He(i,void 0,void 0,function(){var u,m,v;return We(this,function(d){switch(d.label){case 0:if(l.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return u=d.sent(),t(u),[3,4];case 3:return m=d.sent(),n(m),[3,4];case 4:return[3,6];case 5:v=Promise.all(l.map(ro)),o.push(v),s(),d.label=6;case 6:return[2]}})})},function(l){n(l)})}s()})}function to(e){return He(this,void 0,void 0,function(){return We(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var s=tr(o,e.fullPath);t(s)},function(o){n(o)})})]})})}var no=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return t.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):o===l})}return!0};function _t(e){return so(e)||oo(e)||nn(e)||ao()}function ao(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function so(e){if(Array.isArray(e))return Wr(e)}function wt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function jt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wt(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rr(e,r){return co(e)||lo(e,r)||nn(e,r)||io()}function io(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nn(e,r){if(e){if(typeof e=="string")return Wr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wr(e,r)}}function Wr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lo(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,l;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function co(e){if(Array.isArray(e))return e}var uo="file-invalid-type",po="file-too-large",fo="file-too-small",go="too-many-files",mo=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:uo,message:"File type must be ".concat(t)}},St=function(r){return{code:po,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Dt=function(r){return{code:fo,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},vo={code:go,message:"Too many files"};function an(e,r){var t=e.type==="application/x-moz-file"||no(e,r);return[t,t?null:mo(r)]}function on(e,r,t){if(Oe(e.size))if(Oe(r)&&Oe(t)){if(e.size>t)return[!1,St(t)];if(e.size<r)return[!1,Dt(r)]}else{if(Oe(r)&&e.size<r)return[!1,Dt(r)];if(Oe(t)&&e.size>t)return[!1,St(t)]}return[!0,null]}function Oe(e){return e!=null}function ho(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,s=e.multiple,i=e.maxFiles,l=e.validator;return!s&&r.length>1||s&&i>=1&&r.length>i?!1:r.every(function(u){var m=an(u,t),v=rr(m,1),d=v[0],x=on(u,n,o),b=rr(x,1),f=b[0],y=l?l(u):null;return d&&f&&!y})}function hr(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function dr(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ot(e){e.preventDefault()}function bo(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function yo(e){return e.indexOf("Edge/")!==-1}function xo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return bo(e)||yo(e)}function re(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return r.some(function(l){return!hr(n)&&l&&l.apply(void 0,[n].concat(s)),hr(n)})}}function _o(){return"showOpenFilePicker"in window}function wo(e){if(Oe(e)){var r=Object.entries(e).filter(function(t){var n=rr(t,2),o=n[0],s=n[1],i=!0;return sn(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(ln))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,n){var o=rr(n,2),s=o[0],i=o[1];return jt(jt({},t),{},tn({},s,i))},{});return[{description:"Files",accept:r}]}return e}function jo(e){if(Oe(e))return Object.entries(e).reduce(function(r,t){var n=rr(t,2),o=n[0],s=n[1];return[].concat(_t(r),[o],_t(s))},[]).filter(function(r){return sn(r)||ln(r)}).join(",")}function So(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Do(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function sn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function ln(e){return/^.*\.[\w]+$/.test(e)}var Oo=["children"],ko=["open"],Po=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Co=["refKey","onChange","onClick"];function Eo(e){return Ao(e)||Fo(e)||cn(e)||Io()}function Io(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ao(e){if(Array.isArray(e))return Ur(e)}function Tr(e,r){return zo(e)||$o(e,r)||cn(e,r)||Ro()}function Ro(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e,r){if(e){if(typeof e=="string")return Ur(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ur(e,r)}}function Ur(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function $o(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,s=!1,i,l;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(u){s=!0,l=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function zo(e){if(Array.isArray(e))return e}function kt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kt(Object(t),!0).forEach(function(n){Gr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Gr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function br(e,r){if(e==null)return{};var t=Mo(e,r),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Mo(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Yr=h.forwardRef(function(e,r){var t=e.children,n=br(e,Oo),o=dn(n),s=o.open,i=br(o,ko);return h.useImperativeHandle(r,function(){return{open:s}},[s]),j.createElement(h.Fragment,null,t(S(S({},i),{},{open:s})))});Yr.displayName="Dropzone";var un={disabled:!1,getFilesFromEvent:Ga,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Yr.defaultProps=un;Yr.propTypes={children:_.func,accept:_.objectOf(_.arrayOf(_.string)),multiple:_.bool,preventDropOnDocument:_.bool,noClick:_.bool,noKeyboard:_.bool,noDrag:_.bool,noDragEventsBubbling:_.bool,minSize:_.number,maxSize:_.number,maxFiles:_.number,disabled:_.bool,getFilesFromEvent:_.func,onFileDialogCancel:_.func,onFileDialogOpen:_.func,useFsAccessApi:_.bool,autoFocus:_.bool,onDragEnter:_.func,onDragLeave:_.func,onDragOver:_.func,onDrop:_.func,onDropAccepted:_.func,onDropRejected:_.func,onError:_.func,validator:_.func};var Jr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function dn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=S(S({},un),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,s=r.maxSize,i=r.minSize,l=r.multiple,u=r.maxFiles,m=r.onDragEnter,v=r.onDragLeave,d=r.onDragOver,x=r.onDrop,b=r.onDropAccepted,f=r.onDropRejected,y=r.onFileDialogCancel,F=r.onFileDialogOpen,B=r.useFsAccessApi,ne=r.autoFocus,J=r.preventDropOnDocument,ae=r.noClick,oe=r.noKeyboard,le=r.noDrag,T=r.noDragEventsBubbling,z=r.onError,q=r.validator,I=h.useMemo(function(){return jo(t)},[t]),Pe=h.useMemo(function(){return wo(t)},[t]),be=h.useMemo(function(){return typeof F=="function"?F:Pt},[F]),ce=h.useMemo(function(){return typeof y=="function"?y:Pt},[y]),C=h.useRef(null),A=h.useRef(null),Ce=h.useReducer(Lo,Jr),Q=Tr(Ce,2),ye=Q[0],R=Q[1],V=ye.isFocused,Ee=ye.isFileDialogActive,se=h.useRef(typeof window<"u"&&window.isSecureContext&&B&&_o()),Ie=function(){!se.current&&Ee&&setTimeout(function(){if(A.current){var g=A.current.files;g.length||(R({type:"closeDialog"}),ce())}},300)};h.useEffect(function(){return window.addEventListener("focus",Ie,!1),function(){window.removeEventListener("focus",Ie,!1)}},[A,Ee,ce,se]);var H=h.useRef([]),ue=function(g){C.current&&C.current.contains(g.target)||(g.preventDefault(),H.current=[])};h.useEffect(function(){return J&&(document.addEventListener("dragover",Ot,!1),document.addEventListener("drop",ue,!1)),function(){J&&(document.removeEventListener("dragover",Ot),document.removeEventListener("drop",ue))}},[C,J]),h.useEffect(function(){return!n&&ne&&C.current&&C.current.focus(),function(){}},[C,ne,n]);var W=h.useCallback(function(c){z?z(c):console.error(c)},[z]),de=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c),H.current=[].concat(Eo(H.current),[c.target]),dr(c)&&Promise.resolve(o(c)).then(function(g){if(!(hr(c)&&!T)){var D=g.length,P=D>0&&ho({files:g,accept:I,minSize:i,maxSize:s,multiple:l,maxFiles:u,validator:q}),E=D>0&&!P;R({isDragAccept:P,isDragReject:E,isDragActive:!0,type:"setDraggedFiles"}),m&&m(c)}}).catch(function(g){return W(g)})},[o,m,W,T,I,i,s,l,u,q]),Fe=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c);var g=dr(c);if(g&&c.dataTransfer)try{c.dataTransfer.dropEffect="copy"}catch{}return g&&d&&d(c),!1},[d,T]),xe=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c);var g=H.current.filter(function(P){return C.current&&C.current.contains(P)}),D=g.indexOf(c.target);D!==-1&&g.splice(D,1),H.current=g,!(g.length>0)&&(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dr(c)&&v&&v(c))},[C,v,T]),Ae=h.useCallback(function(c,g){var D=[],P=[];c.forEach(function(E){var _e=an(E,I),ge=Tr(_e,2),Y=ge[0],Je=ge[1],Qe=on(E,i,s),we=Tr(Qe,2),Ye=we[0],Xe=we[1],U=q?q(E):null;if(Y&&Ye&&!U)D.push(E);else{var Me=[Je,Xe];U&&(Me=Me.concat(U)),P.push({file:E,errors:Me.filter(function(Fr){return Fr})})}}),(!l&&D.length>1||l&&u>=1&&D.length>u)&&(D.forEach(function(E){P.push({file:E,errors:[vo]})}),D.splice(0)),R({acceptedFiles:D,fileRejections:P,type:"setFiles"}),x&&x(D,P,g),P.length>0&&f&&f(P,g),D.length>0&&b&&b(D,g)},[R,l,I,i,s,u,x,b,f,q]),Re=h.useCallback(function(c){c.preventDefault(),c.persist(),ze(c),H.current=[],dr(c)&&Promise.resolve(o(c)).then(function(g){hr(c)&&!T||Ae(g,c)}).catch(function(g){return W(g)}),R({type:"reset"})},[o,Ae,W,T]),pe=h.useCallback(function(){if(se.current){R({type:"openDialog"}),be();var c={multiple:l,types:Pe};window.showOpenFilePicker(c).then(function(g){return o(g)}).then(function(g){Ae(g,null),R({type:"closeDialog"})}).catch(function(g){So(g)?(ce(g),R({type:"closeDialog"})):Do(g)?(se.current=!1,A.current?(A.current.value=null,A.current.click()):W(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):W(g)});return}A.current&&(R({type:"openDialog"}),be(),A.current.value=null,A.current.click())},[R,be,ce,B,Ae,W,Pe,l]),nr=h.useCallback(function(c){!C.current||!C.current.isEqualNode(c.target)||(c.key===" "||c.key==="Enter"||c.keyCode===32||c.keyCode===13)&&(c.preventDefault(),pe())},[C,pe]),N=h.useCallback(function(){R({type:"focus"})},[]),ar=h.useCallback(function(){R({type:"blur"})},[]),or=h.useCallback(function(){ae||(xo()?setTimeout(pe,0):pe())},[ae,pe]),fe=function(g){return n?null:g},Ge=function(g){return oe?null:fe(g)},$e=function(g){return le?null:fe(g)},ze=function(g){T&&g.stopPropagation()},Cr=h.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=c.refKey,D=g===void 0?"ref":g,P=c.role,E=c.onKeyDown,_e=c.onFocus,ge=c.onBlur,Y=c.onClick,Je=c.onDragEnter,Qe=c.onDragOver,we=c.onDragLeave,Ye=c.onDrop,Xe=br(c,Po);return S(S(Gr({onKeyDown:Ge(re(E,nr)),onFocus:Ge(re(_e,N)),onBlur:Ge(re(ge,ar)),onClick:fe(re(Y,or)),onDragEnter:$e(re(Je,de)),onDragOver:$e(re(Qe,Fe)),onDragLeave:$e(re(we,xe)),onDrop:$e(re(Ye,Re)),role:typeof P=="string"&&P!==""?P:"presentation"},D,C),!n&&!oe?{tabIndex:0}:{}),Xe)}},[C,nr,N,ar,or,de,Fe,xe,Re,oe,le,n]),Er=h.useCallback(function(c){c.stopPropagation()},[]),Ir=h.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=c.refKey,D=g===void 0?"ref":g,P=c.onChange,E=c.onClick,_e=br(c,Co),ge=Gr({accept:I,multiple:l,type:"file",style:{display:"none"},onChange:fe(re(P,Re)),onClick:fe(re(E,Er)),tabIndex:-1},D,A);return S(S({},ge),_e)}},[A,t,l,Re,n]);return S(S({},ye),{},{isFocused:V&&!n,getRootProps:Cr,getInputProps:Ir,rootRef:C,inputRef:A,open:fe(pe)})}function Lo(e,r){switch(r.type){case"focus":return S(S({},e),{},{isFocused:!0});case"blur":return S(S({},e),{},{isFocused:!1});case"openDialog":return S(S({},Jr),{},{isFileDialogActive:!0});case"closeDialog":return S(S({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return S(S({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return S(S({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return S({},Jr);default:return e}}function Pt(){}const[To,No]=Qn("Dropzone component was not found in tree");var Ct=Object.getOwnPropertySymbols,Bo=Object.prototype.hasOwnProperty,Vo=Object.prototype.propertyIsEnumerable,Ko=(e,r)=>{var t={};for(var n in e)Bo.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&Ct)for(var n of Ct(e))r.indexOf(n)<0&&Vo.call(e,n)&&(t[n]=e[n]);return t};function Xr(e){const r=t=>{const n=wr(`Dropzone${dt(e)}`,{},t),{children:o}=n,s=Ko(n,["children"]),i=No(),l=Yn(o)?o:j.createElement("span",null,o);return i[e]?h.cloneElement(l,s):null};return r.displayName=`@mantine/dropzone/${dt(e)}`,r}const qo=Xr("accept"),Ho=Xr("reject"),Wo=Xr("idle");var Uo=Object.defineProperty,Go=Object.defineProperties,Jo=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,It=(e,r,t)=>r in e?Uo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ft=(e,r)=>{for(var t in r||(r={}))Qo.call(r,t)&&It(e,t,r[t]);if(Et)for(var t of Et(r))Yo.call(r,t)&&It(e,t,r[t]);return e},Xo=(e,r)=>Go(e,Jo(r)),Zo=_r((e,{padding:r,radius:t})=>{const n=e.fn.variant({color:"red",variant:"light"}),o=e.fn.variant({color:e.primaryColor,variant:"light"});return{root:Xo(Ft(Ft({},e.fn.fontStyles()),e.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${L(2)} dashed ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,padding:Z({size:r,sizes:e.spacing}),borderRadius:e.fn.radius(t),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}},"&[data-accept]":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0],borderColor:e.colorScheme==="dark"?o.border:e.colors[e.primaryColor][4],"&:hover":{backgroundColor:e.colorScheme==="dark"?o.background:e.colors[e.primaryColor][0]}},"&[data-reject]":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0],borderColor:e.colorScheme==="dark"?n.border:e.colors.red[4],"&:hover":{backgroundColor:e.colorScheme==="dark"?n.background:e.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}});const es=Zo;var rs=Object.defineProperty,ts=Object.defineProperties,ns=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,pn=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,At=(e,r,t)=>r in e?rs(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,er=(e,r)=>{for(var t in r||(r={}))pn.call(r,t)&&At(e,t,r[t]);if(yr)for(var t of yr(r))fn.call(r,t)&&At(e,t,r[t]);return e},Nr=(e,r)=>ts(e,ns(r)),as=(e,r)=>{var t={};for(var n in e)pn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&yr)for(var n of yr(e))r.indexOf(n)<0&&fn.call(e,n)&&(t[n]=e[n]);return t};const os={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function Ue(e){const r=wr("Dropzone",os,e),{className:t,padding:n,radius:o,disabled:s,classNames:i,styles:l,loading:u,multiple:m,maxSize:v,accept:d,children:x,onDropAny:b,onDrop:f,onReject:y,openRef:F,name:B,unstyled:ne,maxFiles:J,autoFocus:ae,activateOnClick:oe,activateOnDrag:le,dragEventsBubbling:T,activateOnKeyboard:z,onDragEnter:q,onDragLeave:I,onDragOver:Pe,onFileDialogCancel:be,onFileDialogOpen:ce,preventDropOnDocument:C,useFsAccessApi:A,getFilesFromEvent:Ce,validator:Q,variant:ye}=r,R=as(r,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:V,cx:Ee}=es({radius:o,padding:n},{name:"Dropzone",classNames:i,styles:l,unstyled:ne,variant:ye}),{getRootProps:se,getInputProps:Ie,isDragAccept:H,isDragReject:ue,open:W}=dn(er({onDrop:b,onDropAccepted:f,onDropRejected:y,disabled:s||u,accept:Array.isArray(d)?d.reduce((Fe,xe)=>Nr(er({},Fe),{[xe]:[]}),{}):d,multiple:m,maxSize:v,maxFiles:J,autoFocus:ae,noClick:!oe,noDrag:!le,noDragEventsBubbling:!T,noKeyboard:!z,onDragEnter:q,onDragLeave:I,onDragOver:Pe,onFileDialogCancel:be,onFileDialogOpen:ce,preventDropOnDocument:C,useFsAccessApi:A,validator:Q},Ce?{getFilesFromEvent:Ce}:null));Xn(F,W);const de=!H&&!ue;return j.createElement(To,{value:{accept:H,reject:ue,idle:de}},j.createElement(te,Nr(er(er({},R),se()),{"data-accept":H||void 0,"data-reject":ue||void 0,"data-idle":de||void 0,"data-loading":u||void 0,className:Ee(V.root,t)}),j.createElement(Bt,{visible:u,radius:o,unstyled:ne}),j.createElement("input",Nr(er({},Ie()),{name:B})),j.createElement("div",{className:V.inner},x)))}Ue.displayName="@mantine/dropzone/Dropzone";Ue.Accept=qo;Ue.Reject=Ho;Ue.Idle=Wo;const gn=Ue;var ss=Object.defineProperty,is=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,Rt=Object.getOwnPropertySymbols,cs=Object.prototype.hasOwnProperty,us=Object.prototype.propertyIsEnumerable,$t=(e,r,t)=>r in e?ss(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ds=(e,r)=>{for(var t in r||(r={}))cs.call(r,t)&&$t(e,t,r[t]);if(Rt)for(var t of Rt(r))us.call(r,t)&&$t(e,t,r[t]);return e},ps=(e,r)=>is(e,ls(r)),fs=_r(e=>({wrapper:ps(ds({},e.fn.cover(0)),{position:"fixed",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,display:"flex",padding:e.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}}));const gs=fs;var ms=Object.defineProperty,vs=Object.defineProperties,hs=Object.getOwnPropertyDescriptors,xr=Object.getOwnPropertySymbols,mn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable,zt=(e,r,t)=>r in e?ms(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Br=(e,r)=>{for(var t in r||(r={}))mn.call(r,t)&&zt(e,t,r[t]);if(xr)for(var t of xr(r))vn.call(r,t)&&zt(e,t,r[t]);return e},Vr=(e,r)=>vs(e,hs(r)),bs=(e,r)=>{var t={};for(var n in e)mn.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&xr)for(var n of xr(e))r.indexOf(n)<0&&vn.call(e,n)&&(t[n]=e[n]);return t};const ys={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Mt("max"),withinPortal:!0};function hn(e){const r=wr("DropzoneFullScreen",ys,e),{classNames:t,styles:n,sx:o,className:s,style:i,unstyled:l,active:u,onDrop:m,onReject:v,zIndex:d,withinPortal:x,portalProps:b}=r,f=bs(r,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[y,F]=j.useState(0),[B,{open:ne,close:J}]=Zn(!1),{classes:ae,cx:oe}=gs(null,{name:"DropzoneFullScreen",classNames:t,styles:n,unstyled:l}),le=z=>{z.dataTransfer.types.includes("Files")&&(F(q=>q+1),ne())},T=()=>{F(z=>z-1)};return h.useEffect(()=>{y===0&&J()},[y]),h.useEffect(()=>{if(u)return document.addEventListener("dragenter",le,!1),document.addEventListener("dragleave",T,!1),()=>{document.removeEventListener("dragenter",le,!1),document.removeEventListener("dragleave",T,!1)}},[u]),j.createElement(ea,Vr(Br({},b),{withinPortal:x}),j.createElement(te,{className:oe(ae.wrapper,s),sx:o,style:Vr(Br({},i),{opacity:B?1:0,pointerEvents:B?"all":"none",zIndex:d})},j.createElement(Ue,Vr(Br({},f),{classNames:t,styles:n,unstyled:l,className:ae.dropzone,onDrop:z=>{m==null||m(z),J()},onReject:z=>{v==null||v(z),J()}}))))}hn.displayName="@mantine/dropzone/DropzoneFullScreen";const Be={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",mp4:"video/mp4",zip:"application/zip",csv:"text/csv",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",exe:"application/vnd.microsoft.portable-executable"},xs=[Be.png,Be.gif,Be.jpeg,Be.svg,Be.webp,Be.avif];gn.FullScreen=hn;const pr=gn;function _s(e){return Tt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}function ws({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o,onChange:s,...i}){var d;const{field:{value:l,onChange:u,...m},fieldState:v}=ra({name:e,control:r,defaultValue:t,rules:n,shouldUnregister:o});return a.jsx(a.Fragment,{children:a.jsx(qr.Group,{label:i.label,description:i.description,value:l,onChange:x=>{u(x),s==null||s(x)},error:(d=v.error)==null?void 0:d.message,...m,...i})})}const js=()=>{var l,u,m,v;const e=Lt(),{register:r,control:t,setValue:n,formState:{errors:o},watch:s}=ta(),i=s("payment_method");return a.jsxs(Ke,{spacing:10,children:[a.jsx(na,{render:({field:{onChange:d,value:x}})=>a.jsxs(pr,{multiple:!1,onChange:b=>{var f;return d(((f=b.target.files)==null?void 0:f[0])??null)},onReject:b=>{b[0].errors[0].code=="file-too-large"&&qe.error("Size gambar terlalu besar dari 5MB")},maxSize:3*1024**2,accept:xs,onDrop:b=>{d(b)},children:[a.jsxs(Kr,{position:"center",spacing:"xl",style:{minHeight:L(220),pointerEvents:"none"},children:[a.jsx(pr.Accept,{children:a.jsx(aa,{size:"3.2rem",color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6]})}),a.jsx(pr.Reject,{children:a.jsx(_s,{size:"3.2rem",color:e.colors.red[e.colorScheme==="dark"?4:6]})}),a.jsx(pr.Idle,{children:a.jsx(oa,{size:"3.2rem"})}),a.jsx(k,{size:"",children:"Upload Bukti Bayar, Max : 5MB"})]}),a.jsx(sa,{cols:4,mt:5,breakpoints:[{maxWidth:"sm",cols:1}],children:x&&x.map((b,f)=>{const y=URL.createObjectURL(b);return a.jsx(Kt,{src:y,w:20,imageProps:{onLoad:()=>URL.revokeObjectURL(y)}},f)})})]}),name:"payment_prove",control:t}),a.jsx(ia,{thousandSeparator:".",decimalSeparator:",",prefix:"Rp. ",customInput:ur,error:o.amount&&a.jsx("div",{children:(l=o.amount)==null?void 0:l.message}),placeholder:"Rp. 0",label:"Input Nominal",description:"Input Nominal",required:!0,...r("amount",{required:!1,valueAsNumber:!0}),onValueChange:d=>{n("amount",d.floatValue)}}),a.jsx(ws,{name:"payment_method",control:t,label:"Metode Pembayaran",description:"Pilih salah satu",children:a.jsxs(Kr,{mt:"xs",children:[a.jsx(qr,{value:"CASH",label:"Tunai"}),a.jsx(qr,{value:"TRANSFER",label:"Transfer"})]})}),i&&i==="TRANSFER"&&a.jsxs(a.Fragment,{children:[a.jsx(ur,{description:"Masukkan nama bank",label:"Nama Bank",placeholder:"Bank BCA,BNI",withAsterisk:!0,error:o.bank_name&&a.jsx("div",{children:(u=o.bank_name)==null?void 0:u.message}),required:!0,...r("bank_name",{required:!0})}),a.jsx(ur,{label:"Nomor Rekening",description:"Masukkan nomor rekening",withAsterisk:!0,type:"number",error:o.bank_account&&a.jsx("div",{children:(m=o.bank_account)==null?void 0:m.message}),required:!0,...r("bank_account",{required:!0})}),a.jsx(ur,{label:"Nama Pemilik Rekening",description:"Masukkan nama pemilik rekening",withAsterisk:!0,error:o.bank_user&&a.jsx("div",{children:(v=o.bank_user)==null?void 0:v.message}),required:!0,...r("bank_user",{required:!0})})]})]})},Ss=()=>a.jsxs(te,{sx:e=>({backgroundColor:`${e.colorScheme==="dark"?e.colors.dark[7]:e.white}`,padding:"4rem 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:[a.jsx("img",{src:"/svg/wait-pembelianformulir.svg",alt:"image",style:{width:"250px"}}),a.jsx(k,{mt:40,sx:{maxWidth:500},weight:"bold",align:"center",children:"Bukti anda telah di upload"})]}),Ds=(e,r)=>{var t=e.toString(),n=t.replace(/[^,\d]/g,"").toString(),o=n.split(","),s=o[0].length%3,i=o[0].substr(0,s),l=o[0].substr(s).match(/\d{3}/gi);return l&&(i+=(s?".":"")+l.join(".")),i=o[1]!=null?i+","+o[1]:i,r==null?i:i?r+i+",-":""},Os={CASH:"Tunai",TRANSFER:"Transfer"},$s=({type:e="PEMBELIAN"})=>{var m,v,d,x,b;const r=Pr({step:2,stagingId:null}),t=Sr(),n=Dr({mutationFn:Ka}),{data:o,isLoading:s,isSuccess:i}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>kr(r.stagingId,e),enabled:!!r.stagingId}),l=h.useMemo(()=>[{id:"Metode Pembayaran",header:"Metode Pembayaran",accessorFn:f=>Os[f.method]},{id:"Bank",header:"Bank",accessorFn:f=>f.bank_name},{id:"Nomor Rekening",header:"Nomor Rekening",accessorFn:f=>f.bank_account},{id:"Atas Nama",header:"Atas Nama",accessorFn:f=>f.bank_user}],[]),u=f=>{const y=new FormData;for(const[F,B]of Object.entries(f))F==="payment_prove"?y.append("file",B==null?void 0:B[0]):y.append(F,B);y.append("type",e),n.mutate(y,{onSuccess:()=>{qe.success("Sukses upload bukti bayar"),t.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:F=>Or(F)})};return a.jsxs(te,{sx:f=>({backgroundColor:`${f.colorScheme==="dark"?f.colors.dark[7]:f.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:[a.jsxs(Ke,{children:[a.jsx(fr,{children:"Bayar Pendaftaran"}),a.jsx(k,{className:"font-semibold",children:"Silahkan melakukan transfer ke rekening dibawah ini jika anda memilih metode pembayaran transfer :"}),a.jsx("table",{className:"w-full overflow-x-auto",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Bank"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:(m=o.data.registration_batch)==null?void 0:m.bank_name})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nominal yang harus dibayarkan"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:Ds(((v=o.data.registration_batch)==null?void 0:v.price)??"0","Rp ")})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Nomor Rekening"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:(d=o.data.registration_batch)==null?void 0:d.bank_account})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Atas Nama"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsxs(k,{children:[":"," ",a.jsx(k,{component:"span",weight:"bold",children:(x=o.data.registration_batch)==null?void 0:x.bank_user})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Status Pembayaran"}),a.jsxs("td",{children:[s&&a.jsx(Ve,{content:"Lorem Ipsum"}),i&&a.jsx(Zt,{type:"STATUS",readonly:!0,value:(b=o.data.payment_status)==null?void 0:b.status})]})]})]})})]}),i&&o.data.payment_status?a.jsxs(a.Fragment,{children:[a.jsx(Ss,{}),a.jsx(te,{mt:10,w:"100%",children:a.jsx(la,{useHeader:!0,data:[{...o.data.payment_status}],columns:l,noCard:!0,usePagination:!1})})]}):a.jsxs(ma,{id:"form-uploadbukti",onSubmit:u,children:[a.jsx(fr,{order:3,my:50,children:"Bukti Transfer"}),a.jsx(ca,{}),a.jsx(js,{}),a.jsx(jr,{type:"submit",mt:10,children:"Submit"})]}),a.jsx(qt,{position:"top-center",reverseOrder:!0})]})},zs=e=>Object.keys(e).map(r=>r+"="+encodeURIComponent(e[r])).join("&"),Ms=({type:e="PEMBELIAN"})=>{var v,d,x;const r=Pr({step:3,stagingId:null}),{data:t,isSuccess:n}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>kr(r.stagingId,e),enabled:!!r.stagingId}),o=ua(),s=Sr(),i=Dr({mutationFn:Va}),{isSuccess:l,data:u}=he({queryFn:da,queryKey:["session"]}),m=()=>{i.mutate({type:e,stagingId:r.stagingId},{onSuccess:()=>{qe.success("Selamat anda telah menyelesaikan satu rangkaian tahapan"),o("/ppdb/main/pengembalian"),s.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:b=>Or(b)})};return a.jsxs(Nt,{withBorder:!0,radius:"md",sx:b=>({backgroundColor:b.colorScheme==="dark"?b.colors.dark[9]:b.white,padding:"2rem"}),children:[a.jsx(k,{align:"center",weight:500,size:"xl",children:e==="PEMBELIAN"?"Selamat anda telah terdaftar disistem kami, silahkan klik selesai untuk ke halaman Jalur Pendaftaran/Pengembalian":"Selamat anda telah terdaftar menjadi calon siswa, harap menunggu informasi lebih lanjut"}),a.jsxs(Ke,{align:"center",children:[a.jsxs(pa,{mt:30,sx:b=>({background:"linear-gradient(to bottom, #2A166F, #420BFF)",width:"30rem",height:"15rem",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",scale:"1",[b.fn.smallerThan("md")]:{scale:"0.7"}}),children:[a.jsx("div",{style:{background:"white",position:"absolute",top:15,height:"10px",color:"transparent",width:"100%"},children:"a"}),a.jsx("div",{style:{background:"white",position:"absolute",top:30,height:"10px",color:"transparent",width:"100%"},children:"a"}),a.jsx(Kt,{src:"/logo-yatindo-hd.png",width:70,sx:{position:"absolute",top:5,right:15}}),a.jsxs(te,{sx:{display:"flex",gap:"1.2rem",alignItems:"center"},children:[a.jsx(fa,{size:80,color:"#FF0101",variant:"filled",children:a.jsx(ga,{size:60})}),a.jsxs(te,{children:[a.jsxs(k,{color:"white",children:["Nama"," ",a.jsxs(k,{component:"span",align:"center",children:[": ",(l&&((d=(v=u.data)==null?void 0:v.student)==null?void 0:d.name))??"-"]})]}),a.jsxs(k,{color:"white",children:["Jurusan : ",(n&&((x=t.data.major)==null?void 0:x.name))??"-"]})]})]}),a.jsx(k,{color:"#FFFFFF",size:"xs",sx:{position:"absolute",bottom:5,left:10},children:"ID : aebdbb6a-6b62-11ee-b962-0242ac120002"})]}),a.jsx(jr,{onClick:m,loading:i.isPending,sx:{margin:"50px auto"},children:"Selesai"})]})]})},ks=e=>{const{data:r,isLoading:t,isSuccess:n}=he({queryFn:()=>Xt(e.type),queryKey:["get_lookup_data",e.type]});return a.jsxs(a.Fragment,{children:[t&&a.jsx(Qr,{}),n&&a.jsx(Yt,{value:e.value,readOnly:e.readonly,label:e.label,onChange:e.onChange,searchable:e.searchable,data:n&&r.data.map(o=>({value:o.value,label:o.name})),...e})]})},Ls=({type:e="PEMBELIAN"})=>{var m,v,d,x,b;const r=Pr({step:3,stagingId:null}),[t,n]=h.useState(null),{data:o,isSuccess:s}=he({queryKey:["student_staging_offset",r.stagingId,e],queryFn:()=>kr(r.stagingId,e),enabled:!!r.stagingId}),i=Sr(),l=Dr({mutationFn:Ba}),u=()=>{const f=()=>{l.mutate({type:e,major:t.toString(),stagingId:r.stagingId},{onSuccess:()=>{qe.success("Sukses memilih Jurusan"),i.invalidateQueries({queryKey:["get_last_offset_batch"]})},onError:F=>Or(F)})},y=()=>console.log("cancel");t==""||!t?qe.error("Wajib pilih salah satu jurusan"):Vt.openContextModal({modal:"createInformasi",innerProps:{onAccept:f,onCancel:y,modalBody:"Anda yakin ingin memilih jurusan ini ?"}})};return h.useEffect(()=>{var f,y;s&&o.data.offset_data&&n((y=(f=o.data.offset_data)==null?void 0:f.majors)==null?void 0:y.split(","))},[s,o]),a.jsxs(te,{sx:f=>({backgroundColor:`${f.colorScheme==="dark"?f.colors.dark[7]:f.white}`,padding:"2rem",boxShadow:"0 5px 10px -8px black",borderRadius:"7px"}),children:[a.jsxs(Ke,{children:[a.jsx(fr,{children:"Pilih Jurusan"}),e==="PEMBELIAN"&&a.jsx(k,{children:"*Anda dapat memilih lebih dari satu untuk peminatan awal"}),s&&((m=o.data.current_state)==null?void 0:m.status)==="WAITING_PAYMENT"&&((v=o.data.current_state)==null?void 0:v.type)===e?a.jsx("p",{children:"Harap menunggu konfirmasi pembayaran terlebih dahulu sebelum memilih jurusan"}):a.jsxs(a.Fragment,{children:[e==="PEMBELIAN"?a.jsx(ks,{type:"MAJOR",readonly:!!(s&&((d=o.data.offset_data)!=null&&d.majors)),onChange:f=>n(f),value:t&&Array.from(t)}):a.jsx(Zt,{type:"MAJOR",readonly:!!(s&&((x=o.data.offset_data)!=null&&x.majors)),onChange:f=>n(f),value:t&&t.toString()}),a.jsx(jr,{variant:"filled",onClick:u,loading:l.isPending,disabled:!!(s&&((b=o.data.offset_data)!=null&&b.majors)),children:"Submit"})]})]}),a.jsx(qt,{position:"top-center"})]})};export{pr as D,Fs as F,_s as I,ws as R,Rs as S,Is as T,$s as a,Ls as b,Ms as c,As as d,xs as e,Zt as f,zs as g,Pr as h,kr as i,qa as u};
