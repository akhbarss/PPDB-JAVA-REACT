import{r as s,bU as K,x as V,C as X,W as Z,an as J,R as E,ab as T}from"./index-c1683f52.js";function Q(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}var ee=s.useLayoutEffect,te=function(t){var e=s.useRef(t);return ee(function(){e.current=t}),e},F=function(t,e){if(typeof t=="function"){t(e);return}t.current=e},re=function(t,e){var r=s.useRef();return s.useCallback(function(i){t.current=i,r.current&&F(r.current,null),r.current=e,e&&F(e,i)},[e])},I={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},j=function(t){Object.keys(I).forEach(function(e){t.style.setProperty(e,I[e],"important")})},o=null,ne=function(t,e){var r=t.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?r+e.borderSize:r-e.paddingSize};function ie(n,t,e,r){e===void 0&&(e=1),r===void 0&&(r=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),j(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,a=n.borderSize,d=n.sizingStyle,f=d.boxSizing;Object.keys(d).forEach(function(v){var m=v;o.style[m]=d[m]}),j(o),o.value=t;var u=ne(o,n);o.value="x";var h=o.scrollHeight-i,l=h*e;f==="border-box"&&(l=l+i+a),u=Math.max(l,u);var c=h*r;return f==="border-box"&&(c=c+i+a),u=Math.min(c,u),[u,h]}var A=function(){},ae=function(t,e){return t.reduce(function(r,i){return r[i]=e[i],r},{})},oe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],se=!!document.documentElement.currentStyle,de=function(t){var e=window.getComputedStyle(t);if(e===null)return null;var r=ae(oe,e),i=r.boxSizing;if(i==="")return null;se&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),d=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:d}},ue=function(t){var e=te(t);s.useLayoutEffect(function(){var r=function(a){e.current(a)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},le=function(t,e){var r=t.cacheMeasurements,i=t.maxRows,a=t.minRows,d=t.onChange,f=d===void 0?A:d,u=t.onHeightChange,h=u===void 0?A:u,l=Q(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),c=l.value!==void 0,v=s.useRef(null),m=re(v,e),g=s.useRef(0),x=s.useRef(),b=function(){var p=v.current,z=r&&x.current?x.current:de(p);if(z){x.current=z;var _=ie(z,p.value||p.placeholder||"x",a,i),y=_[0],C=_[1];g.current!==y&&(g.current=y,p.style.setProperty("height",y+"px","important"),h(y,{rowHeight:C}))}},w=function(p){c||b(),f(p)};return s.useLayoutEffect(b),ue(b),s.createElement("textarea",K({},l,{onChange:w,ref:m}))},ce=s.forwardRef(le);const pe=ce;var fe=V(n=>({input:{paddingTop:n.spacing.xs,paddingBottom:n.spacing.xs}}));const he=fe;var ge=Object.defineProperty,ve=Object.defineProperties,me=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,k=(n,t,e)=>t in n?ge(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,S=(n,t)=>{for(var e in t||(t={}))B.call(t,e)&&k(n,e,t[e]);if(R)for(var e of R(t))M.call(t,e)&&k(n,e,t[e]);return n},O=(n,t)=>ve(n,me(t)),xe=(n,t)=>{var e={};for(var r in n)B.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&R)for(var r of R(n))t.indexOf(r)<0&&M.call(n,r)&&(e[r]=n[r]);return e};const be={autosize:!1,size:"sm",__staticSelector:"Textarea"},ye=s.forwardRef((n,t)=>{const e=X("Textarea",be,n),{autosize:r,maxRows:i,minRows:a,label:d,error:f,description:u,id:h,className:l,required:c,style:v,wrapperProps:m,classNames:g,styles:x,size:b,__staticSelector:w,sx:P,errorProps:p,descriptionProps:z,labelProps:_,inputWrapperOrder:y,inputContainer:C,unstyled:H,withAsterisk:$,variant:L}=e,D=xe(e,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk","variant"]),W=Z(h),{classes:q,cx:U}=he(),{systemStyles:Y,rest:G}=J(D),N=S({required:c,ref:t,error:f,id:W,classNames:O(S({},g),{input:U(q.input,g==null?void 0:g.input)}),styles:x,__staticSelector:w,size:b,multiline:!0,unstyled:H,variant:L},G);return E.createElement(T.Wrapper,S(S({label:d,error:f,id:W,description:u,required:c,style:v,className:l,classNames:g,styles:x,size:b,__staticSelector:w,sx:P,errorProps:p,labelProps:_,descriptionProps:z,inputContainer:C,inputWrapperOrder:y,unstyled:H,withAsterisk:$,variant:L},Y),m),r?E.createElement(T,O(S({},N),{component:pe,maxRows:i,minRows:a})):E.createElement(T,O(S({},N),{component:"textarea",rows:a})))});ye.displayName="@mantine/core/Textarea";export{ye as T};
